<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>QueryPlan.scala</title>
        <script type="text/javascript" src="jquery-all.js"></script>
        <script type="text/javascript" src="linked.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> edu.berkeley.cs.scads.piql
<span class="keyword">package</span> plans

<span class="keyword">import</span> org.apache.avro.generic.<span class="delimiter">{</span>GenericData, IndexedRecord<span class="delimiter">}</span>

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Value extends java.lang.Object with ScalaObject" id="9599">Value</a> <a href="#9599" title="ScalaObject" class="delimiter">{</a>
  <span class="keyword">def</span> <a title="(value: edu.berkeley.cs.scads.piql.plans.Value)edu.berkeley.cs.scads.piql.plans.EqualityPredicate" id="25004">===</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.plans.Value" id="50735">value</a>: <a href="#9599" title="edu.berkeley.cs.scads.piql.plans.Value">Value</a><span class="delimiter">)</span> = <a href="#51737" title="(v1: edu.berkeley.cs.scads.piql.plans.Value, v2: edu.berkeley.cs.scads.piql.plans.Value)edu.berkeley.cs.scads.piql.plans.EqualityPredicate">EqualityPredicate</a><span class="delimiter">(</span><a href="#9599" title="edu.berkeley.cs.scads.piql.plans.Value" class="keyword">this</a>, <a href="#50735" title="edu.berkeley.cs.scads.piql.plans.Value">value</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(value: edu.berkeley.cs.scads.piql.plans.Value)edu.berkeley.cs.scads.piql.plans.LikePredicate" id="25005">like</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.plans.Value" id="50740">value</a>: <a href="#9599" title="edu.berkeley.cs.scads.piql.plans.Value">Value</a><span class="delimiter">)</span> = <a href="#51733" title="(v1: edu.berkeley.cs.scads.piql.plans.Value, v2: edu.berkeley.cs.scads.piql.plans.Value)edu.berkeley.cs.scads.piql.plans.LikePredicate">LikePredicate</a><span class="delimiter">(</span><a href="#9599" title="edu.berkeley.cs.scads.piql.plans.Value" class="keyword">this</a>, <a href="#50740" title="edu.berkeley.cs.scads.piql.plans.Value">value</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/* Fixed Values.  i.e. Values that arent depended on a specific tuple */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class FixedValue extends edu.berkeley.cs.scads.piql.plans.Value with ScalaObject" id="9600">FixedValue</a> <a href="#9600" title="ScalaObject" class="keyword">extends</a> <a href="#9599" title="edu.berkeley.cs.scads.piql.plans.Value">Value</a>
case <span class="keyword">class</span> <a title="class ConstantValue extends edu.berkeley.cs.scads.piql.plans.FixedValue with ScalaObject with Product with Serializable" id="51761">ConstantValue</a><a href="#51761" title="ScalaObject" class="delimiter">(</a><a title="Any" id="25013">v</a>: <span title="Any">Any</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9600" title="edu.berkeley.cs.scads.piql.plans.FixedValue">FixedValue</a>
case <span class="keyword">class</span> <a title="class ParameterValue extends edu.berkeley.cs.scads.piql.plans.FixedValue with ScalaObject with Product with Serializable" id="51757">ParameterValue</a><a href="#51757" title="ScalaObject" class="delimiter">(</a><a title="Int" id="25033">ordinal</a>: <span title="Int">Int</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9600" title="edu.berkeley.cs.scads.piql.plans.FixedValue">FixedValue</a>

<span class="comment">/* Attibute Values */</span>
case <span class="keyword">class</span> <a title="class AttributeValue extends edu.berkeley.cs.scads.piql.plans.Value with ScalaObject with Product with Serializable" id="51753">AttributeValue</a><a href="#51753" title="ScalaObject" class="delimiter">(</a><a title="Int" id="48509">recordPosition</a>: <span title="Int">Int</span>, <a title="Int" id="48510">fieldPosition</a>: <span title="Int">Int</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9599" title="edu.berkeley.cs.scads.piql.plans.Value">Value</a>
case <span class="keyword">class</span> <a title="class UnboundAttributeValue extends edu.berkeley.cs.scads.piql.plans.Value with ScalaObject with Product with Serializable" id="51749">UnboundAttributeValue</a><a href="#51749" title="ScalaObject" class="delimiter">(</a><a title="String" id="25065">name</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9599" title="edu.berkeley.cs.scads.piql.plans.Value">Value</a> <span class="delimiter">{</span>
  <span class="keyword">protected</span> <span class="keyword">val</span> <a title="scala.util.matching.Regex" id="25059">qualifiedAttribute</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;([^\.]+)\.([^\.]+)&quot;&quot;&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>
  <span class="keyword">def</span> <a title="=&gt; Option[String]" id="25061">relationName</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#25065" title="=&gt; String">name</a> <span title="Option[String]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="#25059" title="Some[String]">qualifiedAttribute</a><span class="delimiter">(</span><a title="String" id="50855">r</a>,<a title="String" id="50856">f</a><span class="delimiter">)</span> =&gt; <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><a href="#50855" title="String">r</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="None.type">_</span> =&gt; <span title="object None">None</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">def</span> <a title="=&gt; String" id="25062">unqualifiedName</a>: <span title="String">String</span>  = <a href="#25065" title="=&gt; String">name</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="#25059" title="String">qualifiedAttribute</a><span class="delimiter">(</span><a title="String" id="50861">r</a>,<a title="String" id="50862">f</a><span class="delimiter">)</span> =&gt; <a href="#50862" title="String">f</a>
    <span class="keyword">case</span> <span title="String">_</span> =&gt; <a href="#25065" title="=&gt; String">name</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Limit extends java.lang.Object with ScalaObject" id="9613">Limit</a>
case <span class="keyword">class</span> <a title="class FixedLimit extends edu.berkeley.cs.scads.piql.plans.Limit with ScalaObject with Product with Serializable" id="51745">FixedLimit</a><a href="#51745" title="ScalaObject" class="delimiter">(</a><a title="Int" id="43718">count</a>: <span title="Int">Int</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9613" title="edu.berkeley.cs.scads.piql.plans.Limit">Limit</a>
case <span class="keyword">class</span> <a title="class ParameterLimit extends edu.berkeley.cs.scads.piql.plans.Limit with ScalaObject with Product with Serializable" id="51741">ParameterLimit</a><a href="#51741" title="ScalaObject" class="delimiter">(</a><a title="Int" id="43731">ordinal</a>: <span title="Int">Int</span>, <a title="Int" id="43732">max</a>: <span title="Int">Int</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9613" title="edu.berkeley.cs.scads.piql.plans.Limit">Limit</a>

<span class="keyword">trait</span> <a title="trait Predicate extends java.lang.Object" id="9620">Predicate</a>
case <span class="keyword">class</span> <a title="class EqualityPredicate extends java.lang.Object with edu.berkeley.cs.scads.piql.plans.Predicate with ScalaObject with Product with Serializable" id="51737">EqualityPredicate</a><a href="#51737" title="ScalaObject" class="delimiter">(</a><a title="edu.berkeley.cs.scads.piql.plans.Value" id="49322">v1</a>: <a href="#9599" title="edu.berkeley.cs.scads.piql.plans.Value">Value</a>, <a title="edu.berkeley.cs.scads.piql.plans.Value" id="49323">v2</a>: <a href="#9599" title="edu.berkeley.cs.scads.piql.plans.Value">Value</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9620" title="edu.berkeley.cs.scads.piql.plans.Predicate">Predicate</a>
case <span class="keyword">class</span> <a title="class LikePredicate extends java.lang.Object with edu.berkeley.cs.scads.piql.plans.Predicate with ScalaObject with Product with Serializable" id="51733">LikePredicate</a><a href="#51733" title="ScalaObject" class="delimiter">(</a><a title="edu.berkeley.cs.scads.piql.plans.Value" id="50755">v1</a>: <a href="#9599" title="edu.berkeley.cs.scads.piql.plans.Value">Value</a>, <a title="edu.berkeley.cs.scads.piql.plans.Value" id="50756">v2</a>: <a href="#9599" title="edu.berkeley.cs.scads.piql.plans.Value">Value</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9620" title="edu.berkeley.cs.scads.piql.plans.Predicate">Predicate</a>
case <span class="keyword">class</span> <a title="class InPredicate extends java.lang.Object with edu.berkeley.cs.scads.piql.plans.Predicate with ScalaObject with Product with Serializable" id="51729">InPredicate</a><a href="#51729" title="ScalaObject" class="delimiter">(</a><a title="edu.berkeley.cs.scads.piql.plans.Value" id="51724">v1</a>: <a href="#9599" title="edu.berkeley.cs.scads.piql.plans.Value">Value</a>, <a title="edu.berkeley.cs.scads.piql.plans.Value" id="51725">v2</a>: <a href="#9599" title="edu.berkeley.cs.scads.piql.plans.Value">Value</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9620" title="edu.berkeley.cs.scads.piql.plans.Predicate">Predicate</a>

<span class="comment">/* Physical Query Plan Nodes */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class QueryPlan extends java.lang.Object with ScalaObject" id="9630">QueryPlan</a>
<a href="#9630" title="edu.berkeley.cs.scads.piql.plans.QueryPlan" class="keyword">abstract</a> <span class="keyword">class</span> <a title="class RemotePlan extends edu.berkeley.cs.scads.piql.plans.QueryPlan with ScalaObject" id="9631">RemotePlan</a> <a href="#9631" title="ScalaObject" class="keyword">extends</a> <a href="#9630" title="edu.berkeley.cs.scads.piql.plans.QueryPlan">QueryPlan</a> <span class="delimiter">{</span> <span class="keyword">val</span> <a title="=&gt; edu.berkeley.cs.scads.piql.package.Namespace" id="33217">namespace</a>: <a href="package.scala.html#25169" title="edu.berkeley.cs.scads.piql.package.Namespace">Namespace</a> <span class="delimiter">}</span>

case <span class="keyword">class</span> <a title="class IndexLookup extends edu.berkeley.cs.scads.piql.plans.QueryPlan with ScalaObject with Product with Serializable" id="51720">IndexLookup</a><a href="#51720" title="ScalaObject" class="delimiter">(</a><a title="edu.berkeley.cs.scads.piql.package.Namespace" id="46955">namespace</a>: <a href="package.scala.html#25169" title="edu.berkeley.cs.scads.piql.package.Namespace">Namespace</a>, <a title="edu.berkeley.cs.scads.piql.package.KeyGenerator" id="46956">key</a>: <span title="edu.berkeley.cs.scads.piql.package.KeyGenerator">KeyGenerator</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9630" title="edu.berkeley.cs.scads.piql.plans.QueryPlan">QueryPlan</a>

case <span class="keyword">class</span> <a title="class IndexScan extends edu.berkeley.cs.scads.piql.plans.RemotePlan with ScalaObject with Product with Serializable" id="51716">IndexScan</a><a href="#51716" title="ScalaObject" class="delimiter">(</a><a title="edu.berkeley.cs.scads.piql.package.Namespace" id="47050">namespace</a>: <a href="package.scala.html#25169" title="edu.berkeley.cs.scads.piql.package.Namespace">Namespace</a>, <a title="edu.berkeley.cs.scads.piql.package.KeyGenerator" id="47051">keyPrefix</a>: <span title="edu.berkeley.cs.scads.piql.package.KeyGenerator">KeyGenerator</span>, <a title="edu.berkeley.cs.scads.piql.plans.Limit" id="47052">limit</a>: <a href="#9613" title="edu.berkeley.cs.scads.piql.plans.Limit">Limit</a>, <a title="Boolean" id="47053">ascending</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9631" title="edu.berkeley.cs.scads.piql.plans.RemotePlan">RemotePlan</a>
case <span class="keyword">class</span> <a title="class IndexLookupJoin extends edu.berkeley.cs.scads.piql.plans.RemotePlan with ScalaObject with Product with Serializable" id="51712">IndexLookupJoin</a><a href="#51712" title="ScalaObject" class="delimiter">(</a><a title="edu.berkeley.cs.scads.piql.package.Namespace" id="47630">namespace</a>: <a href="package.scala.html#25169" title="edu.berkeley.cs.scads.piql.package.Namespace">Namespace</a>, <a title="edu.berkeley.cs.scads.piql.package.KeyGenerator" id="47631">key</a>: <span title="edu.berkeley.cs.scads.piql.package.KeyGenerator">KeyGenerator</span>, <a title="edu.berkeley.cs.scads.piql.plans.QueryPlan" id="47632">child</a>: <a href="#9630" title="edu.berkeley.cs.scads.piql.plans.QueryPlan">QueryPlan</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9631" title="edu.berkeley.cs.scads.piql.plans.RemotePlan">RemotePlan</a>
case <span class="keyword">class</span> <a title="class IndexScanJoin extends edu.berkeley.cs.scads.piql.plans.RemotePlan with ScalaObject with Product with Serializable" id="51708">IndexScanJoin</a><a href="#51708" title="ScalaObject" class="delimiter">(</a><a title="edu.berkeley.cs.scads.piql.package.Namespace" id="47978">namespace</a>: <a href="package.scala.html#25169" title="edu.berkeley.cs.scads.piql.package.Namespace">Namespace</a>, <a title="edu.berkeley.cs.scads.piql.package.KeyGenerator" id="47979">keyPrefix</a>: <span title="edu.berkeley.cs.scads.piql.package.KeyGenerator">KeyGenerator</span>, <a title="edu.berkeley.cs.scads.piql.plans.Limit" id="47980">limit</a>: <a href="#9613" title="edu.berkeley.cs.scads.piql.plans.Limit">Limit</a>, <a title="Boolean" id="47981">ascending</a>: <span title="Boolean">Boolean</span>, <a title="edu.berkeley.cs.scads.piql.plans.QueryPlan" id="47982">child</a>: <a href="#9630" title="edu.berkeley.cs.scads.piql.plans.QueryPlan">QueryPlan</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9631" title="edu.berkeley.cs.scads.piql.plans.RemotePlan">RemotePlan</a>
case <span class="keyword">class</span> <a title="class IndexMergeJoin extends edu.berkeley.cs.scads.piql.plans.RemotePlan with ScalaObject with Product with Serializable" id="51704">IndexMergeJoin</a><a href="#51704" title="ScalaObject" class="delimiter">(</a><a title="edu.berkeley.cs.scads.piql.package.Namespace" id="47818">namespace</a>: <a href="package.scala.html#25169" title="edu.berkeley.cs.scads.piql.package.Namespace">Namespace</a>, <a title="edu.berkeley.cs.scads.piql.package.KeyGenerator" id="47819">keyPrefix</a>: <span title="edu.berkeley.cs.scads.piql.package.KeyGenerator">KeyGenerator</span>, <a title="Seq[edu.berkeley.cs.scads.piql.plans.Value]" id="47820">sortFields</a>: <span title="Seq[edu.berkeley.cs.scads.piql.plans.Value]">Seq</span><span class="delimiter">[</span>Value<span class="delimiter">]</span>, <a title="edu.berkeley.cs.scads.piql.plans.Limit" id="47821">limit</a>: <a href="#9613" title="edu.berkeley.cs.scads.piql.plans.Limit">Limit</a>, <a title="Boolean" id="47822">ascending</a>: <span title="Boolean">Boolean</span>, <a title="edu.berkeley.cs.scads.piql.plans.QueryPlan" id="47823">child</a>: <a href="#9630" title="edu.berkeley.cs.scads.piql.plans.QueryPlan">QueryPlan</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9631" title="edu.berkeley.cs.scads.piql.plans.RemotePlan">RemotePlan</a>

case <span class="keyword">class</span> <a title="class LocalSelection extends edu.berkeley.cs.scads.piql.plans.QueryPlan with ScalaObject with Product with Serializable" id="51700">LocalSelection</a><a href="#51700" title="ScalaObject" class="delimiter">(</a><a title="edu.berkeley.cs.scads.piql.plans.Predicate" id="48042">predicate</a>: <a href="#9620" title="edu.berkeley.cs.scads.piql.plans.Predicate">Predicate</a>, <a title="edu.berkeley.cs.scads.piql.plans.QueryPlan" id="48043">child</a>: <a href="#9630" title="edu.berkeley.cs.scads.piql.plans.QueryPlan">QueryPlan</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9630" title="edu.berkeley.cs.scads.piql.plans.QueryPlan">QueryPlan</a>
case <span class="keyword">class</span> <a title="class LocalSort extends edu.berkeley.cs.scads.piql.plans.QueryPlan with ScalaObject with Product with Serializable" id="51696">LocalSort</a><a href="#51696" title="ScalaObject" class="delimiter">(</a><a title="Seq[edu.berkeley.cs.scads.piql.plans.Value]" id="51689">sortFields</a>: <span title="Seq[edu.berkeley.cs.scads.piql.plans.Value]">Seq</span><span class="delimiter">[</span>Value<span class="delimiter">]</span>, <a title="Boolean" id="51690">ascending</a>: <span title="Boolean">Boolean</span>, <a title="edu.berkeley.cs.scads.piql.plans.QueryPlan" id="51691">child</a>: <a href="#9630" title="edu.berkeley.cs.scads.piql.plans.QueryPlan">QueryPlan</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9630" title="edu.berkeley.cs.scads.piql.plans.QueryPlan">QueryPlan</a>
case <span class="keyword">class</span> <a title="class LocalStopAfter extends edu.berkeley.cs.scads.piql.plans.QueryPlan with ScalaObject with Product with Serializable" id="51685">LocalStopAfter</a><a href="#51685" title="ScalaObject" class="delimiter">(</a><a title="edu.berkeley.cs.scads.piql.plans.Limit" id="47067">count</a>: <a href="#9613" title="edu.berkeley.cs.scads.piql.plans.Limit">Limit</a>, <a title="edu.berkeley.cs.scads.piql.plans.QueryPlan" id="47068">child</a>: <a href="#9630" title="edu.berkeley.cs.scads.piql.plans.QueryPlan">QueryPlan</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9630" title="edu.berkeley.cs.scads.piql.plans.QueryPlan">QueryPlan</a>

<span class="comment">/* Testing iterator that simply emits tuples from an iterator that is passed to the query as a parameter */</span>
case <span class="keyword">class</span> <a title="class LocalIterator extends edu.berkeley.cs.scads.piql.plans.QueryPlan with ScalaObject with Product with Serializable" id="51681">LocalIterator</a><a href="#51681" title="ScalaObject" class="delimiter">(</a><a title="Int" id="51673">parameterOrdinal</a>: <span title="Int">Int</span>, <a title="Boolean" id="51678">wrap</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9630" title="edu.berkeley.cs.scads.piql.plans.QueryPlan">QueryPlan</a>


case <span class="keyword">class</span> <a title="class Union extends edu.berkeley.cs.scads.piql.plans.QueryPlan with ScalaObject with Product with Serializable" id="51667">Union</a><a href="#51667" title="ScalaObject" class="delimiter">(</a><a title="edu.berkeley.cs.scads.piql.plans.QueryPlan" id="51660">child1</a> : <a href="#9630" title="edu.berkeley.cs.scads.piql.plans.QueryPlan">QueryPlan</a>, <a title="edu.berkeley.cs.scads.piql.plans.QueryPlan" id="51661">child2</a> : <a href="#9630" title="edu.berkeley.cs.scads.piql.plans.QueryPlan">QueryPlan</a>, <a title="edu.berkeley.cs.scads.piql.plans.AttributeValue" id="51662">eqField</a> : <a href="#51753" title="edu.berkeley.cs.scads.piql.plans.AttributeValue">AttributeValue</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9630" title="edu.berkeley.cs.scads.piql.plans.QueryPlan">QueryPlan</a>

        </pre>
    </body>
</html>