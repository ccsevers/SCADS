<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>QueryPlan.scala</title>
        <script type="text/javascript" src="jquery-all.js"></script>
        <script type="text/javascript" src="linked.js"></script>
        <link rel="stylesheet" type="text/css" href="style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> edu.berkeley.cs.scads.piql
<span class="keyword">package</span> plans

<span class="keyword">import</span> org.apache.avro.generic.<span class="delimiter">{</span>GenericData, IndexedRecord<span class="delimiter">}</span>

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Value extends java.lang.Object with ScalaObject" id="9597">Value</a> <a href="#9597" title="ScalaObject" class="delimiter">{</a>
  <span class="keyword">def</span> <a title="(value: edu.berkeley.cs.scads.piql.plans.Value)edu.berkeley.cs.scads.piql.plans.EqualityPredicate" id="25182">===</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.plans.Value" id="50914">value</a>: <a href="#9597" title="edu.berkeley.cs.scads.piql.plans.Value">Value</a><span class="delimiter">)</span> = <a href="#51916" title="(v1: edu.berkeley.cs.scads.piql.plans.Value, v2: edu.berkeley.cs.scads.piql.plans.Value)edu.berkeley.cs.scads.piql.plans.EqualityPredicate">EqualityPredicate</a><span class="delimiter">(</span><a href="#9597" title="edu.berkeley.cs.scads.piql.plans.Value" class="keyword">this</a>, <a href="#50914" title="edu.berkeley.cs.scads.piql.plans.Value">value</a><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(value: edu.berkeley.cs.scads.piql.plans.Value)edu.berkeley.cs.scads.piql.plans.LikePredicate" id="25183">like</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.plans.Value" id="50919">value</a>: <a href="#9597" title="edu.berkeley.cs.scads.piql.plans.Value">Value</a><span class="delimiter">)</span> = <a href="#51912" title="(v1: edu.berkeley.cs.scads.piql.plans.Value, v2: edu.berkeley.cs.scads.piql.plans.Value)edu.berkeley.cs.scads.piql.plans.LikePredicate">LikePredicate</a><span class="delimiter">(</span><a href="#9597" title="edu.berkeley.cs.scads.piql.plans.Value" class="keyword">this</a>, <a href="#50919" title="edu.berkeley.cs.scads.piql.plans.Value">value</a><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="comment">/* Fixed Values.  i.e. Values that arent depended on a specific tuple */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class FixedValue extends edu.berkeley.cs.scads.piql.plans.Value with ScalaObject" id="9598">FixedValue</a> <a href="#9598" title="ScalaObject" class="keyword">extends</a> <a href="#9597" title="edu.berkeley.cs.scads.piql.plans.Value">Value</a>
case <span class="keyword">class</span> <a title="class ConstantValue extends edu.berkeley.cs.scads.piql.plans.FixedValue with ScalaObject with Product with Serializable" id="51940">ConstantValue</a><a href="#51940" title="ScalaObject" class="delimiter">(</a><a title="Any" id="25191">v</a>: <span title="Any">Any</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9598" title="edu.berkeley.cs.scads.piql.plans.FixedValue">FixedValue</a>
case <span class="keyword">class</span> <a title="class ParameterValue extends edu.berkeley.cs.scads.piql.plans.FixedValue with ScalaObject with Product with Serializable" id="51936">ParameterValue</a><a href="#51936" title="ScalaObject" class="delimiter">(</a><a title="Int" id="25211">ordinal</a>: <span title="Int">Int</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9598" title="edu.berkeley.cs.scads.piql.plans.FixedValue">FixedValue</a>

<span class="comment">/* Attibute Values */</span>
case <span class="keyword">class</span> <a title="class AttributeValue extends edu.berkeley.cs.scads.piql.plans.Value with ScalaObject with Product with Serializable" id="51932">AttributeValue</a><a href="#51932" title="ScalaObject" class="delimiter">(</a><a title="Int" id="48688">recordPosition</a>: <span title="Int">Int</span>, <a title="Int" id="48689">fieldPosition</a>: <span title="Int">Int</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9597" title="edu.berkeley.cs.scads.piql.plans.Value">Value</a>
case <span class="keyword">class</span> <a title="class UnboundAttributeValue extends edu.berkeley.cs.scads.piql.plans.Value with ScalaObject with Product with Serializable" id="51928">UnboundAttributeValue</a><a href="#51928" title="ScalaObject" class="delimiter">(</a><a title="String" id="25243">name</a>: <span title="String">String</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9597" title="edu.berkeley.cs.scads.piql.plans.Value">Value</a> <span class="delimiter">{</span>
  <span class="keyword">protected</span> <span class="keyword">val</span> <a title="scala.util.matching.Regex" id="25237">qualifiedAttribute</a> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;([^\.]+)\.([^\.]+)&quot;&quot;&quot;</span>.<span title="=&gt; scala.util.matching.Regex">r</span>
  <span class="keyword">def</span> <a title="=&gt; Option[String]" id="25239">relationName</a>: <span title="Option[String]">Option</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <a href="#25243" title="=&gt; String">name</a> <span title="Option[String]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="#25237" title="Some[String]">qualifiedAttribute</a><span class="delimiter">(</span><a title="String" id="51034">r</a>,<a title="String" id="51035">f</a><span class="delimiter">)</span> =&gt; <span title="(x: String)Some[String]">Some</span><span class="delimiter">(</span><a href="#51034" title="String">r</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="None.type">_</span> =&gt; <span title="object None">None</span>
  <span class="delimiter">}</span>
  
  <span class="keyword">def</span> <a title="=&gt; String" id="25240">unqualifiedName</a>: <span title="String">String</span>  = <a href="#25243" title="=&gt; String">name</a> <span title="String" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <a href="#25237" title="String">qualifiedAttribute</a><span class="delimiter">(</span><a title="String" id="51040">r</a>,<a title="String" id="51041">f</a><span class="delimiter">)</span> =&gt; <a href="#51041" title="String">f</a>
    <span class="keyword">case</span> <span title="String">_</span> =&gt; <a href="#25243" title="=&gt; String">name</a>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Limit extends java.lang.Object with ScalaObject" id="9611">Limit</a>
case <span class="keyword">class</span> <a title="class FixedLimit extends edu.berkeley.cs.scads.piql.plans.Limit with ScalaObject with Product with Serializable" id="51924">FixedLimit</a><a href="#51924" title="ScalaObject" class="delimiter">(</a><a title="Int" id="43897">count</a>: <span title="Int">Int</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9611" title="edu.berkeley.cs.scads.piql.plans.Limit">Limit</a>
case <span class="keyword">class</span> <a title="class ParameterLimit extends edu.berkeley.cs.scads.piql.plans.Limit with ScalaObject with Product with Serializable" id="51920">ParameterLimit</a><a href="#51920" title="ScalaObject" class="delimiter">(</a><a title="Int" id="43910">ordinal</a>: <span title="Int">Int</span>, <a title="Int" id="43911">max</a>: <span title="Int">Int</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9611" title="edu.berkeley.cs.scads.piql.plans.Limit">Limit</a>

<span class="keyword">trait</span> <a title="trait Predicate extends java.lang.Object" id="9618">Predicate</a>
case <span class="keyword">class</span> <a title="class EqualityPredicate extends java.lang.Object with edu.berkeley.cs.scads.piql.plans.Predicate with ScalaObject with Product with Serializable" id="51916">EqualityPredicate</a><a href="#51916" title="ScalaObject" class="delimiter">(</a><a title="edu.berkeley.cs.scads.piql.plans.Value" id="49501">v1</a>: <a href="#9597" title="edu.berkeley.cs.scads.piql.plans.Value">Value</a>, <a title="edu.berkeley.cs.scads.piql.plans.Value" id="49502">v2</a>: <a href="#9597" title="edu.berkeley.cs.scads.piql.plans.Value">Value</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9618" title="edu.berkeley.cs.scads.piql.plans.Predicate">Predicate</a>
case <span class="keyword">class</span> <a title="class LikePredicate extends java.lang.Object with edu.berkeley.cs.scads.piql.plans.Predicate with ScalaObject with Product with Serializable" id="51912">LikePredicate</a><a href="#51912" title="ScalaObject" class="delimiter">(</a><a title="edu.berkeley.cs.scads.piql.plans.Value" id="50934">v1</a>: <a href="#9597" title="edu.berkeley.cs.scads.piql.plans.Value">Value</a>, <a title="edu.berkeley.cs.scads.piql.plans.Value" id="50935">v2</a>: <a href="#9597" title="edu.berkeley.cs.scads.piql.plans.Value">Value</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9618" title="edu.berkeley.cs.scads.piql.plans.Predicate">Predicate</a>
case <span class="keyword">class</span> <a title="class InPredicate extends java.lang.Object with edu.berkeley.cs.scads.piql.plans.Predicate with ScalaObject with Product with Serializable" id="51908">InPredicate</a><a href="#51908" title="ScalaObject" class="delimiter">(</a><a title="edu.berkeley.cs.scads.piql.plans.Value" id="51903">v1</a>: <a href="#9597" title="edu.berkeley.cs.scads.piql.plans.Value">Value</a>, <a title="edu.berkeley.cs.scads.piql.plans.Value" id="51904">v2</a>: <a href="#9597" title="edu.berkeley.cs.scads.piql.plans.Value">Value</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9618" title="edu.berkeley.cs.scads.piql.plans.Predicate">Predicate</a>

<span class="comment">/* Physical Query Plan Nodes */</span>
<span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class QueryPlan extends java.lang.Object with ScalaObject" id="9628">QueryPlan</a>
<a href="#9628" title="edu.berkeley.cs.scads.piql.plans.QueryPlan" class="keyword">abstract</a> <span class="keyword">class</span> <a title="class RemotePlan extends edu.berkeley.cs.scads.piql.plans.QueryPlan with ScalaObject" id="9629">RemotePlan</a> <a href="#9629" title="ScalaObject" class="keyword">extends</a> <a href="#9628" title="edu.berkeley.cs.scads.piql.plans.QueryPlan">QueryPlan</a> <span class="delimiter">{</span> <span class="keyword">val</span> <a title="=&gt; edu.berkeley.cs.scads.piql.package.Namespace" id="33397">namespace</a>: <a href="package.scala.html#25347" title="edu.berkeley.cs.scads.piql.package.Namespace">Namespace</a> <span class="delimiter">}</span>

case <span class="keyword">class</span> <a title="class IndexLookup extends edu.berkeley.cs.scads.piql.plans.QueryPlan with ScalaObject with Product with Serializable" id="51899">IndexLookup</a><a href="#51899" title="ScalaObject" class="delimiter">(</a><a title="edu.berkeley.cs.scads.piql.package.Namespace" id="47134">namespace</a>: <a href="package.scala.html#25347" title="edu.berkeley.cs.scads.piql.package.Namespace">Namespace</a>, <a title="edu.berkeley.cs.scads.piql.package.KeyGenerator" id="47135">key</a>: <span title="edu.berkeley.cs.scads.piql.package.KeyGenerator">KeyGenerator</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9628" title="edu.berkeley.cs.scads.piql.plans.QueryPlan">QueryPlan</a>

case <span class="keyword">class</span> <a title="class IndexScan extends edu.berkeley.cs.scads.piql.plans.RemotePlan with ScalaObject with Product with Serializable" id="51895">IndexScan</a><a href="#51895" title="ScalaObject" class="delimiter">(</a><a title="edu.berkeley.cs.scads.piql.package.Namespace" id="47229">namespace</a>: <a href="package.scala.html#25347" title="edu.berkeley.cs.scads.piql.package.Namespace">Namespace</a>, <a title="edu.berkeley.cs.scads.piql.package.KeyGenerator" id="47230">keyPrefix</a>: <span title="edu.berkeley.cs.scads.piql.package.KeyGenerator">KeyGenerator</span>, <a title="edu.berkeley.cs.scads.piql.plans.Limit" id="47231">limit</a>: <a href="#9611" title="edu.berkeley.cs.scads.piql.plans.Limit">Limit</a>, <a title="Boolean" id="47232">ascending</a>: <span title="Boolean">Boolean</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9629" title="edu.berkeley.cs.scads.piql.plans.RemotePlan">RemotePlan</a>
case <span class="keyword">class</span> <a title="class IndexLookupJoin extends edu.berkeley.cs.scads.piql.plans.RemotePlan with ScalaObject with Product with Serializable" id="51891">IndexLookupJoin</a><a href="#51891" title="ScalaObject" class="delimiter">(</a><a title="edu.berkeley.cs.scads.piql.package.Namespace" id="47809">namespace</a>: <a href="package.scala.html#25347" title="edu.berkeley.cs.scads.piql.package.Namespace">Namespace</a>, <a title="edu.berkeley.cs.scads.piql.package.KeyGenerator" id="47810">key</a>: <span title="edu.berkeley.cs.scads.piql.package.KeyGenerator">KeyGenerator</span>, <a title="edu.berkeley.cs.scads.piql.plans.QueryPlan" id="47811">child</a>: <a href="#9628" title="edu.berkeley.cs.scads.piql.plans.QueryPlan">QueryPlan</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9629" title="edu.berkeley.cs.scads.piql.plans.RemotePlan">RemotePlan</a>
case <span class="keyword">class</span> <a title="class IndexScanJoin extends edu.berkeley.cs.scads.piql.plans.RemotePlan with ScalaObject with Product with Serializable" id="51887">IndexScanJoin</a><a href="#51887" title="ScalaObject" class="delimiter">(</a><a title="edu.berkeley.cs.scads.piql.package.Namespace" id="48157">namespace</a>: <a href="package.scala.html#25347" title="edu.berkeley.cs.scads.piql.package.Namespace">Namespace</a>, <a title="edu.berkeley.cs.scads.piql.package.KeyGenerator" id="48158">keyPrefix</a>: <span title="edu.berkeley.cs.scads.piql.package.KeyGenerator">KeyGenerator</span>, <a title="edu.berkeley.cs.scads.piql.plans.Limit" id="48159">limit</a>: <a href="#9611" title="edu.berkeley.cs.scads.piql.plans.Limit">Limit</a>, <a title="Boolean" id="48160">ascending</a>: <span title="Boolean">Boolean</span>, <a title="edu.berkeley.cs.scads.piql.plans.QueryPlan" id="48161">child</a>: <a href="#9628" title="edu.berkeley.cs.scads.piql.plans.QueryPlan">QueryPlan</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9629" title="edu.berkeley.cs.scads.piql.plans.RemotePlan">RemotePlan</a>
case <span class="keyword">class</span> <a title="class IndexMergeJoin extends edu.berkeley.cs.scads.piql.plans.RemotePlan with ScalaObject with Product with Serializable" id="51883">IndexMergeJoin</a><a href="#51883" title="ScalaObject" class="delimiter">(</a><a title="edu.berkeley.cs.scads.piql.package.Namespace" id="47997">namespace</a>: <a href="package.scala.html#25347" title="edu.berkeley.cs.scads.piql.package.Namespace">Namespace</a>, <a title="edu.berkeley.cs.scads.piql.package.KeyGenerator" id="47998">keyPrefix</a>: <span title="edu.berkeley.cs.scads.piql.package.KeyGenerator">KeyGenerator</span>, <a title="Seq[edu.berkeley.cs.scads.piql.plans.Value]" id="47999">sortFields</a>: <span title="Seq[edu.berkeley.cs.scads.piql.plans.Value]">Seq</span><span class="delimiter">[</span>Value<span class="delimiter">]</span>, <a title="edu.berkeley.cs.scads.piql.plans.Limit" id="48000">limit</a>: <a href="#9611" title="edu.berkeley.cs.scads.piql.plans.Limit">Limit</a>, <a title="Boolean" id="48001">ascending</a>: <span title="Boolean">Boolean</span>, <a title="edu.berkeley.cs.scads.piql.plans.QueryPlan" id="48002">child</a>: <a href="#9628" title="edu.berkeley.cs.scads.piql.plans.QueryPlan">QueryPlan</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9629" title="edu.berkeley.cs.scads.piql.plans.RemotePlan">RemotePlan</a>

case <span class="keyword">class</span> <a title="class LocalSelection extends edu.berkeley.cs.scads.piql.plans.QueryPlan with ScalaObject with Product with Serializable" id="51879">LocalSelection</a><a href="#51879" title="ScalaObject" class="delimiter">(</a><a title="edu.berkeley.cs.scads.piql.plans.Predicate" id="48221">predicate</a>: <a href="#9618" title="edu.berkeley.cs.scads.piql.plans.Predicate">Predicate</a>, <a title="edu.berkeley.cs.scads.piql.plans.QueryPlan" id="48222">child</a>: <a href="#9628" title="edu.berkeley.cs.scads.piql.plans.QueryPlan">QueryPlan</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9628" title="edu.berkeley.cs.scads.piql.plans.QueryPlan">QueryPlan</a>
case <span class="keyword">class</span> <a title="class LocalSort extends edu.berkeley.cs.scads.piql.plans.QueryPlan with ScalaObject with Product with Serializable" id="51875">LocalSort</a><a href="#51875" title="ScalaObject" class="delimiter">(</a><a title="Seq[edu.berkeley.cs.scads.piql.plans.Value]" id="51868">sortFields</a>: <span title="Seq[edu.berkeley.cs.scads.piql.plans.Value]">Seq</span><span class="delimiter">[</span>Value<span class="delimiter">]</span>, <a title="Boolean" id="51869">ascending</a>: <span title="Boolean">Boolean</span>, <a title="edu.berkeley.cs.scads.piql.plans.QueryPlan" id="51870">child</a>: <a href="#9628" title="edu.berkeley.cs.scads.piql.plans.QueryPlan">QueryPlan</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9628" title="edu.berkeley.cs.scads.piql.plans.QueryPlan">QueryPlan</a>
case <span class="keyword">class</span> <a title="class LocalStopAfter extends edu.berkeley.cs.scads.piql.plans.QueryPlan with ScalaObject with Product with Serializable" id="51864">LocalStopAfter</a><a href="#51864" title="ScalaObject" class="delimiter">(</a><a title="edu.berkeley.cs.scads.piql.plans.Limit" id="47246">count</a>: <a href="#9611" title="edu.berkeley.cs.scads.piql.plans.Limit">Limit</a>, <a title="edu.berkeley.cs.scads.piql.plans.QueryPlan" id="47247">child</a>: <a href="#9628" title="edu.berkeley.cs.scads.piql.plans.QueryPlan">QueryPlan</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9628" title="edu.berkeley.cs.scads.piql.plans.QueryPlan">QueryPlan</a>

<span class="comment">/* Testing iterator that simply emits tuples from an iterator that is passed to the query as a parameter */</span>
case <span class="keyword">class</span> <a title="class LocalIterator extends edu.berkeley.cs.scads.piql.plans.QueryPlan with ScalaObject with Product with Serializable" id="51860">LocalIterator</a><a href="#51860" title="ScalaObject" class="delimiter">(</a><a title="Int" id="51852">parameterOrdinal</a>: <span title="Int">Int</span>, <a title="Boolean" id="51857">wrap</a>: <span title="Boolean">Boolean</span> = <span title="Boolean(false)" class="keyword">false</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9628" title="edu.berkeley.cs.scads.piql.plans.QueryPlan">QueryPlan</a>


case <span class="keyword">class</span> <a title="class Union extends edu.berkeley.cs.scads.piql.plans.QueryPlan with ScalaObject with Product with Serializable" id="51846">Union</a><a href="#51846" title="ScalaObject" class="delimiter">(</a><a title="edu.berkeley.cs.scads.piql.plans.QueryPlan" id="51839">child1</a> : <a href="#9628" title="edu.berkeley.cs.scads.piql.plans.QueryPlan">QueryPlan</a>, <a title="edu.berkeley.cs.scads.piql.plans.QueryPlan" id="51840">child2</a> : <a href="#9628" title="edu.berkeley.cs.scads.piql.plans.QueryPlan">QueryPlan</a>, <a title="edu.berkeley.cs.scads.piql.plans.AttributeValue" id="51841">eqField</a> : <a href="#51932" title="edu.berkeley.cs.scads.piql.plans.AttributeValue">AttributeValue</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9628" title="edu.berkeley.cs.scads.piql.plans.QueryPlan">QueryPlan</a>

        </pre>
    </body>
</html>