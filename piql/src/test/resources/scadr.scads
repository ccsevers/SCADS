ENTITY User
{
	string name,
	string password,
	string email,
	string profileData
	PRIMARY(name)
}

ENTITY Thought
{
	int timestamp,
	string text,
    FOREIGN KEY owner REF User
	PRIMARY(owner, timestamp)
}

ENTITY Subscription
{
    FOREIGN KEY owner REF User MAX 5000,
    FOREIGN KEY target REF User,
	bool approved
	PRIMARY(owner, target)
}

QUERY myThoughts
FETCH Thought
	OF User BY owner
WHERE User=[this]
LIMIT [1: numperpage] MAX 10

// These are people that I am following
// NOT people that are following me
QUERY myFollowing
FETCH User
	OF Subscription BY target
	OF User me BY owner
WHERE me=[this]
LIMIT [1:numperpage] MAX 30

QUERY thoughtstream
FETCH Thought
	OF User friend BY owner
	OF Subscription BY target
	OF User me BY owner
WHERE me=[this] AND Subscription.approved = true
ORDER BY timestamp
LIMIT [1:count] MAX 100

QUERY userByName
FETCH User
WHERE User.name = [1:name]

QUERY findUserByPK
FETCH User
WHERE name = [1:name]

/* Missing Queries */
//Who's following me?
//How many people are following me?
//How many people am I following?
//How many tweets do I have?
