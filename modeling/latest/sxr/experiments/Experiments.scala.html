<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>experiments/Experiments.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> edu.berkeley.cs
<span class="keyword">package</span> scads
<span class="keyword">package</span> piql
<span class="keyword">package</span> modeling

<span class="keyword">import</span> comm._
<span class="keyword">import</span> storage._
<span class="keyword">import</span> perf._
<span class="keyword">import</span> deploylib.ec2._
<span class="keyword">import</span> deploylib.mesos._
<span class="keyword">import</span> piql.scadr._
<span class="keyword">import</span> perf.scadr._
<span class="keyword">import</span> avro.marker._
<span class="keyword">import</span> avro.runtime._
<span class="keyword">import</span> collection.TraversableOnce

 <span class="keyword">import</span> org.apache.avro.generic._
 <span class="keyword">import</span> org.apache.avro.file.<span class="delimiter">{</span>DataFileReader, DataFileWriter, CodecFactory<span class="delimiter">}</span>
 <span class="keyword">import</span> java.io.File

<span class="keyword">object</span> <a title="object edu.berkeley.cs.scads.piql.modeling.Experiments" id="10203">Experiments</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">var</span> <a title="edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode" id="50013">resultClusterAddress</a> = <span title="(uri: String)edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">ZooKeeperNode</span><span class="delimiter">(</span><span title="java.lang.String(&quot;zk://zoo1.millennium.berkeley.edu,zoo2.millennium.berkeley.edu,zoo3.millennium.berkeley.edu/home/marmbrus/vldb12&quot;)" class="string">&quot;zk://zoo1.millennium.berkeley.edu,zoo2.millennium.berkeley.edu,zoo3.millennium.berkeley.edu/home/marmbrus/vldb12&quot;</span><span class="delimiter">)</span>
  <span class="keyword">val</span> <a title="deploylib.mesos.Cluster" id="50015">cluster</a> = <span title="deploylib.mesos.Cluster" class="keyword">new</span> <span title="deploylib.mesos.Cluster">Cluster</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode" id="50017">zooKeeperRoot</a> = <a href="#50015" title="=&gt; deploylib.mesos.Cluster">cluster</a>.<span title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">zooKeeperRoot</span>
  <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="50018">resultsCluster</a> = <span title="edu.berkeley.cs.scads.storage.ScadsCluster" class="keyword">new</span> <span title="edu.berkeley.cs.scads.storage.ScadsCluster">ScadsCluster</span><span class="delimiter">(</span><a href="#50013" title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">resultClusterAddress</a><span class="delimiter">)</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" id="50020">classSource</a> = <a href="#50015" title="=&gt; deploylib.mesos.Cluster">cluster</a>.<span title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]">classSource</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; deploylib.mesos.RemoteServiceScheduler" id="50021">serviceScheduler</a> = <a href="#50015" title="=&gt; deploylib.mesos.Cluster">cluster</a>.<span title="=&gt; deploylib.mesos.RemoteServiceScheduler">serviceScheduler</span>
  <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode" id="50022">traceRoot</a> = <a href="#50017" title="edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode" id="54447">zooKeeperRoot</a>.<a href="#54447" title="Int" id="54449">getOrCreate</a><span class="delimiter">(</span><a title="java.lang.String(&quot;traceCollection&quot;)" id="54448" class="string">&quot;traceCollection&quot;</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; Unit" id="50023">watchServiceScheduler</a> = <a href="#50015" title="=&gt; deploylib.mesos.Cluster">cluster</a>.<span title="=&gt; deploylib.ec2.EC2Instance">firstMaster</span>.<span title="(remoteFile: java.io.File)Unit">watch</span><span class="delimiter">(</span><span title="implicit deploylib.mesos.package.toFile : (str: String)java.io.File" class="string">&quot;/root/serviceScheduler.log&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(pkg: String)Unit" id="50024">debug</a><span class="delimiter">(</span><a title="String" id="55084">pkg</a>: <span title="String">String</span><span class="delimiter">)</span> = net.lag.logging.<span title="(name: String)net.lag.logging.Logger">Logger</span><span class="delimiter">(</span><a href="#55084" title="String">pkg</a><span class="delimiter">)</span>.<span title="(level: java.util.logging.Level)Unit">setLevel</span><span class="delimiter">(</span>java.util.logging.<span title="object java.util.logging.Level">Level</span>.<span title="java.util.logging.Level">FINEST</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(expId: Int)edu.berkeley.cs.scads.storage.ScadsCluster" id="50025">expCluster</a><span class="delimiter">(</span><a title="Int" id="55212">expId</a>: <span title="Int">Int</span><span class="delimiter">)</span> = 
    <span title="edu.berkeley.cs.scads.storage.ScadsCluster" class="keyword">new</span> <span title="edu.berkeley.cs.scads.storage.ScadsCluster">ScadsCluster</span><span class="delimiter">(</span>
      <span title="(uri: String)edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">ZooKeeperNode</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;zk://zoo.knowsql.org/home/marmbrus/scads/experimentCluster%010d&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#55212" title="Int">expId</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(expId: Int)edu.berkeley.cs.scads.piql.scadr.ScadrClient" id="50026">scadrClient</a><span class="delimiter">(</span><a title="Int" id="55218">expId</a>: <span title="Int">Int</span><span class="delimiter">)</span> = 
    <span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient" class="keyword">new</span> <span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">ScadrClient</span><span class="delimiter">(</span><a href="#50025" title="(expId: Int)edu.berkeley.cs.scads.storage.ScadsCluster">expCluster</a><span class="delimiter">(</span><a href="#55218" title="Int">expId</a><span class="delimiter">)</span>, <span title="edu.berkeley.cs.scads.piql.ParallelExecutor" class="keyword">new</span> <span title="edu.berkeley.cs.scads.piql.ParallelExecutor">ParallelExecutor</span><span class="delimiter">)</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.tpcw.TpcwClient" id="50028">testTpcwClient</a> =
    <span title="edu.berkeley.cs.scads.piql.tpcw.TpcwClient" class="keyword">new</span> piql.tpcw.<span title="edu.berkeley.cs.scads.piql.tpcw.TpcwClient">TpcwClient</span><span class="delimiter">(</span><span title="edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask" class="keyword">new</span> piql.tpcw.<span title="edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">TpcwLoaderTask</span><span class="delimiter">(</span><span title="Int(10)" class="int">10</span>,<span title="Int(5)" class="int">5</span>,<span title="Double(10.0)" class="int">10</span>,<span title="Int(10000)" class="int">10000</span>,<span title="Int(2)" class="int">2</span><span class="delimiter">)</span>.<span title="()edu.berkeley.cs.scads.storage.ScadsCluster">newTestCluster</span>, <a href="#54414" title="edu.berkeley.cs.scads.piql.ParallelExecutor with edu.berkeley.cs.scads.piql.DebugExecutor" class="keyword">new</a> <a title="anonymous class $anon extends edu.berkeley.cs.scads.piql.ParallelExecutor with edu.berkeley.cs.scads.piql.DebugExecutor" id="54414">ParallelExecutor</a> <span class="keyword">with</span> <span title="edu.berkeley.cs.scads.piql.DebugExecutor">DebugExecutor</span><span class="delimiter">)</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="50030">scadsCluster</a> = <span title="edu.berkeley.cs.scads.storage.ScadsCluster" class="keyword">new</span> <span title="edu.berkeley.cs.scads.storage.ScadsCluster">ScadsCluster</span><span class="delimiter">(</span><a href="#50022" title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">traceRoot</a><span class="delimiter">)</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.scadr.ScadrClient" id="50032">scadrClient</a> = <span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient" class="keyword">new</span> piql.scadr.<span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">ScadrClient</span><span class="delimiter">(</span><a href="#50029" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">scadsCluster</a>, <span title="edu.berkeley.cs.scads.piql.ParallelExecutor" class="keyword">new</span> <span title="edu.berkeley.cs.scads.piql.ParallelExecutor">ParallelExecutor</span><span class="delimiter">)</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.scadr.ScadrClient" id="50034">testScadrClient</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ManagedScadsCluster" id="54452">cluster</a> = <span title="object edu.berkeley.cs.scads.storage.TestScalaEngine">TestScalaEngine</span>.<span title="(numNodes: Int)edu.berkeley.cs.scads.storage.ManagedScadsCluster">newScadsCluster</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.scadr.ScadrClient" id="54453">client</a> = <span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient" class="keyword">new</span> piql.scadr.<span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">ScadrClient</span><span class="delimiter">(</span><a href="#54452" title="edu.berkeley.cs.scads.storage.ManagedScadsCluster">cluster</a>, <a href="#54484" title="edu.berkeley.cs.scads.piql.ParallelExecutor with edu.berkeley.cs.scads.piql.DebugExecutor" class="keyword">new</a> <a title="anonymous class $anon extends edu.berkeley.cs.scads.piql.ParallelExecutor with edu.berkeley.cs.scads.piql.DebugExecutor" id="54484">ParallelExecutor</a> <span class="keyword">with</span> <span title="edu.berkeley.cs.scads.piql.DebugExecutor">DebugExecutor</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.scadr.ScadrLoader" id="54454">loader</a> = <span title="edu.berkeley.cs.scads.piql.scadr.ScadrLoader" class="keyword">new</span> piql.scadr.<span title="edu.berkeley.cs.scads.piql.scadr.ScadrLoader">ScadrLoader</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <a href="#54454" title="edu.berkeley.cs.scads.piql.scadr.ScadrLoader">loader</a>.<span title="(clientId: Int)loader.ScadrData">getData</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<span title="(client: edu.berkeley.cs.scads.piql.scadr.ScadrClient)Unit">load</span><span class="delimiter">(</span><a href="#54453" title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">client</a><span class="delimiter">)</span>
    <a href="#54453" title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">client</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; List[deploylib.ec2.EC2Instance#RemoteJavaProcess]" id="50035">clients</a> = <a href="#50015" title="=&gt; deploylib.mesos.Cluster">cluster</a>.<span title="(itr: Iterable[deploylib.ec2.EC2Instance])deploylib.ParallelSeq[deploylib.ec2.EC2Instance]">slaves</span>.<span title="(f: deploylib.ec2.EC2Instance =&gt; Iterable[deploylib.ec2.EC2Instance#RemoteJavaProcess])List[deploylib.ec2.EC2Instance#RemoteJavaProcess]">pflatMap</span><span class="delimiter">(</span><a href="#55406" title="deploylib.ec2.EC2Instance">_</a>.<span title="=&gt; Seq[x$1.RemoteJavaProcess]">jps</span><span class="delimiter">)</span>.<span title="(p: deploylib.ec2.EC2Instance#RemoteJavaProcess =&gt; Boolean)List[deploylib.ec2.EC2Instance#RemoteJavaProcess]">filter</span><span class="delimiter">(</span><a href="#55436" title="deploylib.ec2.EC2Instance#RemoteJavaProcess">_</a>.<span title="=&gt; String">main</span> <span title="(x$1: Any)Boolean">equals</span> <span title="java.lang.String(&quot;AvroTaskMain&quot;)" class="string">&quot;AvroTaskMain&quot;</span><span class="delimiter">)</span>.<span title="(p: deploylib.ec2.EC2Instance#RemoteJavaProcess =&gt; Boolean)List[deploylib.ec2.EC2Instance#RemoteJavaProcess]">filterNot</span><span class="delimiter">(</span><a href="#55442" title="deploylib.ec2.EC2Instance#RemoteJavaProcess">_</a>.<span title="=&gt; String">stack</span> <span title="(x$1: java.lang.CharSequence)Boolean">contains</span> <span title="java.lang.String(&quot;ScalaEngineTask&quot;)" class="string">&quot;ScalaEngineTask&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; List[deploylib.ec2.EC2Instance#RemoteJavaProcess]" id="50036">laggards</a> = <a href="#50035" title="(itr: Iterable[deploylib.ec2.EC2Instance#RemoteJavaProcess])deploylib.ParallelSeq[deploylib.ec2.EC2Instance#RemoteJavaProcess]">clients</a>.<span title="(f: deploylib.ec2.EC2Instance#RemoteJavaProcess =&gt; Boolean)List[deploylib.ec2.EC2Instance#RemoteJavaProcess]">pfilterNot</span><span class="delimiter">(</span><a href="#55477" title="deploylib.ec2.EC2Instance#RemoteJavaProcess">_</a>.<span title="=&gt; String">stack</span> <span title="(x$1: java.lang.CharSequence)Boolean">contains</span> <span title="java.lang.String(&quot;awaitChild&quot;)" class="string">&quot;awaitChild&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; Unit" id="50037">tagClients</a> = <a href="#50035" title="=&gt; List[deploylib.ec2.EC2Instance#RemoteJavaProcess]">clients</a>.<span title="(f: deploylib.ec2.EC2Instance#RemoteJavaProcess =&gt; deploylib.ec2.EC2Instance)(implicit bf: scala.collection.generic.CanBuildFrom[List[deploylib.ec2.EC2Instance#RemoteJavaProcess],deploylib.ec2.EC2Instance,List[deploylib.ec2.EC2Instance]])List[deploylib.ec2.EC2Instance]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,deploylib.ec2.EC2Instance,List[deploylib.ec2.EC2Instance]]" class="delimiter">(</span><a href="#55500" title="deploylib.ec2.EC2Instance#RemoteJavaProcess">_</a>.<span title="=&gt; deploylib.RemoteMachine">remoteMachine</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="deploylib.ec2.EC2Instance" class="delimiter">[</span><span title="deploylib.ec2.EC2Instance">EC2Instance</span><span class="delimiter">]</span><span class="delimiter">)</span>.<span title="(f: deploylib.ec2.EC2Instance =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#55707" title="deploylib.ec2.EC2Instance">_</a>.<span title="object x$6.tags">tags</span> <span title="(key: String, value: String)Unit">+=</span> <span class="delimiter">(</span><span title="java.lang.String(&quot;task&quot;)" class="string">&quot;task&quot;</span>, <span title="java.lang.String(&quot;client&quot;)" class="string">&quot;client&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(id: String)Unit" id="50038">killTask</a><span class="delimiter">(</span><a title="String" id="56987">id</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#50015" title="=&gt; deploylib.mesos.Cluster">cluster</a>.<a title="deploylib.mesos.RemoteServiceScheduler" id="56989">serviceScheduler</a> <a href="#56989" title="Int" id="57029">!?</a> <span title="(taskId: String)edu.berkeley.cs.scads.comm.KillTaskRequest">KillTaskRequest</span><a title="edu.berkeley.cs.scads.comm.KillTaskRequest" id="57028" class="delimiter">(</a><a href="#56987" title="String">id</a><span class="delimiter">)</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit edu.berkeley.cs.scads.piql.modeling.Experiments.productSeqToExcel : (lines: Seq[Product])java.lang.Object{def toExcel: Unit}" id="50039">productSeqToExcel</a><span class="delimiter">(</span><a title="Seq[Product]" id="57030">lines</a>: <span title="Seq[Product]">Seq</span><span class="delimiter">[</span>Product<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#57033" title="java.lang.Object{def toExcel: Unit}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object" id="57033" class="delimiter">{</a>
    <span class="keyword">import</span> java.io._
    <span class="keyword">def</span> <a title="=&gt; Unit" id="57036">toExcel</a>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.io.File" id="57038">file</a> = <span title="object java.io.File">File</span>.<span title="(x$1: java.lang.String, x$2: java.lang.String)java.io.File">createTempFile</span><span class="delimiter">(</span><span title="java.lang.String(&quot;scadsOut&quot;)" class="string">&quot;scadsOut&quot;</span>, <span title="java.lang.String(&quot;.csv&quot;)" class="string">&quot;.csv&quot;</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="java.io.FileWriter" id="57039">writer</a> = <span title="(x$1: java.io.File)java.io.FileWriter" class="keyword">new</span> <span title="java.io.FileWriter">FileWriter</span><span class="delimiter">(</span><a href="#57038" title="java.io.File">file</a><span class="delimiter">)</span>

      <a href="#57030" title="Seq[Product]">lines</a>.<span title="(f: Product =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[Product],java.lang.String,Seq[java.lang.String]])Seq[java.lang.String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,java.lang.String,Seq[java.lang.String]]" class="delimiter">(</span><a href="#57150" title="Product">_</a>.<span title="=&gt; Iterator[Any]">productIterator</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>.<span title="(f: java.lang.String =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#57039" title="java.io.FileWriter">writer</a>.<a href="#57201" title="(x$1: java.lang.String)Unit">write</a><span class="delimiter">)</span>
      <a href="#57039" title="java.io.FileWriter">writer</a>.<span title="()Unit">close</span>

      <span title="object java.lang.Runtime">Runtime</span>.<span title="()java.lang.Runtime">getRuntime</span>.<span title="(x$1: Array[java.lang.String])java.lang.Process">exec</span><span title="Unit" class="delimiter">(</span><span title="(xs: java.lang.String*)(implicit evidence$2: scala.reflect.ClassManifest[java.lang.String])Array[java.lang.String]">Array</span><span title="(clazz: java.lang.Class[_])scala.reflect.ClassManifest[java.lang.String]" class="delimiter">(</span><span title="java.lang.String(&quot;/usr/bin/open&quot;)" class="string">&quot;/usr/bin/open&quot;</span>, <a href="#57038" title="java.io.File">file</a>.<span title="()java.lang.String">getCanonicalPath</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[RecordType &lt;: org.apache.avro.generic.GenericContainer](iter: Iterator[RecordType])java.lang.Object{def toAvroFile(file: java.io.File,codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType]): Unit; def toAvroFile$default$2: Option[org.apache.avro.file.CodecFactory]}" id="50040">avroIterWriter</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: org.apache.avro.generic.GenericContainer" id="50042">RecordType</a> &lt;: GenericContainer<span class="delimiter">]</span><span class="delimiter">(</span><a title="Iterator[RecordType]" id="57317">iter</a>: <span title="Iterator[RecordType]">Iterator</span><span class="delimiter">[</span>RecordType<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#57320" title="java.lang.Object{def toAvroFile(file: java.io.File,codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType]): Unit; def toAvroFile$default$2: Option[org.apache.avro.file.CodecFactory] @scala.annotation.unchecked.uncheckedVariance}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object" id="57320" class="delimiter">{</a>
     <span class="keyword">def</span> <a title="(file: java.io.File, codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType])Unit" id="57322">toAvroFile</a><span class="delimiter">(</span><a title="java.io.File" id="57323">file</a>: <span title="java.io.File">File</span>, <a title="Option[org.apache.avro.file.CodecFactory]" id="57326">codec</a>: <span title="Option[org.apache.avro.file.CodecFactory]">Option</span><span class="delimiter">[</span>CodecFactory<span class="delimiter">]</span> = <span title="object None">None</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType]" id="57325">schema</a>: <span title="edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType]">TypedSchema</span><span class="delimiter">[</span>RecordType<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
       <span class="keyword">val</span> <a title="org.apache.avro.file.DataFileWriter[RecordType]" id="57327">outfile</a> = <span title="[RecordType &lt;: org.apache.avro.generic.GenericContainer](file: java.io.File, codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType])org.apache.avro.file.DataFileWriter[RecordType]">AvroOutFile</span><span title="(file: java.io.File, codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType])org.apache.avro.file.DataFileWriter[RecordType]" class="delimiter">[</span><a href="#50042" title="RecordType">RecordType</a><span class="delimiter">]</span><a href="#57325" title="edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType]" class="delimiter">(</a><a href="#57323" title="java.io.File">file</a>, <a href="#57326" title="Option[org.apache.avro.file.CodecFactory]">codec</a><span class="delimiter">)</span>
       <a href="#57317" title="Iterator[RecordType]">iter</a>.<span title="(f: RecordType =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#57327" title="org.apache.avro.file.DataFileWriter[RecordType]">outfile</a>.<a href="#57354" title="(x$1: RecordType)Unit">append</a><span class="delimiter">)</span>
       <a href="#57327" title="org.apache.avro.file.DataFileWriter[RecordType]">outfile</a>.<span title="()Unit">close</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object edu.berkeley.cs.scads.piql.modeling.Experiments.QueryRunner" id="50043">QueryRunner</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Result]" id="57391">results</a> = <a href="#50018" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a>.<span title="[PairType &lt;: edu.berkeley.cs.avro.marker.AvroPair](ns: String)(implicit evidence$7: Manifest[PairType])edu.berkeley.cs.scads.storage.PairNamespace[PairType]">getNamespace</span><span title="(ns: String)(implicit evidence$7: Manifest[edu.berkeley.cs.scads.piql.modeling.Result])edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Result]" class="delimiter">[</span><a href="../collection/QueryRunnerTask.scala.html#10131" title="edu.berkeley.cs.scads.piql.modeling.Result">Result</a><span class="delimiter">]</span><span title="(clazz: Class[_])scala.reflect.Manifest[edu.berkeley.cs.scads.piql.modeling.Result]" class="delimiter">(</span><span title="java.lang.String(&quot;queryRunnerResults&quot;)" class="string">&quot;queryRunnerResults&quot;</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; Unit" id="57393">downloadResults</a>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.piql.modeling.Result]" id="57525">outfile</a> = <span title="[RecordType &lt;: org.apache.avro.generic.GenericContainer](file: java.io.File, codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType])org.apache.avro.file.DataFileWriter[RecordType]">AvroOutFile</span><span title="(file: java.io.File, codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[edu.berkeley.cs.scads.piql.modeling.Result])org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.piql.modeling.Result]" class="delimiter">[</span><a href="../collection/QueryRunnerTask.scala.html#10131" title="edu.berkeley.cs.scads.piql.modeling.Result">Result</a><span class="delimiter">]</span><span title="(implicit r: Manifest[edu.berkeley.cs.scads.piql.modeling.Result])edu.berkeley.cs.avro.runtime.package.TypedSchema[edu.berkeley.cs.scads.piql.modeling.Result]" class="delimiter">(</span><span title="implicit deploylib.mesos.package.toFile : (str: String)java.io.File" class="string">&quot;QueryRunnerResults.avro&quot;</span><span class="delimiter">)</span>
      <a href="#57391" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Result =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#57525" title="org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.piql.modeling.Result]">outfile</a>.<a href="#57558" title="(x$1: edu.berkeley.cs.scads.piql.modeling.Result)Unit">append</a><span class="delimiter">)</span>
      <a href="#57525" title="org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.piql.modeling.Result]">outfile</a>.<span title="()Unit">close</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; org.apache.avro.file.DataFileReader[edu.berkeley.cs.scads.piql.modeling.Result] with Iterator[edu.berkeley.cs.scads.piql.modeling.Result]" id="57394">allResults</a> = <span title="[RecordType &lt;: org.apache.avro.generic.GenericContainer](file: java.io.File)(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType])org.apache.avro.file.DataFileReader[RecordType] with Iterator[RecordType]">AvroInFile</span><span title="(file: java.io.File)(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[edu.berkeley.cs.scads.piql.modeling.Result])org.apache.avro.file.DataFileReader[edu.berkeley.cs.scads.piql.modeling.Result] with Iterator[edu.berkeley.cs.scads.piql.modeling.Result]" class="delimiter">[</span><a href="../collection/QueryRunnerTask.scala.html#10131" title="edu.berkeley.cs.scads.piql.modeling.Result">Result</a><span class="delimiter">]</span><span title="(implicit r: Manifest[edu.berkeley.cs.scads.piql.modeling.Result])edu.berkeley.cs.avro.runtime.package.TypedSchema[edu.berkeley.cs.scads.piql.modeling.Result]" class="delimiter">(</span><span title="implicit deploylib.mesos.package.toFile : (str: String)java.io.File" class="string">&quot;QueryRunnerResults.avro&quot;</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; Iterator[edu.berkeley.cs.scads.piql.modeling.Result]" id="57395">goodResults</a> = <a href="#57394" title="=&gt; org.apache.avro.file.DataFileReader[edu.berkeley.cs.scads.piql.modeling.Result] with Iterator[edu.berkeley.cs.scads.piql.modeling.Result]">allResults</a>.<span title="(p: edu.berkeley.cs.scads.piql.modeling.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Result]">filter</span><span class="delimiter">(</span><a href="#57586" title="edu.berkeley.cs.scads.piql.modeling.Result">_</a>.<a href="../collection/QueryRunnerTask.scala.html#37924" title="=&gt; Int">failedQueries</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(200)" class="int">200</span><span class="delimiter">)</span>
      .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Result]">filterNot</span><span class="delimiter">(</span><a href="#57592" title="edu.berkeley.cs.scads.piql.modeling.Result">_</a>.<a href="../collection/QueryRunnerTask.scala.html#37915" title="=&gt; Int">iteration</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Result]">filter</span><span class="delimiter">(</span><a href="#57600" title="edu.berkeley.cs.scads.piql.modeling.Result">_</a>.<a href="../collection/QueryRunnerTask.scala.html#37918" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">clientConfig</a>.<a href="../collection/QueryRunnerTask.scala.html#37996" title="=&gt; Int">iterationLengthMin</a> <span title="(x: Int)Boolean">==</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>
      .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Result]">filter</span><span class="delimiter">(</span><a href="#57607" title="edu.berkeley.cs.scads.piql.modeling.Result">_</a>.<a href="../collection/QueryRunnerTask.scala.html#37918" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">clientConfig</a>.<a href="../collection/QueryRunnerTask.scala.html#37978" title="=&gt; Int">numClients</a> <span title="(x: Int)Boolean">==</span> <span title="Int(50)" class="int">50</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(results: Seq[edu.berkeley.cs.scads.piql.modeling.Result], quantile: Double)scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]" id="57396">queryTypeQuantile</a><span class="delimiter">(</span><a title="Seq[edu.berkeley.cs.scads.piql.modeling.Result]" id="57618">results</a>: <span title="Seq[edu.berkeley.cs.scads.piql.modeling.Result]">Seq</span><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <a href="#57395" title="=&gt; Iterator[edu.berkeley.cs.scads.piql.modeling.Result]">goodResults</a>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Result]">toSeq</span>, <a title="Double" id="57619">quantile</a>: <span title="Double">Double</span> = <span title="Double(0.9)" class="double">0.90</span><span class="delimiter">)</span> =
      <a href="#57618" title="Seq[edu.berkeley.cs.scads.piql.modeling.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Result =&gt; edu.berkeley.cs.scads.piql.modeling.QueryDescription)scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Seq[edu.berkeley.cs.scads.piql.modeling.Result]]">groupBy</span><span class="delimiter">(</span><a href="#57626" title="edu.berkeley.cs.scads.piql.modeling.Result">_</a>.<a href="../collection/QueryRunnerTask.scala.html#37905" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryDescription">queryDesc</a><span class="delimiter">)</span>.<span title="(f: (edu.berkeley.cs.scads.piql.modeling.QueryDescription, Seq[edu.berkeley.cs.scads.piql.modeling.Result]) =&gt; (edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int]))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Seq[edu.berkeley.cs.scads.piql.modeling.Result]],(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int]),scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]])scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]">map</span> <a href="#57647" title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])" class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.QueryDescription" id="57650">queryDesc</a>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Result]" id="57651">results</a><span class="delimiter">)</span> =&gt; <span title="(_1: edu.berkeley.cs.scads.piql.modeling.QueryDescription, _2: Option[Int])(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])" class="delimiter">(</span><a href="#57650" title="edu.berkeley.cs.scads.piql.modeling.QueryDescription">queryDesc</a>, <a href="#57651" title="Seq[edu.berkeley.cs.scads.piql.modeling.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#57672" title="edu.berkeley.cs.scads.piql.modeling.Result">_</a>.<a href="../collection/QueryRunnerTask.scala.html#37921" title="=&gt; edu.berkeley.cs.scads.perf.Histogram">responseTimes</a><span class="delimiter">)</span>
          .<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span title="(a: edu.berkeley.cs.scads.perf.Histogram)Option[edu.berkeley.cs.scads.perf.Histogram]" class="delimiter">(</span><a href="#57697" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#57698" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
          .<span title="(f: edu.berkeley.cs.scads.perf.Histogram =&gt; Int)Option[Int]">map</span><span class="delimiter">(</span><a href="#57776" title="edu.berkeley.cs.scads.perf.Histogram">_</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><a href="#57619" title="Double">quantile</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]" id="57397">thoughtstreamGraph</a> =
      <a href="#57396" title="(results: Seq[edu.berkeley.cs.scads.piql.modeling.Result], quantile: Double)scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]">queryTypeQuantile</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(p: (edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int]) =&gt; Boolean)scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]">filter</span><span class="delimiter">(</span><a href="#57830" title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryDescription">_1</span>.<a href="../collection/QueryRunnerTask.scala.html#37799" title="=&gt; String">queryName</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;thoughtstream&quot;)" class="string">&quot;thoughtstream&quot;</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(queryName: String)scala.collection.immutable.Iterable[Unit]" id="57398">quantileCsv</a><span class="delimiter">(</span><a title="String" id="57836">queryName</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]" id="57839">quantiles</a> = <a href="#57396" title="(results: Seq[edu.berkeley.cs.scads.piql.modeling.Result], quantile: Double)scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]">queryTypeQuantile</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(p: (edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int]) =&gt; Boolean)scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]">filter</span><span class="delimiter">(</span><a href="#57845" title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryDescription">_1</span>.<a href="../collection/QueryRunnerTask.scala.html#37799" title="=&gt; String">queryName</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#57836" title="String">queryName</a><span class="delimiter">)</span>

      <a href="#57839" title="scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]">quantiles</a>.<span title="(f: (edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int]) =&gt; Unit)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]],Unit,scala.collection.immutable.Iterable[Unit]])scala.collection.immutable.Iterable[Unit]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Iterable.Coll,Unit,scala.collection.immutable.Iterable[Unit]]" class="delimiter">(</span><a title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])" id="57867">i</a> =&gt; <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="List[String]" id="57868">line</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="object Nil">Nil</span>
        <a href="#57868" title="List[String]">line</a> = <a href="#57867" title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])">i</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryDescription">_1</span>.<a href="../collection/QueryRunnerTask.scala.html#37799" title="=&gt; String">queryName</a> <a href="#57869" title="(x: String)List[String]">::</a> <a href="#57868" title="List[String]">line</a>

        <span class="delimiter">(</span><span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">1</span> <span title="(end: Int)scala.collection.immutable.Range.Inclusive">to</span> <a href="#57867" title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])">i</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryDescription">_1</span>.<a href="../collection/QueryRunnerTask.scala.html#37802" title="=&gt; Seq[Int]">parameters</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>.<span title="(f: Int =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a title="Int" id="58055">j</a> =&gt;
          <a href="#57868" title="List[String]">line</a> = <a href="#57867" title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])">i</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryDescription">_1</span>.<a href="../collection/QueryRunnerTask.scala.html#37802" title="(idx: Int)Int">parameters</a><span class="delimiter">(</span><a href="#58055" title="Int">j</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="()java.lang.String">toString</span> <a href="#58056" title="(x: String)List[String]">::</a> <a href="#57868" title="List[String]">line</a>
        <span class="delimiter">)</span>

        <a href="#57868" title="List[String]">line</a> = <a href="#57867" title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])">i</a>.<span title="=&gt; Option[Int]">_2</span>.<span title="=&gt; Int">get</span>.<span title="()java.lang.String">toString</span> <a href="#58073" title="(x: String)List[String]">::</a> <a href="#57868" title="List[String]">line</a>
        <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#57868" title="List[String]">line</a>.<span title="=&gt; List[String]">reverse</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Iterable[Unit]" id="57399">thoughtstreamQuantileCsv</a> = <span class="delimiter">{</span>
		  <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;queryName,numSubscriptions,numPerPage,latency&quot;)" class="string">&quot;queryName,numSubscriptions,numPerPage,latency&quot;</span><span class="delimiter">)</span>
		  <a href="#57398" title="(queryName: String)scala.collection.immutable.Iterable[Unit]">quantileCsv</a><span class="delimiter">(</span><span title="java.lang.String(&quot;thoughtstream&quot;)" class="string">&quot;thoughtstream&quot;</span><span class="delimiter">)</span>
		<span class="delimiter">}</span>
		
		<span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Iterable[Unit]" id="57400">myThoughtsQuantileCsv</a> = <span class="delimiter">{</span>
		  <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;queryName,numPerPage,latency&quot;)" class="string">&quot;queryName,numPerPage,latency&quot;</span><span class="delimiter">)</span>
		  <a href="#57398" title="(queryName: String)scala.collection.immutable.Iterable[Unit]">quantileCsv</a><span class="delimiter">(</span><span title="java.lang.String(&quot;myThoughts&quot;)" class="string">&quot;myThoughts&quot;</span><span class="delimiter">)</span>
		<span class="delimiter">}</span>

		<span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Iterable[Unit]" id="57401">usersFollowedByQuantileCsv</a> = <span class="delimiter">{</span>
		  <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;queryName,numSubscriptions,latency&quot;)" class="string">&quot;queryName,numSubscriptions,latency&quot;</span><span class="delimiter">)</span>
		  <a href="#57398" title="(queryName: String)scala.collection.immutable.Iterable[Unit]">quantileCsv</a><span class="delimiter">(</span><span title="java.lang.String(&quot;usersFollowedBy&quot;)" class="string">&quot;usersFollowedBy&quot;</span><span class="delimiter">)</span>
		<span class="delimiter">}</span>
		
    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask" id="57402">defaultScadr</a> = <span title="(numServers: Int, numLoaders: Int, followingCardinality: Int, replicationFactor: Int, usersPerServer: Int, thoughtsPerUser: Int)edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">ScadrLoaderTask</span><span class="delimiter">(</span>numServers=<span title="Int(10)" class="int">10</span>,
				       numLoaders=<span title="Int(5)" class="int">5</span>,
				       followingCardinality=<span title="Int(500)" class="int">500</span>,
				       replicationFactor=<span title="Int(2)" class="int">2</span>,
				       usersPerServer=<span title="Int(20000)" class="int">20000</span>,
				       thoughtsPerUser=<span title="Int(100)" class="int">100</span>
				     <span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask" id="57403">testScadrCluster</a> = <span title="(numServers: Int, numLoaders: Int, followingCardinality: Int, replicationFactor: Int, usersPerServer: Int, thoughtsPerUser: Int)edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">ScadrLoaderTask</span><span class="delimiter">(</span>numServers=<span title="Int(10)" class="int">10</span>,
				  numLoaders=<span title="Int(10)" class="int">10</span>,
				  followingCardinality=<span title="Int(100)" class="int">100</span>,
				  replicationFactor=<span title="Int(2)" class="int">2</span>,
				  usersPerServer=<span title="Int(100)" class="int">100</span>,
				  thoughtsPerUser=<span title="Int(100)" class="int">100</span>
				 <span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57404">defaultRunner</a> = 
      <a href="../collection/QueryRunnerTask.scala.html#38203" title="(numClients: Int, queryProvider: String, traceIterators: Boolean, traceMessages: Boolean, traceQueries: Boolean, iterations: Int, iterationLengthMin: Int, threads: Int)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">QueryRunnerTask</a><span class="delimiter">(</span><a title="Int(5)" id="57462" class="int">5</a>,
		      <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.modeling.ScadrQueryProvider&quot;)" id="57463" class="string">&quot;edu.berkeley.cs.scads.piql.modeling.ScadrQueryProvider&quot;</a>,
		      iterations=<span class="int">10</span><a title="Int(60)" id="57464">*</a><span class="int">6</span>,
		      iterationLengthMin=<a title="Int(10)" id="57465" class="int">10</a>,
		      threads=<a title="Int(5)" id="57466" class="int">5</a>,
		      traceIterators=<a title="Boolean(false)" id="57467" class="keyword">false</a>,
		      traceMessages=<a title="Boolean(false)" id="57468" class="keyword">false</a>,
		      traceQueries=<a title="Boolean(false)" id="57469" class="keyword">false</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; Unit" id="57406">testReplicationEffect</a>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58159">rep</a> = <a href="#57402" title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask" id="58161">defaultScadr</a>.<a href="#58161" title="Int" id="58167">copy</a><span class="delimiter">(</span>replicationFactor=<a title="Int(2)" id="58162" class="int">2</a><span class="delimiter">)</span>.<a href="#50020" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58160">noRep</a> = <a href="#57402" title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">defaultScadr</a>.<a href="#50020" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>
      <a href="#57423" title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">benchmarkScadr</a><span class="delimiter">(</span><a href="#58159" title="edu.berkeley.cs.scads.storage.ScadsCluster">rep</a><span class="delimiter">)</span>
      <a href="#57423" title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">benchmarkScadr</a><span title="Unit" class="delimiter">(</span><a href="#58160" title="edu.berkeley.cs.scads.storage.ScadsCluster">noRep</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; Unit" id="57407">testGenericRunner</a>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58194">cluster</a> = <a href="../collection/GenericRelationQueryProvider.scala.html#34078" title="(numServers: Int, numLoaders: Int, replicationFactor: Int, tuplesPerServer: Int, dataSize: Int, maxCardinality: Int)edu.berkeley.cs.scads.piql.modeling.GenericRelationLoaderTask">GenericRelationLoaderTask</a><span class="delimiter">(</span><span title="Int(4)" class="int">4</span>,<span title="Int(2)" class="int">2</span>,<span title="Int(2)" class="int">2</span>,<span title="Int(10)" class="int">10</span>,<span title="Int(1)" class="int">1</span>,<span title="Int(500)" class="int">500</span><span class="delimiter">)</span>.<span title="()edu.berkeley.cs.scads.storage.ScadsCluster">newTestCluster</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="58195">runner</a> = <a href="../collection/QueryRunnerTask.scala.html#38203" title="(numClients: Int, queryProvider: String, traceIterators: Boolean, traceMessages: Boolean, traceQueries: Boolean, iterations: Int, iterationLengthMin: Int, threads: Int)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">QueryRunnerTask</a><span class="delimiter">(</span><a title="Int(1)" id="58204" class="int">1</a>,
		      <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.modeling.GenericQueryProvider&quot;)" id="58205" class="string">&quot;edu.berkeley.cs.scads.piql.modeling.GenericQueryProvider&quot;</a>,
		      iterations=<a title="Int(10)" id="58206" class="int">10</a>,
		      iterationLengthMin=<a title="Int(1)" id="58207" class="int">1</a>,
		      threads=<a title="Int(2)" id="58208" class="int">2</a>,
		      traceIterators=<a title="Boolean(false)" id="58209" class="keyword">false</a>,
		      traceMessages=<a title="Boolean(false)" id="58210" class="keyword">false</a>,
		      traceQueries=<a title="Boolean(false)" id="58211" class="keyword">false</a><span class="delimiter">)</span>
      <a href="#58195" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a>.<a href="../collection/QueryRunnerTask.scala.html#38004" title="(x$1: String)Unit">clusterAddress</a> = <a href="#58194" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">root</span>.<span title="=&gt; java.lang.String">canonicalAddress</span>
      <a href="#58195" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a>.<a href="../collection/QueryRunnerTask.scala.html#38010" title="(x$1: String)Unit">experimentAddress</a> = <a href="#58194" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">root</span>.<span title="=&gt; java.lang.String">canonicalAddress</span>
      <a href="#58195" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a>.<a href="../collection/QueryRunnerTask.scala.html#38007" title="(x$1: String)Unit">resultClusterAddress</a> = <a href="#58194" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">root</span>.<span title="=&gt; java.lang.String">canonicalAddress</span>
      <span title="Unit" class="keyword">while</span><span class="delimiter">(</span><a href="#58194" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="()List[edu.berkeley.cs.scads.comm.StorageService]">getAvailableServers</span>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="object java.lang.Thread">Thread</span>.<span title="(x$1: Long)Unit">sleep</span><a href="#58197" title="()Unit" class="delimiter">(</a><span title="Long(100L)" class="int">100</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="java.lang.Thread" id="58196">thread</a> = <span title="(x$1: java.lang.Runnable)java.lang.Thread" class="keyword">new</span> <span title="java.lang.Thread">Thread</span><span class="delimiter">(</span><a href="#58195" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a><span class="delimiter">)</span>
      <a href="#58196" title="java.lang.Thread">thread</a>.<span title="()Unit">start</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.piql.modeling.GenericRelationLoaderTask" id="57408">genericCluster</a> = 
      <a href="../collection/GenericRelationQueryProvider.scala.html#34078" title="(numServers: Int, numLoaders: Int, replicationFactor: Int, tuplesPerServer: Int, dataSize: Int, maxCardinality: Int)edu.berkeley.cs.scads.piql.modeling.GenericRelationLoaderTask">GenericRelationLoaderTask</a><span class="delimiter">(</span>
	      numServers=<span title="Int(10)" class="int">10</span>,
	      numLoaders=<span title="Int(10)" class="int">10</span>,
	      replicationFactor=<span title="Int(2)" class="int">2</span>,
	      tuplesPerServer=<span title="Int(10000)" class="int">10000</span>,
	      dataSize=<span title="Int(10)" class="int">10</span>,
	      maxCardinality=<span title="Int(500)" class="int">500</span><span class="delimiter">)</span>
    
    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57409">defaultGenericRunner</a> =
       <a href="../collection/QueryRunnerTask.scala.html#38203" title="(numClients: Int, queryProvider: String, traceIterators: Boolean, traceMessages: Boolean, traceQueries: Boolean, iterations: Int, iterationLengthMin: Int, threads: Int)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">QueryRunnerTask</a><span class="delimiter">(</span>numClients=<a title="Int(10)" id="58688" class="int">10</a>,
		      <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.modeling.GenericQueryProvider&quot;)" id="58689" class="string">&quot;edu.berkeley.cs.scads.piql.modeling.GenericQueryProvider&quot;</a>,
		      iterations=<a title="Int(30)" id="58690" class="int">30</a>,
		      iterationLengthMin=<a title="Int(10)" id="58691" class="int">10</a>,
		      threads=<a title="Int(2)" id="58692" class="int">2</a>,
		      traceIterators=<a title="Boolean(false)" id="58693" class="keyword">false</a>,
		      traceMessages=<a title="Boolean(false)" id="58694" class="keyword">false</a>,
		      traceQueries=<a title="Boolean(false)" id="58695" class="keyword">false</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57410">scadrGenericBenchmark</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58699">clust30</a> = <a href="#57408" title="edu.berkeley.cs.scads.piql.modeling.GenericRelationLoaderTask" id="58702">genericCluster</a>.<a href="../collection/GenericRelationQueryProvider.scala.html#37506" title="Int" id="58708">copy</a><span class="delimiter">(</span>dataSize=<a title="Int(30)" id="58703" class="int">30</a><span class="delimiter">)</span>.<a href="#50020" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58700">clust40</a> = <a href="#57408" title="edu.berkeley.cs.scads.piql.modeling.GenericRelationLoaderTask" id="58709">genericCluster</a>.<a href="../collection/GenericRelationQueryProvider.scala.html#37506" title="Int" id="58715">copy</a><span class="delimiter">(</span>dataSize=<a title="Int(40)" id="58710" class="int">40</a><span class="delimiter">)</span>.<a href="#50020" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58701">scadrCluster</a> = <a href="#57402" title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">defaultScadr</a>.<a href="#50020" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>

      <a href="#57422" title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">genericBenchmark</a><span class="delimiter">(</span><a href="#58699" title="edu.berkeley.cs.scads.storage.ScadsCluster">clust30</a><span class="delimiter">)</span>
      <a href="#57422" title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">genericBenchmark</a><span class="delimiter">(</span><a href="#58700" title="edu.berkeley.cs.scads.storage.ScadsCluster">clust40</a><span class="delimiter">)</span>
      <a href="#57423" title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">benchmarkScadr</a><span class="delimiter">(</span><a href="#58701" title="edu.berkeley.cs.scads.storage.ScadsCluster">scadrCluster</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="Int" id="57411">numClients</a> = <span title="Int(5)" class="int">5</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask" id="57413">tpcwCluster</a> = tpcw.<span title="(numServers: Int, numLoaders: Int, numEBs: Double, numItems: Int, replicationFactor: Int)edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">TpcwLoaderTask</span><span class="delimiter">(</span><span title="Int(10)" class="int">10</span>, <a href="#57411" title="=&gt; Int">numClients</a>, numEBs=<span title="Int(150)" class="int">150</span><span title="=&gt; Double">*</span><a href="#57411" title="=&gt; Int">numClients</a>, numItems=<span title="Int(10000)" class="int">10000</span>, <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57415">tpcwRunner</a> =
      <a href="../collection/QueryRunnerTask.scala.html#38203" title="(numClients: Int, queryProvider: String, traceIterators: Boolean, traceMessages: Boolean, traceQueries: Boolean, iterations: Int, iterationLengthMin: Int, threads: Int)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">QueryRunnerTask</a><span class="delimiter">(</span>numClients=<a title="Int(10)" id="57503" class="int">10</a>,
        <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.modeling.TpcwQueryProvider&quot;)" id="57504" class="string">&quot;edu.berkeley.cs.scads.piql.modeling.TpcwQueryProvider&quot;</a>,
        iterations=<a title="Int(30)" id="57505" class="int">30</a>,
        iterationLengthMin=<a title="Int(10)" id="57506" class="int">10</a>,
        threads=<a title="Int(2)" id="57507" class="int">2</a>,
        traceIterators=<a title="Boolean(false)" id="57508" class="keyword">false</a>,
        traceMessages=<a title="Boolean(false)" id="57509" class="keyword">false</a>,
        traceQueries=<a title="Boolean(false)" id="57510" class="keyword">false</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57417">defaultTpcwRunner</a> =
      <a href="../collection/QueryRunnerTask.scala.html#38203" title="(numClients: Int, queryProvider: String, traceIterators: Boolean, traceMessages: Boolean, traceQueries: Boolean, iterations: Int, iterationLengthMin: Int, threads: Int)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">QueryRunnerTask</a><span class="delimiter">(</span><a href="#57411" title="Int" id="57515">numClients</a>,
		      <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.modeling.TpcwQueryProvider&quot;)" id="57516" class="string">&quot;edu.berkeley.cs.scads.piql.modeling.TpcwQueryProvider&quot;</a>,
		      iterations=<span class="int">10</span><a title="Int(60)" id="57517">*</a><span class="int">6</span>,
		      iterationLengthMin=<a title="Int(10)" id="57518" class="int">10</a>,
		      threads=<a title="Int(10)" id="57519" class="int">10</a>,
		      traceIterators=<a title="Boolean(false)" id="57520" class="keyword">false</a>,
		      traceMessages=<a title="Boolean(false)" id="57521" class="keyword">false</a>,
		      traceQueries=<a title="Boolean(false)" id="57522" class="keyword">false</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57419">tpcwBenchmark</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58732">cluster</a> = <a href="#57413" title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">tpcwCluster</a>.<a href="#50020" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>
      <a href="#57417" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">defaultTpcwRunner</a>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.piql.modeling.Experiments.QueryRunner.defaultTpcwRunner.type">schedule</span><a href="#50020" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a href="#58732" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>, <a href="#50018" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; Unit" id="57420">rocTpcwBenchmark</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58736">cluster</a> = <a href="#57413" title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">tpcwCluster</a>.<a href="#50020" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>
      <span class="delimiter">(</span><span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">1</span> <span title="(end: Int)scala.collection.immutable.Range.Inclusive">to</span> <span title="Int(100)" class="int">100</span><span class="delimiter">)</span>.<span title="(f: Int =&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask)Unit">foreach</span><span class="delimiter">(</span><a title="Int" id="58849">_</a> =&gt; <a href="#57417" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">defaultTpcwRunner</a>.<a href="../collection/QueryRunnerTask.scala.html#43217" title="Int" id="58857">copy</a><span class="delimiter">(</span>iterations=<a title="Int(5)" id="58850" class="int">5</a><span class="delimiter">)</span>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">schedule</span><a href="#50020" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a href="#58736" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>,<a href="#50018" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; Unit" id="57421">testTpcwRunner</a>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58866">cluster</a> = tpcw.<span title="(numServers: Int, numLoaders: Int, numEBs: Double, numItems: Int, replicationFactor: Int)edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">TpcwLoaderTask</span><span class="delimiter">(</span><span title="Int(2)" class="int">2</span>, <span title="Int(2)" class="int">2</span>, <span title="Double(10.0)" class="int">10</span>, <span title="Int(1000)" class="int">1000</span>, <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>.<span title="()edu.berkeley.cs.scads.storage.ScadsCluster">newTestCluster</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="58867">runner</a> = <a href="../collection/QueryRunnerTask.scala.html#38203" title="(numClients: Int, queryProvider: String, traceIterators: Boolean, traceMessages: Boolean, traceQueries: Boolean, iterations: Int, iterationLengthMin: Int, threads: Int)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">QueryRunnerTask</a><span class="delimiter">(</span><a title="Int(1)" id="58870" class="int">1</a>,
		      <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.modeling.TpcwQueryProvider&quot;)" id="58871" class="string">&quot;edu.berkeley.cs.scads.piql.modeling.TpcwQueryProvider&quot;</a>,
		      iterations=<a title="Int(10)" id="58872" class="int">10</a>,
		      iterationLengthMin=<a title="Int(1)" id="58873" class="int">1</a>,
		      threads=<a title="Int(2)" id="58874" class="int">2</a>,
		      traceIterators=<a title="Boolean(false)" id="58875" class="keyword">false</a>,
		      traceMessages=<a title="Boolean(false)" id="58876" class="keyword">false</a>,
		      traceQueries=<a title="Boolean(false)" id="58877" class="keyword">false</a><span class="delimiter">)</span>
      <a href="#58867" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a>.<a href="../collection/QueryRunnerTask.scala.html#38004" title="(x$1: String)Unit">clusterAddress</a> = <a href="#58866" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">root</span>.<span title="=&gt; java.lang.String">canonicalAddress</span>
      <a href="#58867" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a>.<a href="../collection/QueryRunnerTask.scala.html#38010" title="(x$1: String)Unit">experimentAddress</a> = <a href="#58866" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">root</span>.<span title="=&gt; java.lang.String">canonicalAddress</span>
      <a href="#58867" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a>.<a href="../collection/QueryRunnerTask.scala.html#38007" title="(x$1: String)Unit">resultClusterAddress</a> = <a href="#58866" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">root</span>.<span title="=&gt; java.lang.String">canonicalAddress</span>
      <span title="Unit" class="keyword">while</span><span class="delimiter">(</span><a href="#58866" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="()List[edu.berkeley.cs.scads.comm.StorageService]">getAvailableServers</span>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="object java.lang.Thread">Thread</span>.<span title="(x$1: Long)Unit">sleep</span><a href="#58869" title="()Unit" class="delimiter">(</a><span title="Long(100L)" class="int">100</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="java.lang.Thread" id="58868">thread</a> = <span title="(x$1: java.lang.Runnable)java.lang.Thread" class="keyword">new</span> <span title="java.lang.Thread">Thread</span><span class="delimiter">(</span><a href="#58867" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a><span class="delimiter">)</span>
      <a href="#58868" title="java.lang.Thread">thread</a>.<span title="()Unit">start</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57422">genericBenchmark</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58719">cluster</a>: <span title="edu.berkeley.cs.scads.storage.ScadsCluster">ScadsCluster</span> = <a href="#57408" title="=&gt; edu.berkeley.cs.scads.piql.modeling.GenericRelationLoaderTask">genericCluster</a>.<a href="#50020" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a><span class="delimiter">)</span> =
      <a href="#57409" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">defaultGenericRunner</a>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">schedule</span><a href="#50020" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a href="#58719" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>, <a href="#50018" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57423">benchmarkScadr</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58191">cluster</a>: <span title="edu.berkeley.cs.scads.storage.ScadsCluster">ScadsCluster</span> = <a href="#57402" title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">defaultScadr</a>.<a href="#50020" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a><span class="delimiter">)</span> =
      <a href="#57404" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">defaultRunner</a>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.piql.modeling.Experiments.QueryRunner.defaultRunner.type">schedule</span><a href="#50020" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a href="#58191" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>,<a href="#50018" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span>
      
    <span class="keyword">def</span> <a title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)Unit" id="57424">rocBenchmarkScadr</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58894">cluster</a>: <span title="edu.berkeley.cs.scads.storage.ScadsCluster">ScadsCluster</span> = <a href="#57402" title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">defaultScadr</a>.<a href="#50020" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a><span class="delimiter">)</span> = 
      <span class="delimiter">(</span><span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">1</span> <span title="(end: Int)scala.collection.immutable.Range.Inclusive">to</span> <span title="Int(100)" class="int">100</span><span class="delimiter">)</span>.<span title="(f: Int =&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask)Unit">foreach</span><span class="delimiter">(</span><a title="Int" id="59007">_</a> =&gt; <a href="#57404" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">defaultRunner</a>.<a href="../collection/QueryRunnerTask.scala.html#43217" title="Int" id="59015">copy</a><span class="delimiter">(</span>iterations=<a title="Int(2)" id="59008" class="int">2</a><span class="delimiter">)</span>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">schedule</span><a href="#50020" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a href="#58894" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>,<a href="#50018" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment" id="50045">TpcwScaleExperiment</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">import</span> piql.tpcw._
    <span class="keyword">import</span> scale._
    <span class="keyword">type</span> <a title="edu.berkeley.cs.scads.piql.tpcw.scale.Result" id="59027">Result</a> = piql.tpcw.scale.<span title="edu.berkeley.cs.scads.piql.tpcw.scale.Result">Result</span>

    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" id="59028">results</a> = <a href="#50018" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a>.<span title="[PairType &lt;: edu.berkeley.cs.avro.marker.AvroPair](ns: String)(implicit evidence$7: Manifest[PairType])edu.berkeley.cs.scads.storage.PairNamespace[PairType]">getNamespace</span><span title="(ns: String)(implicit evidence$7: Manifest[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result])edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" class="delimiter">[</span><span title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">Result</span><span class="delimiter">]</span><span title="(clazz: Class[_])scala.reflect.Manifest[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" class="delimiter">(</span><span title="java.lang.String(&quot;tpcwScaleResults&quot;)" class="string">&quot;tpcwScaleResults&quot;</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; Unit" id="59030">backup</a> = <a href="#59028" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">iterateOverRange</span><a href="#50040" title="avroIterWriter extends java.lang.Object" id="59292" class="delimiter">(</a><span title="object None">None</span>,<span title="object None">None</span><span class="delimiter">)</span>.<a href="#59291" title="Option[org.apache.avro.file.CodecFactory]" id="59298">toAvroFile</a><span title="(implicit r: Manifest[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result])edu.berkeley.cs.avro.runtime.package.TypedSchema[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" class="delimiter">(</span><a title="java.io.File" id="59297" class="keyword">new</a> java.io.<span title="java.io.File">File</span><span class="delimiter">(</span><span title="java.lang.String(&quot;tpcwScale.&quot;)" class="string">&quot;tpcwScale.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.avro&quot;)" class="string">&quot;.avro&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(dataPoints: Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result])Seq[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String)]" id="59031">scaleResultsIter</a><span class="delimiter">(</span><a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" id="59318">dataPoints</a>: <span title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">Seq</span><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <a href="#59028" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">toSeq</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#59318" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">dataPoints</a>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#59322" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</span>.<span title="=&gt; Int">replicationFactor</span> <span title="(x: Int)Boolean">==</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#59341" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; Int">iterations</span> <span title="(x: Int)Boolean">==</span> <span title="Int(4)" class="int">4</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#59438" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; Int">numThreads</span> <span title="(x: Int)Boolean">==</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#59449" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; Int">runLengthMin</span> <span title="(x: Int)Boolean">==</span> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#59460" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; Int">iteration</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">toSeq</span>
        .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; (String, Int))scala.collection.immutable.Map[(String, Int),Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result" id="59477">r</a> =&gt; <span title="(_1: String, _2: Int)(String, Int)" class="delimiter">(</span><a href="#59477" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; String">clusterAddress</span>, <a href="#59477" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">r</a>.<span title="=&gt; Int">iteration</span><span class="delimiter">)</span><span class="delimiter">)</span>
        .<span title="(f: ((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]) =&gt; (Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[(String, Int),Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]],(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String),scala.collection.immutable.Iterable[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String)]])scala.collection.immutable.Iterable[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String)]">map</span> <a href="#59519" title="(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String)" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String)" class="delimiter">(</span><span class="delimiter">(</span><a title="String" id="59524">exp</a>, <a title="Int" id="59525">iter</a><span class="delimiter">)</span>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" id="59526">results</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.Histogram" id="59527">aggHist</a> = <a href="#59526" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#59548" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>.<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#59573" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#59574" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Int" id="59528">skips</a> = <a href="#59526" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result],Int,Seq[Int]])Seq[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,Int,Seq[Int]]" class="delimiter">(</span><a href="#59585" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; Int">skips</span><span class="delimiter">)</span>.<span title="(implicit num: Numeric[Int])Int">sum</span>
          <span class="keyword">val</span> <a title="Int" id="59529">failures</a> = <a href="#59526" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result],Int,Seq[Int]])Seq[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,Int,Seq[Int]]" class="delimiter">(</span><a href="#60072" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; Int">failures</span><span class="delimiter">)</span>.<span title="(implicit num: Numeric[Int])Int">sum</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask" id="59530">loaderConfig</a> = <a href="#59526" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask" id="59531">clientConfig</a> = <a href="#59526" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>
          <span title="(_1: Int, _2: Long, _3: Int, _4: Double, _5: Int, _6: String, _7: Int, _8: Int, _9: Int, _10: Int, _11: Int, _12: String)(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String)" class="delimiter">(</span><a href="#59530" title="edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</a>.<span title="=&gt; Int">numServers</span>, <a href="#59527" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="=&gt; Long">totalRequests</span>, <a href="#59527" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">0.99</span><span class="delimiter">)</span>, <a href="#59527" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="=&gt; Double">stddev</span>, <a href="#59531" title="edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</a>.<span title="=&gt; Int">numClients</span>, <a href="#59531" title="edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</a>.<span title="=&gt; String">executorClass</span>, <a href="#59525" title="Int">iter</a>, <a href="#59527" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.9)" class="double">0.90</span><span class="delimiter">)</span>, <a href="#59528" title="Int">skips</a>, <a href="#59529" title="Int">failures</a>, <a href="#59526" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="=&gt; Int">size</span>, <a href="#59524" title="String">exp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>.<span title="=&gt; Seq[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String)]">toSeq</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(dataPoints: Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result])Seq[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int)]" id="59032">scaleResults</a><span class="delimiter">(</span><a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" id="60515">dataPoints</a>: <span title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">Seq</span><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <a href="#59028" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">toSeq</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#60515" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">dataPoints</a>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#60519" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</span>.<span title="=&gt; Int">replicationFactor</span> <span title="(x: Int)Boolean">==</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#60530" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; Int">iterations</span> <span title="(x: Int)Boolean">==</span> <span title="Int(4)" class="int">4</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#60541" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; Int">numThreads</span> <span title="(x: Int)Boolean">==</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#60552" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; Int">runLengthMin</span> <span title="(x: Int)Boolean">==</span> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result" id="60563">r</a> =&gt; <a href="#60563" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</span>.<span title="=&gt; Int">numServers</span> <span title="(x: Int)Int">/</span> <span title="Int(2)" class="int">2</span> <span title="(x: Int)Boolean">==</span> <a href="#60563" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; Int">numClients</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#60580" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; Int">iteration</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">toSeq</span>
        .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Int)scala.collection.immutable.Map[Int,Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result" id="60595">r</a> =&gt; <a href="#60595" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</span>.<span title="=&gt; Int">numServers</span><span class="delimiter">)</span>
        .<span title="(f: (Int, Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]) =&gt; (Int, Long, Int, Double, Int, String, Int, Int, Int, Int))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[Int,Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]],(Int, Long, Int, Double, Int, String, Int, Int, Int, Int),scala.collection.immutable.Iterable[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int)]])scala.collection.immutable.Iterable[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int)]">map</span> <a href="#60631" title="(Int, Long, Int, Double, Int, String, Int, Int, Int, Int)" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="(Int, Long, Int, Double, Int, String, Int, Int, Int, Int)" class="delimiter">(</span><a title="Int" id="60634">numServers</a>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" id="60635">results</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.Histogram" id="60636">aggHist</a> = <a href="#60635" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#60657" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>.<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#60682" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#60683" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Int" id="60637">skips</a> = <a href="#60635" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result],Int,Seq[Int]])Seq[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,Int,Seq[Int]]" class="delimiter">(</span><a href="#60694" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; Int">skips</span><span class="delimiter">)</span>.<span title="(implicit num: Numeric[Int])Int">sum</span>
          <span class="keyword">val</span> <a title="Int" id="60638">failures</a> = <a href="#60635" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result],Int,Seq[Int]])Seq[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,Int,Seq[Int]]" class="delimiter">(</span><a href="#60736" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; Int">failures</span><span class="delimiter">)</span>.<span title="(implicit num: Numeric[Int])Int">sum</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask" id="60639">loaderConfig</a> = <a href="#60635" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask" id="60640">clientConfig</a> = <a href="#60635" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>
          <span title="(_1: Int, _2: Long, _3: Int, _4: Double, _5: Int, _6: String, _7: Int, _8: Int, _9: Int, _10: Int)(Int, Long, Int, Double, Int, String, Int, Int, Int, Int)" class="delimiter">(</span><a href="#60639" title="edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</a>.<span title="=&gt; Int">numServers</span>, <a href="#60636" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="=&gt; Long">totalRequests</span>, <a href="#60636" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">0.99</span><span class="delimiter">)</span>, <a href="#60636" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="=&gt; Double">stddev</span>, <a href="#60640" title="edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</a>.<span title="=&gt; Int">numClients</span>, <a href="#60640" title="edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</a>.<span title="=&gt; String">executorClass</span>, <a href="#60636" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.9)" class="double">0.90</span><span class="delimiter">)</span>, <a href="#60637" title="Int">skips</a>, <a href="#60638" title="Int">failures</a>, <a href="#60635" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>.<span title="=&gt; Seq[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int)]">toSeq</span>
    <span class="delimiter">}</span>


    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster" id="59033">test</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="61103">cluster</a> = <span title="(numServers: Int, numLoaders: Int, numEBs: Double, numItems: Int, replicationFactor: Int)edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">TpcwLoaderTask</span><span class="delimiter">(</span><span title="Int(2)" class="int">2</span>,<span title="Int(2)" class="int">2</span>,<span title="Double(10.0)" class="int">10</span>, <span title="Int(1000)" class="int">1000</span><span class="delimiter">)</span>.<span title="()edu.berkeley.cs.scads.storage.ScadsCluster">newTestCluster</span>

      <span title="(numClients: Int, executorClass: String, numThreads: Int, iterations: Int, runLengthMin: Int)edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">TpcwWorkflowTask</span><span class="delimiter">(</span>
        numClients=<span title="Int(1)" class="int">1</span>,
        executorClass=<span title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;)" class="string">&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;</span>
      <span class="delimiter">)</span>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)scala.collection.immutable.IndexedSeq[java.lang.Thread]">testLocally</span><span class="delimiter">(</span><a href="#61103" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a><span class="delimiter">)</span>

      <a href="#61103" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(numServers: Int, executor: String)Unit" id="59034">runScaleTest</a><span class="delimiter">(</span><a title="Int" id="61124">numServers</a>: <span title="Int">Int</span>, <a title="String" id="61125">executor</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="#61129" title="(Seq[edu.berkeley.cs.scads.comm.JvmTask], edu.berkeley.cs.scads.storage.ScadsCluster)" class="delimiter">(</a><a href="#61128" title="Seq[edu.berkeley.cs.scads.comm.JvmTask]" id="61129">scadsTasks</a>, <a href="#61128" title="edu.berkeley.cs.scads.storage.ScadsCluster" id="61130">cluster</a><span class="delimiter">)</span> = <span title="(numServers: Int, numLoaders: Int, numEBs: Double, numItems: Int, replicationFactor: Int)edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">TpcwLoaderTask</span><span class="delimiter">(</span><a href="#61124" title="Int" id="61154">numServers</a>, <a href="#61124" title="Int">numServers</a><a title="Int" id="61155">/</a><span title="Int(2)" class="int">2</span>, replicationFactor=<a title="Int(2)" id="61156" class="int">2</a>, numEBs = <span title="Int(150)" class="int">150</span> <span title="(x: Int)Int">*</span> <a href="#61124" title="Int">numServers</a><a title="Double" id="61157">/</a><span title="Int(2)" class="int">2</span>, numItems = <a title="Int(10000)" id="61158" class="int">10000</a><span class="delimiter">)</span>.<a href="#50020" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)(Seq[edu.berkeley.cs.scads.comm.JvmTask], edu.berkeley.cs.scads.storage.ScadsCluster)">delayedCluster</a>

      <span class="keyword">val</span> <a title="Seq[edu.berkeley.cs.scads.comm.JvmTask]" id="61131">tpcwTasks</a> = <a title="Int" id="61197">TpcwWorkflowTask</a><span class="delimiter">(</span>
        <a href="#61124" title="Int">numServers</a><a title="Int" id="61193">/</a><span title="Int(2)" class="int">2</span>,
        <a href="#61125" title="String" id="61194">executor</a>,
        iterations = <a title="Int(4)" id="61195" class="int">4</a>,
        runLengthMin = <a title="Int(5)" id="61196" class="int">5</a>
      <span class="delimiter">)</span>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)Seq[edu.berkeley.cs.scads.comm.JvmTask]">delayedSchedule</span><a href="#50020" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a href="#61130" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>, <a href="#50018" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span>

      <a href="#50021" title="=&gt; deploylib.mesos.RemoteServiceScheduler">serviceScheduler</a>.<span title="(processes: Seq[edu.berkeley.cs.scads.comm.JvmTask])Unit">scheduleExperiment</span><span class="delimiter">(</span><a href="#61129" title="Seq[edu.berkeley.cs.scads.comm.JvmTask]">scadsTasks</a> <span title="(that: scala.collection.GenTraversableOnce[edu.berkeley.cs.scads.comm.JvmTask])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.comm.JvmTask],edu.berkeley.cs.scads.comm.JvmTask,Seq[edu.berkeley.cs.scads.comm.JvmTask]])Seq[edu.berkeley.cs.scads.comm.JvmTask]">++</span> <a href="#61131" title="Seq[edu.berkeley.cs.scads.comm.JvmTask]">tpcwTasks</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment" id="50047">ScadrScaleExperiment</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">import</span> perf.scadr._
    <span class="keyword">import</span> scale._
    <span class="keyword">type</span> <a title="edu.berkeley.cs.scads.perf.scadr.scale.Result" id="61245">Result</a> = perf.scadr.scale.<span title="edu.berkeley.cs.scads.perf.scadr.scale.Result">Result</span>

    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="61246">results</a> = <a href="#50018" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a>.<span title="[PairType &lt;: edu.berkeley.cs.avro.marker.AvroPair](ns: String)(implicit evidence$7: Manifest[PairType])edu.berkeley.cs.scads.storage.PairNamespace[PairType]">getNamespace</span><span title="(ns: String)(implicit evidence$7: Manifest[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" class="delimiter">[</span><span title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">Result</span><span class="delimiter">]</span><span title="(clazz: Class[_])scala.reflect.Manifest[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" class="delimiter">(</span><span title="java.lang.String(&quot;scadrScaleResults&quot;)" class="string">&quot;scadrScaleResults&quot;</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; Unit" id="61248">backup</a>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.perf.scadr.scale.Result]" id="61383">outfile</a> = <span title="[RecordType &lt;: org.apache.avro.generic.GenericContainer](file: java.io.File, codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType])org.apache.avro.file.DataFileWriter[RecordType]">AvroOutFile</span><span title="(file: java.io.File, codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[edu.berkeley.cs.scads.perf.scadr.scale.Result])org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.perf.scadr.scale.Result]" class="delimiter">[</span>perf.scadr.scale.<span title="edu.berkeley.cs.scads.perf.scadr.scale.Result">Result</span><span class="delimiter">]</span><span title="(implicit r: Manifest[edu.berkeley.cs.scads.perf.scadr.scale.Result])edu.berkeley.cs.avro.runtime.package.TypedSchema[edu.berkeley.cs.scads.perf.scadr.scale.Result]" class="delimiter">(</span><span title="java.lang.String(&quot;scadrScale.&quot;)" class="string">&quot;scadrScale.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span> <span title="implicit deploylib.mesos.package.toFile : (str: String)java.io.File">+</span> <span title="java.lang.String(&quot;.avro&quot;)" class="string">&quot;.avro&quot;</span><span class="delimiter">)</span>
      <a href="#61246" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>,<span title="object None">None</span><span class="delimiter">)</span>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#61383" title="org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.perf.scadr.scale.Result]">outfile</a>.<a href="#61412" title="(x$1: edu.berkeley.cs.scads.perf.scadr.scale.Result)Unit">append</a><span class="delimiter">)</span>
      <a href="#61383" title="org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.perf.scadr.scale.Result]">outfile</a>.<span title="()Unit">close</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.perf.ScatterPlot" id="61249">dataSizeResults</a> =
      <a title="Option[String]" id="61842" class="keyword">new</a> <span title="object edu.berkeley.cs.scads.perf.ScatterPlot">ScatterPlot</span><span class="delimiter">(</span>
        <a href="#61246" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(start: Option[org.apache.avro.generic.IndexedRecord], end: Option[org.apache.avro.generic.IndexedRecord], limit: Option[Int], offset: Option[Int], ascending: Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">getRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>
          .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#61543" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; Int">iteration</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#61554" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">threads</span> <span title="(x: Int)Boolean">==</span> <span title="Int(20)" class="int">20</span><span class="delimiter">)</span>
          .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; (Int, String))scala.collection.immutable.Map[(Int, String),Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result" id="61674">e</a> =&gt; <span title="(_1: Int, _2: String)(Int, String)" class="delimiter">(</span><a href="#61674" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">e</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">usersPerServer</span>, <a href="#61674" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">e</a>.<span title="=&gt; String">clusterAddress</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Seq[((Int, String), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])]">toSeq</span>
          .<span title="(f: ((Int, String), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]) =&gt; (Int, Int))(implicit bf: scala.collection.generic.CanBuildFrom[Seq[((Int, String), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])],(Int, Int),Seq[(Int, Int)]])Seq[(Int, Int)]">map</span> <a href="#61722" title="(Int, Int)" class="delimiter">{</a>
          <span class="keyword">case</span> <span title="(Int, Int)" class="delimiter">(</span><span class="delimiter">(</span><a title="Int" id="61727">users</a>,_<span class="delimiter">)</span>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="61728">results</a><span class="delimiter">)</span> =&gt;
            <span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#61727" title="Int">users</a>, <a href="#61728" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#61749" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>
              .<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#61774" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#61775" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
              .<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">.99</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>.<a title="Seq[(Int, Int)]" id="61836">toSeq</a>,
        title = <a title="Option[java.lang.String]" id="61837" class="string">&quot;Users/Server vs. Response Time&quot;</a>,
        xaxis = <a title="Option[java.lang.String]" id="61838" class="string">&quot;Users per server&quot;</a>,
        yaxis = <a title="Option[java.lang.String]" id="61839" class="string">&quot;99th Percentile Response Time&quot;</a>,
        xunit = <a title="Option[java.lang.String]" id="61840" class="string">&quot;users/server&quot;</a>,
        yunit = <a title="Option[java.lang.String]" id="61841" class="string">&quot;milliseconds&quot;</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.perf.ScatterPlot" id="61250">threadCountResults</a> =
      <a title="Option[String]" id="62040" class="keyword">new</a> <span title="object edu.berkeley.cs.scads.perf.ScatterPlot">ScatterPlot</span><span class="delimiter">(</span><a href="#61246" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>
			     .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#61848" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; Int">iteration</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">toSeq</span>
			     .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Int)scala.collection.immutable.Map[Int,Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a href="#61863" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">threads</span><span class="delimiter">)</span>
			     .<span title="(f: (Int, Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]) =&gt; (Int, Int))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[Int,Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]],(Int, Int),scala.collection.immutable.Map[Int,Int]])scala.collection.immutable.Map[Int,Int]">map</span> <a href="#61898" title="(Int, Int)" class="delimiter">{</a>
			       <span class="keyword">case</span> <span title="(Int, Int)" class="delimiter">(</span><a title="Int" id="61901">threads</a>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="61902">results</a><span class="delimiter">)</span> =&gt; 
				 <span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#61901" title="Int">threads</a>, <a href="#61902" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#61923" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>
           .<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#61948" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#61949" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
           .<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">.99</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>.<a title="Seq[(Int, Int)]" id="62034">toSeq</a>,
        title = <a title="Option[java.lang.String]" id="62035" class="string">&quot;ThreadCount vs. Responsetime&quot;</a>,
        xaxis = <a title="Option[java.lang.String]" id="62036" class="string">&quot;Number of threads per application server&quot;</a>,
        yaxis = <a title="Option[java.lang.String]" id="62037" class="string">&quot;99th Percentile ResponseTime&quot;</a>,
        xunit = <a title="Option[java.lang.String]" id="62038" class="string">&quot;threads&quot;</a>,
        yunit = <a title="Option[java.lang.String]" id="62039" class="string">&quot;milliseconds&quot;</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(sizes: Seq[Int])Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]" id="61251">runDataSizes</a><span class="delimiter">(</span><a title="Seq[Int]" id="62044">sizes</a>: <span title="Seq[Int]">Seq</span><span class="delimiter">[</span>Int<span class="delimiter">]</span> = <span class="delimiter">(</span><span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">2</span> <span title="(end: Int)scala.collection.immutable.Range.Inclusive">to</span> <span title="Int(20)" class="int">20</span> <span title="(step: Int)scala.collection.immutable.Range">by</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>.<span title="(f: Int =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq[Int],Int,Seq[Int]])Seq[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq.Coll,Int,scala.collection.immutable.IndexedSeq[Int]]" class="delimiter">(</span><a href="#62257" title="Int">_</a> <span title="(x: Int)Int">*</span> <span title="Int(10000)" class="int">10000</span><span class="delimiter">)</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#62044" title="Seq[Int]">sizes</a>.<span title="(f: Int =&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[Int],edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask,Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]])Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask,Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]]" class="delimiter">(</span><a title="Int" id="62061">numUsers</a> =&gt;
        <a title="Int" id="62082">ScadrScaleTask</a><span class="delimiter">(</span><a title="Int(10)" id="62076" class="int">10</a>,
          <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;)" id="62077" class="string">&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;</a>,
          <a title="Double(0.01)" id="62078" class="double">0.01</a>,
          iterations = <a title="Int(2)" id="62079" class="int">2</a>,
          runLengthMin = <a title="Int(2)" id="62080" class="int">2</a>,
          threads = <a title="Int(20)" id="62081" class="int">20</a><span class="delimiter">)</span>
          .<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">schedule</span><a href="#50020" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a title="Int" id="62105">ScadrLoaderTask</a><span class="delimiter">(</span><a title="Int(10)" id="62100" class="int">10</a>, <a title="Int(10)" id="62101" class="int">10</a>, usersPerServer=<a href="#62061" title="Int" id="62102">numUsers</a>, replicationFactor=<a title="Int(1)" id="62103" class="int">1</a>, followingCardinality=<a title="Int(10)" id="62104" class="int">10</a><span class="delimiter">)</span>.<a href="#50020" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>,
          <a href="#50018" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(numThreads: Seq[Int])Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]" id="61252">runThreads</a><span class="delimiter">(</span><a title="Seq[Int]" id="62311">numThreads</a>: <span title="Seq[Int]">Seq</span><span class="delimiter">[</span>Int<span class="delimiter">]</span> = <span class="delimiter">(</span><span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">10</span> <span title="(end: Int)scala.collection.immutable.Range.Inclusive">to</span> <span title="Int(100)" class="int">100</span> <span title="(step: Int)scala.collection.immutable.Range">by</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#62311" title="Seq[Int]">numThreads</a>.<span title="(f: Int =&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[Int],edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask,Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]])Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask,Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]]" class="delimiter">(</span><a title="Int" id="62328">numThreads</a> =&gt;
        <a title="Int" id="62349">ScadrScaleTask</a><span class="delimiter">(</span><a title="Int(10)" id="62343" class="int">10</a>,
          <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;)" id="62344" class="string">&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;</a>,
          <a title="Double(0.01)" id="62345" class="double">0.01</a>,
          iterations = <a title="Int(2)" id="62346" class="int">2</a>,
          runLengthMin = <a title="Int(2)" id="62347" class="int">2</a>,
          threads = <a href="#62328" title="Int" id="62348">numThreads</a><span class="delimiter">)</span>
          .<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">schedule</span><a href="#50020" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a title="Int" id="62367">ScadrLoaderTask</a><span class="delimiter">(</span><a title="Int(10)" id="62362" class="int">10</a>, <a title="Int(10)" id="62363" class="int">10</a>, replicationFactor=<a title="Int(2)" id="62364" class="int">2</a>, followingCardinality=<a title="Int(10)" id="62365" class="int">10</a><span class="delimiter">)</span>.<a href="#50020" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>,
          <a href="#50018" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(dataPoints: Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])Seq[(Int, Long, Int, Int, String, Int, Int, Int, Int)]" id="61253">scaleResultsIter</a><span class="delimiter">(</span><a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="62470">dataPoints</a>: <span title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">Seq</span><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <a href="#61246" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">toSeq</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#62470" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">dataPoints</a>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62474" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">replicationFactor</span> <span title="(x: Int)Boolean">==</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62485" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">usersPerServer</span> <span title="(x: Int)Boolean">==</span> <span title="Int(60000)" class="int">60000</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62496" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">iterations</span> <span title="(x: Int)Boolean">==</span> <span title="Int(4)" class="int">4</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62507" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">threads</span> <span title="(x: Int)Boolean">==</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62518" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">runLengthMin</span> <span title="(x: Int)Boolean">==</span> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62529" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; Int">iteration</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">toSeq</span>
        .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; (String, Int))scala.collection.immutable.Map[(String, Int),Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result" id="62546">r</a> =&gt; <span title="(_1: String, _2: Int)(String, Int)" class="delimiter">(</span><a href="#62546" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; String">clusterAddress</span>, <a href="#62546" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">r</a>.<span title="=&gt; Int">iteration</span><span class="delimiter">)</span><span class="delimiter">)</span>
        .<span title="(f: ((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]) =&gt; (Int, Long, Int, Int, String, Int, Int, Int, Int))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[(String, Int),Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]],(Int, Long, Int, Int, String, Int, Int, Int, Int),scala.collection.immutable.Iterable[(Int, Long, Int, Int, String, Int, Int, Int, Int)]])scala.collection.immutable.Iterable[(Int, Long, Int, Int, String, Int, Int, Int, Int)]">map</span> <a href="#62588" title="(Int, Long, Int, Int, String, Int, Int, Int, Int)" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="(Int, Long, Int, Int, String, Int, Int, Int, Int)" class="delimiter">(</span><span class="delimiter">(</span><a title="String" id="62593">exp</a>, <a title="Int" id="62594">iter</a><span class="delimiter">)</span>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="62595">results</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.Histogram" id="62596">aggHist</a> = <a href="#62595" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#62616" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>.<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#62641" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#62642" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Int" id="62597">skips</a> = <a href="#62595" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],Int,Seq[Int]])Seq[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,Int,Seq[Int]]" class="delimiter">(</span><a href="#62653" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; Int">skips</span><span class="delimiter">)</span>.<span title="(implicit num: Numeric[Int])Int">sum</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask" id="62598">loaderConfig</a> = <a href="#62595" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask" id="62599">clientConfig</a> = <a href="#62595" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>
          <span title="(_1: Int, _2: Long, _3: Int, _4: Int, _5: String, _6: Int, _7: Int, _8: Int, _9: Int)(Int, Long, Int, Int, String, Int, Int, Int, Int)" class="delimiter">(</span><a href="#62598" title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</a>.<span title="=&gt; Int">numServers</span>, <a href="#62596" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="=&gt; Long">totalRequests</span>, <a href="#62596" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">0.99</span><span class="delimiter">)</span>, <a href="#62599" title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</a>.<span title="=&gt; Int">numClients</span>, <a href="#62599" title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</a>.<span title="=&gt; String">executorClass</span>, <a href="#62594" title="Int">iter</a>, <a href="#62596" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.9)" class="double">0.90</span><span class="delimiter">)</span>, <a href="#62597" title="Int">skips</a>, <a href="#62595" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>.<span title="=&gt; Seq[(Int, Long, Int, Int, String, Int, Int, Int, Int)]">toSeq</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(dataPoints: Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])Seq[(Int, Long, Int, Double, Int, String, Int, Int, Int)]" id="61254">scaleResults</a><span class="delimiter">(</span><a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="62765">dataPoints</a>: <span title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">Seq</span><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <a href="#61246" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">toSeq</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#62765" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">dataPoints</a>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62769" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">replicationFactor</span> <span title="(x: Int)Boolean">==</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62780" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">usersPerServer</span> <span title="(x: Int)Boolean">==</span> <span title="Int(60000)" class="int">60000</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62791" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">iterations</span> <span title="(x: Int)Boolean">==</span> <span title="Int(4)" class="int">4</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62802" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">threads</span> <span title="(x: Int)Boolean">==</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62813" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">runLengthMin</span> <span title="(x: Int)Boolean">==</span> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62824" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; Int">iteration</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">toSeq</span>
        .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Int)scala.collection.immutable.Map[Int,Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result" id="62839">r</a> =&gt; <a href="#62839" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">numServers</span><span class="delimiter">)</span>
        .<span title="(f: (Int, Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]) =&gt; (Int, Long, Int, Double, Int, String, Int, Int, Int))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[Int,Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]],(Int, Long, Int, Double, Int, String, Int, Int, Int),scala.collection.immutable.Iterable[(Int, Long, Int, Double, Int, String, Int, Int, Int)]])scala.collection.immutable.Iterable[(Int, Long, Int, Double, Int, String, Int, Int, Int)]">map</span> <a href="#62861" title="(Int, Long, Int, Double, Int, String, Int, Int, Int)" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="(Int, Long, Int, Double, Int, String, Int, Int, Int)" class="delimiter">(</span><a title="Int" id="62864">numServers</a>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="62865">results</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.Histogram" id="62866">aggHist</a> = <a href="#62865" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#62886" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>.<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#62911" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#62912" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Int" id="62867">skips</a> = <a href="#62865" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],Int,Seq[Int]])Seq[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,Int,Seq[Int]]" class="delimiter">(</span><a href="#62923" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; Int">skips</span><span class="delimiter">)</span>.<span title="(implicit num: Numeric[Int])Int">sum</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask" id="62868">loaderConfig</a> = <a href="#62865" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask" id="62869">clientConfig</a> = <a href="#62865" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>

          <span title="(_1: Int, _2: Long, _3: Int, _4: Double, _5: Int, _6: String, _7: Int, _8: Int, _9: Int)(Int, Long, Int, Double, Int, String, Int, Int, Int)" class="delimiter">(</span><a href="#62868" title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</a>.<span title="=&gt; Int">numServers</span>, <a href="#62866" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="=&gt; Long">totalRequests</span>, <a href="#62866" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">0.99</span><span class="delimiter">)</span>, <a href="#62866" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="=&gt; Double">stddev</span>, <a href="#62869" title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</a>.<span title="=&gt; Int">numClients</span>, <a href="#62869" title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</a>.<span title="=&gt; String">executorClass</span>, <a href="#62866" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.9)" class="double">0.90</span><span class="delimiter">)</span>, <a href="#62867" title="Int">skips</a>, <a href="#62865" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>.<span title="=&gt; Seq[(Int, Long, Int, Double, Int, String, Int, Int, Int)]">toSeq</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(numServers: Int, executor: String)Unit" id="61255">runScaleTest</a><span class="delimiter">(</span><a title="Int" id="63032">numServers</a>: <span title="Int">Int</span>, <a title="String" id="63033">executor</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="#63037" title="(Seq[edu.berkeley.cs.scads.comm.JvmTask], edu.berkeley.cs.scads.storage.ScadsCluster)" class="delimiter">(</a><a href="#63036" title="Seq[edu.berkeley.cs.scads.comm.JvmTask]" id="63037">engineTasks</a>, <a href="#63036" title="edu.berkeley.cs.scads.storage.ScadsCluster" id="63038">cluster</a><span class="delimiter">)</span> = <a title="Int" id="63061">ScadrLoaderTask</a><span class="delimiter">(</span><a href="#63032" title="Int" id="63056">numServers</a>, <a href="#63032" title="Int">numServers</a><a title="Int" id="63057">/</a><span title="Int(2)" class="int">2</span>, replicationFactor=<a title="Int(2)" id="63058" class="int">2</a>, followingCardinality=<a title="Int(50)" id="63059" class="int">50</a>, usersPerServer = <a title="Int(60000)" id="63060" class="int">60000</a><span class="delimiter">)</span>.<a href="#50020" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)(Seq[edu.berkeley.cs.scads.comm.JvmTask], edu.berkeley.cs.scads.storage.ScadsCluster)">delayedCluster</a>

      <span class="keyword">val</span> <a title="Seq[edu.berkeley.cs.scads.comm.JvmTask]" id="63039">workloadTasks</a> = <a title="Int" id="63096">ScadrScaleTask</a><span class="delimiter">(</span>
        <a href="#63032" title="Int">numServers</a><a title="Int" id="63090">/</a><span title="Int(2)" class="int">2</span>,
        <a href="#63033" title="String" id="63091">executor</a>,
        <a title="Double(0.01)" id="63092" class="double">0.01</a>,
        iterations = <a title="Int(4)" id="63093" class="int">4</a>,
        runLengthMin = <a title="Int(5)" id="63094" class="int">5</a>,
        threads = <a title="Int(10)" id="63095" class="int">10</a>
      <span class="delimiter">)</span>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)Seq[edu.berkeley.cs.scads.comm.JvmTask]">delayedSchedule</span><a href="#50020" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a href="#63038" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>, <a href="#50018" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span>

      <a href="#50021" title="=&gt; deploylib.mesos.RemoteServiceScheduler">serviceScheduler</a>.<span title="(processes: Seq[edu.berkeley.cs.scads.comm.JvmTask])Unit">scheduleExperiment</span><span class="delimiter">(</span><a href="#63037" title="Seq[edu.berkeley.cs.scads.comm.JvmTask]">engineTasks</a> <span title="(that: scala.collection.GenTraversableOnce[edu.berkeley.cs.scads.comm.JvmTask])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.comm.JvmTask],edu.berkeley.cs.scads.comm.JvmTask,Seq[edu.berkeley.cs.scads.comm.JvmTask]])Seq[edu.berkeley.cs.scads.comm.JvmTask]">++</span> <a href="#63039" title="Seq[edu.berkeley.cs.scads.comm.JvmTask]">workloadTasks</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.piql.scadr.ScadrClient" id="61256">test</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="63137">cluster</a> = <a title="Int" id="63155">ScadrLoaderTask</a><span class="delimiter">(</span><a title="Int(10)" id="63150" class="int">10</a>, <a title="Int(10)" id="63151" class="int">10</a>, replicationFactor = <a title="Int(2)" id="63152" class="int">2</a>, followingCardinality = <a title="Int(10)" id="63153" class="int">10</a>, usersPerServer = <a title="Int(1000)" id="63154" class="int">1000</a><span class="delimiter">)</span>.<span title="()edu.berkeley.cs.scads.storage.ScadsCluster">newTestCluster</span>
      <a title="Int" id="63176">ScadrScaleTask</a><span class="delimiter">(</span>
        <a title="Int(5)" id="63170" class="int">5</a>,
        <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;)" id="63171" class="string">&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;</a>,
        <a title="Double(0.01)" id="63172" class="double">0.01</a>,
        iterations = <a title="Int(1)" id="63173" class="int">1</a>,
        runLengthMin = <a title="Int(5)" id="63174" class="int">5</a>,
        threads=<a title="Int(10)" id="63175" class="int">10</a>
      <span class="delimiter">)</span>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)scala.collection.immutable.IndexedSeq[java.lang.Thread]">testLocally</span><span class="delimiter">(</span><a href="#63137" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a><span class="delimiter">)</span>

      <span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient" class="keyword">new</span> <span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">ScadrClient</span><span class="delimiter">(</span><a href="#63137" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>, <a href="#63177" title="edu.berkeley.cs.scads.piql.ParallelExecutor with edu.berkeley.cs.scads.piql.DebugExecutor" class="keyword">new</a> <a title="anonymous class $anon extends edu.berkeley.cs.scads.piql.ParallelExecutor with edu.berkeley.cs.scads.piql.DebugExecutor" id="63177">ParallelExecutor</a> <span class="keyword">with</span> <span title="edu.berkeley.cs.scads.piql.DebugExecutor">DebugExecutor</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; Seq[(Int, Int, Int, Int, Int, Int, Double)]" id="61257">sweetSpotResults</a> = <span class="delimiter">{</span>
      <a href="#61246" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#63187" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">numServers</span> <span title="(x: Int)Boolean">==</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#63196" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">usersPerServer</span> <span title="(x: Int)Boolean">==</span> <span title="Int(60000)" class="int">60000</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#63203" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">iterations</span> <span title="(x: Int)Boolean">==</span> <span title="Int(3)" class="int">3</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">toSeq</span>
        .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; (String, Int))scala.collection.immutable.Map[(String, Int),Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result" id="63218">r</a> =&gt; <span title="(_1: String, _2: Int)(String, Int)" class="delimiter">(</span><a href="#63218" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; String">experimentAddress</span>, <a href="#63218" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">r</a>.<span title="=&gt; Int">iteration</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Seq[((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])]">toSeq</span>
        .<span title="(f: ((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]) =&gt; (Int, Int, Int, Int, Int, Int, Double))(implicit bf: scala.collection.generic.CanBuildFrom[Seq[((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])],(Int, Int, Int, Int, Int, Int, Double),Seq[(Int, Int, Int, Int, Int, Int, Double)]])Seq[(Int, Int, Int, Int, Int, Int, Double)]">map</span> <a href="#63253" title="(Int, Int, Int, Int, Int, Int, Double)" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="(Int, Int, Int, Int, Int, Int, Double)" class="delimiter">(</span><a title="(String, Int)" id="63256">resultId</a>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="63257">perThreadData</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.Histogram" id="63258">aggregateTimes</a> = <a href="#63257" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">perThreadData</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#63277" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>.<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#63302" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#63303" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask" id="63259">clientConfig</a> = <a href="#63257" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">perThreadData</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask" id="63260">loaderConfig</a> = <a href="#63257" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">perThreadData</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>
          <span title="(_1: Int, _2: Int, _3: Int, _4: Int, _5: Int, _6: Int, _7: Double)(Int, Int, Int, Int, Int, Int, Double)" class="delimiter">(</span><a href="#63259" title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</a>.<span title="=&gt; Int">numClients</span>, <a href="#63259" title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</a>.<span title="=&gt; Int">threads</span>, <a href="#63260" title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</a>.<span title="=&gt; Int">replicationFactor</span>, <a href="#63258" title="edu.berkeley.cs.scads.perf.Histogram">aggregateTimes</a>.<span title="=&gt; Long">totalRequests</span>.<span title="=&gt; Int">toInt</span>, <a href="#63258" title="edu.berkeley.cs.scads.perf.Histogram">aggregateTimes</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.9)" class="double">0.90</span><span class="delimiter">)</span>, <a href="#63258" title="edu.berkeley.cs.scads.perf.Histogram">aggregateTimes</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">0.99</span><span class="delimiter">)</span>, <a href="#63258" title="edu.berkeley.cs.scads.perf.Histogram">aggregateTimes</a>.<span title="=&gt; Double">stddev</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.perf.ScatterPlot" id="61258">sweetSpotGraph</a> =
      <a title="Option[String]" id="63528" class="keyword">new</a> <span title="object edu.berkeley.cs.scads.perf.ScatterPlot">ScatterPlot</span><span class="delimiter">(</span>
        <a href="#61246" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>
          .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#63349" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">numServers</span> <span title="(x: Int)Boolean">==</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>
          .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#63358" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">usersPerServer</span> <span title="(x: Int)Boolean">==</span> <span title="Int(60000)" class="int">60000</span><span class="delimiter">)</span>
          .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#63365" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">iterations</span> <span title="(x: Int)Boolean">==</span> <span title="Int(3)" class="int">3</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">toSeq</span>
          .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; (String, Int))scala.collection.immutable.Map[(String, Int),Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result" id="63380">r</a> =&gt; <span title="(_1: String, _2: Int)(String, Int)" class="delimiter">(</span><a href="#63380" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; String">experimentAddress</span>, <a href="#63380" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">r</a>.<span title="=&gt; Int">iteration</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Seq[((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])]">toSeq</span>
          .<span title="(f: ((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]) =&gt; (Int, Int))(implicit bf: scala.collection.generic.CanBuildFrom[Seq[((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])],(Int, Int),Seq[(Int, Int)]])Seq[(Int, Int)]">map</span> <a href="#63418" title="Seq[(Int, Int)]" id="63522" class="delimiter">{</a>
          <span class="keyword">case</span> <span title="(Int, Int)" class="delimiter">(</span><a title="(String, Int)" id="63421">resultId</a>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="63422">perThreadData</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.Histogram" id="63423">aggregateTimes</a> = <a href="#63422" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">perThreadData</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#63440" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>.<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#63465" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#63466" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
            <span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#63423" title="edu.berkeley.cs.scads.perf.Histogram">aggregateTimes</a>.<span title="=&gt; Long">totalRequests</span>.<span title="=&gt; Int">toInt</span>, <a href="#63423" title="edu.berkeley.cs.scads.perf.Histogram">aggregateTimes</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">0.99</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>,
        title = <a title="Option[java.lang.String]" id="63523" class="string">&quot;TotalReuqests vs. 99thth percentile responsetime&quot;</a>,
        xaxis = <a title="Option[java.lang.String]" id="63524" class="string">&quot;total Scadr Requests &quot;</a>,
        yaxis = <a title="Option[java.lang.String]" id="63525" class="string">&quot;99th Percentile ResponseTime&quot;</a>,
        xunit = <a title="Option[java.lang.String]" id="63526" class="string">&quot;requests&quot;</a>,
        yunit = <a title="Option[java.lang.String]" id="63527" class="string">&quot;milliseconds&quot;</a><span class="delimiter">)</span>


    <span class="keyword">def</span> <a title="=&gt; Unit" id="61259">findSweetSpot</a>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="63531">storageNodes</a> = <span title="Int(10)" class="int">10</span>
      <span class="keyword">val</span> <a title="Int" id="63532">usersPerServer</a> = <span title="Int(60000)" class="int">60000</span>

      <span title="(xs: Int*)List[Int]">List</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="Int(5)" class="int">5</span>, <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>.<span title="(f: Int =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a title="Int" id="63573">numClients</a> =&gt; <span class="delimiter">{</span>
        <span title="(xs: Int*)List[Int]">List</span><span class="delimiter">(</span><span title="Int(10)" class="int">10</span>, <span title="Int(20)" class="int">20</span>, <span title="Int(30)" class="int">30</span><span class="delimiter">)</span>.<span title="(f: Int =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a title="Int" id="63614">numThreads</a> =&gt; <span class="delimiter">{</span>
          <span title="(xs: Int*)List[Int]">List</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>.<span title="(f: Int =&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask)Unit">foreach</span><span class="delimiter">(</span><a title="Int" id="63655">replication</a> =&gt; <span class="delimiter">{</span>
            <a title="Int" id="63676">ScadrScaleTask</a><span class="delimiter">(</span>
              <a href="#63573" title="Int" id="63670">numClients</a>,
              <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;)" id="63671" class="string">&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;</a>,
              <a title="Double(0.01)" id="63672" class="double">0.01</a>,
              iterations = <a title="Int(3)" id="63673" class="int">3</a>,
              runLengthMin = <a title="Int(3)" id="63674" class="int">3</a>,
              threads = <a href="#63614" title="Int" id="63675">numThreads</a><span class="delimiter">)</span>
              .<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">schedule</span><a href="#50020" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a>
              <a title="Int" id="63694">ScadrLoaderTask</a><span class="delimiter">(</span>
                numServers = <a title="Int(10)" id="63689" class="int">10</a>,
                numLoaders = <a title="Int(10)" id="63690" class="int">10</a>,
                usersPerServer = <a href="#63532" title="Int" id="63691">usersPerServer</a>,
                replicationFactor = <a href="#63655" title="Int" id="63692">replication</a>,
                followingCardinality = <a title="Int(10)" id="63693" class="int">10</a><span class="delimiter">)</span>.<a href="#50020" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>,
              <a href="#50018" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span>
          <span class="delimiter">}</span><span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>