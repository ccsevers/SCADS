<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>experiments/Experiments.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> edu.berkeley.cs
<span class="keyword">package</span> scads
<span class="keyword">package</span> piql
<span class="keyword">package</span> modeling

<span class="keyword">import</span> comm._
<span class="keyword">import</span> storage._
<span class="keyword">import</span> perf._
<span class="keyword">import</span> deploylib.ec2._
<span class="keyword">import</span> deploylib.mesos._
<span class="keyword">import</span> piql.debug._
<span class="keyword">import</span> piql.scadr._
<span class="keyword">import</span> perf.scadr._
<span class="keyword">import</span> avro.marker._
<span class="keyword">import</span> avro.runtime._
<span class="keyword">import</span> collection.TraversableOnce

 <span class="keyword">import</span> org.apache.avro.generic._
 <span class="keyword">import</span> org.apache.avro.file.<span class="delimiter">{</span>DataFileReader, DataFileWriter, CodecFactory<span class="delimiter">}</span>
 <span class="keyword">import</span> java.io.File

<span class="keyword">object</span> <a title="object edu.berkeley.cs.scads.piql.modeling.Experiments" id="9710">Experiments</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">var</span> <a title="edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode" id="50232">resultClusterAddress</a> = <span title="(uri: String)edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">ZooKeeperNode</span><span class="delimiter">(</span><span title="java.lang.String(&quot;zk://zoo1.millennium.berkeley.edu,zoo2.millennium.berkeley.edu,zoo3.millennium.berkeley.edu/home/marmbrus/vldb12&quot;)" class="string">&quot;zk://zoo1.millennium.berkeley.edu,zoo2.millennium.berkeley.edu,zoo3.millennium.berkeley.edu/home/marmbrus/vldb12&quot;</span><span class="delimiter">)</span>
  <span class="keyword">val</span> <a title="deploylib.mesos.Cluster" id="50234">cluster</a> = <span title="deploylib.mesos.Cluster" class="keyword">new</span> <span title="deploylib.mesos.Cluster">Cluster</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode" id="50236">zooKeeperRoot</a> = <a href="#50234" title="=&gt; deploylib.mesos.Cluster">cluster</a>.<span title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">zooKeeperRoot</span>
  <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="50237">resultsCluster</a> = <span title="edu.berkeley.cs.scads.storage.ScadsCluster" class="keyword">new</span> <span title="edu.berkeley.cs.scads.storage.ScadsCluster">ScadsCluster</span><span class="delimiter">(</span><a href="#50232" title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">resultClusterAddress</a><span class="delimiter">)</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" id="50239">classSource</a> = <a href="#50234" title="=&gt; deploylib.mesos.Cluster">cluster</a>.<span title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]">classSource</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; deploylib.mesos.RemoteServiceScheduler" id="50240">serviceScheduler</a> = <a href="#50234" title="=&gt; deploylib.mesos.Cluster">cluster</a>.<span title="=&gt; deploylib.mesos.RemoteServiceScheduler">serviceScheduler</span>
  <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode" id="50241">traceRoot</a> = <a href="#50236" title="edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode" id="54667">zooKeeperRoot</a>.<a href="#54667" title="Int" id="54669">getOrCreate</a><span class="delimiter">(</span><a title="java.lang.String(&quot;traceCollection&quot;)" id="54668" class="string">&quot;traceCollection&quot;</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; Unit" id="50242">watchServiceScheduler</a> = <a href="#50234" title="=&gt; deploylib.mesos.Cluster">cluster</a>.<span title="=&gt; deploylib.ec2.EC2Instance">firstMaster</span>.<span title="(remoteFile: java.io.File)Unit">watch</span><span class="delimiter">(</span><span title="implicit deploylib.mesos.package.toFile : (str: String)java.io.File" class="string">&quot;/root/serviceScheduler.log&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(pkg: String)Unit" id="50243">debug</a><span class="delimiter">(</span><a title="String" id="55304">pkg</a>: <span title="String">String</span><span class="delimiter">)</span> = net.lag.logging.<span title="(name: String)net.lag.logging.Logger">Logger</span><span class="delimiter">(</span><a href="#55304" title="String">pkg</a><span class="delimiter">)</span>.<span title="(level: java.util.logging.Level)Unit">setLevel</span><span class="delimiter">(</span>java.util.logging.<span title="object java.util.logging.Level">Level</span>.<span title="java.util.logging.Level">FINEST</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(expId: Int)edu.berkeley.cs.scads.storage.ScadsCluster" id="50244">expCluster</a><span class="delimiter">(</span><a title="Int" id="55432">expId</a>: <span title="Int">Int</span><span class="delimiter">)</span> = 
    <span title="edu.berkeley.cs.scads.storage.ScadsCluster" class="keyword">new</span> <span title="edu.berkeley.cs.scads.storage.ScadsCluster">ScadsCluster</span><span class="delimiter">(</span>
      <span title="(uri: String)edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">ZooKeeperNode</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;zk://zoo.knowsql.org/home/marmbrus/scads/experimentCluster%010d&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#55432" title="Int">expId</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(expId: Int)edu.berkeley.cs.scads.piql.scadr.ScadrClient" id="50245">scadrClient</a><span class="delimiter">(</span><a title="Int" id="55438">expId</a>: <span title="Int">Int</span><span class="delimiter">)</span> = 
    <span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient" class="keyword">new</span> <span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">ScadrClient</span><span class="delimiter">(</span><a href="#50244" title="(expId: Int)edu.berkeley.cs.scads.storage.ScadsCluster">expCluster</a><span class="delimiter">(</span><a href="#55438" title="Int">expId</a><span class="delimiter">)</span>, <span title="edu.berkeley.cs.scads.piql.exec.ParallelExecutor" class="keyword">new</span> <span title="edu.berkeley.cs.scads.piql.exec.ParallelExecutor">ParallelExecutor</span><span class="delimiter">)</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.tpcw.TpcwClient" id="50247">testTpcwClient</a> =
    <span title="edu.berkeley.cs.scads.piql.tpcw.TpcwClient" class="keyword">new</span> piql.tpcw.<span title="edu.berkeley.cs.scads.piql.tpcw.TpcwClient">TpcwClient</span><span class="delimiter">(</span><span title="edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask" class="keyword">new</span> piql.tpcw.<span title="edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">TpcwLoaderTask</span><span class="delimiter">(</span><span title="Int(10)" class="int">10</span>,<span title="Int(5)" class="int">5</span>,<span title="Double(10.0)" class="int">10</span>,<span title="Int(10000)" class="int">10000</span>,<span title="Int(2)" class="int">2</span><span class="delimiter">)</span>.<span title="()edu.berkeley.cs.scads.storage.ScadsCluster">newTestCluster</span>, <a href="#54634" title="edu.berkeley.cs.scads.piql.exec.ParallelExecutor with edu.berkeley.cs.scads.piql.debug.DebugExecutor" class="keyword">new</a> <a title="anonymous class $anon extends edu.berkeley.cs.scads.piql.exec.ParallelExecutor with edu.berkeley.cs.scads.piql.debug.DebugExecutor" id="54634">ParallelExecutor</a> <span class="keyword">with</span> <span title="edu.berkeley.cs.scads.piql.debug.DebugExecutor">DebugExecutor</span><span class="delimiter">)</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="50249">scadsCluster</a> = <span title="edu.berkeley.cs.scads.storage.ScadsCluster" class="keyword">new</span> <span title="edu.berkeley.cs.scads.storage.ScadsCluster">ScadsCluster</span><span class="delimiter">(</span><a href="#50241" title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">traceRoot</a><span class="delimiter">)</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.scadr.ScadrClient" id="50251">scadrClient</a> = <span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient" class="keyword">new</span> piql.scadr.<span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">ScadrClient</span><span class="delimiter">(</span><a href="#50248" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">scadsCluster</a>, <span title="edu.berkeley.cs.scads.piql.exec.ParallelExecutor" class="keyword">new</span> <span title="edu.berkeley.cs.scads.piql.exec.ParallelExecutor">ParallelExecutor</span><span class="delimiter">)</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.scadr.ScadrClient" id="50253">testScadrClient</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ManagedScadsCluster" id="54672">cluster</a> = <span title="object edu.berkeley.cs.scads.storage.TestScalaEngine">TestScalaEngine</span>.<span title="(numNodes: Int)edu.berkeley.cs.scads.storage.ManagedScadsCluster">newScadsCluster</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.scadr.ScadrClient" id="54673">client</a> = <span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient" class="keyword">new</span> piql.scadr.<span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">ScadrClient</span><span class="delimiter">(</span><a href="#54672" title="edu.berkeley.cs.scads.storage.ManagedScadsCluster">cluster</a>, <a href="#54704" title="edu.berkeley.cs.scads.piql.exec.ParallelExecutor with edu.berkeley.cs.scads.piql.debug.DebugExecutor" class="keyword">new</a> <a title="anonymous class $anon extends edu.berkeley.cs.scads.piql.exec.ParallelExecutor with edu.berkeley.cs.scads.piql.debug.DebugExecutor" id="54704">ParallelExecutor</a> <span class="keyword">with</span> <span title="edu.berkeley.cs.scads.piql.debug.DebugExecutor">DebugExecutor</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.scadr.ScadrLoader" id="54674">loader</a> = <span title="edu.berkeley.cs.scads.piql.scadr.ScadrLoader" class="keyword">new</span> piql.scadr.<span title="edu.berkeley.cs.scads.piql.scadr.ScadrLoader">ScadrLoader</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <a href="#54674" title="edu.berkeley.cs.scads.piql.scadr.ScadrLoader">loader</a>.<span title="(clientId: Int)loader.ScadrData">getData</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<span title="(client: edu.berkeley.cs.scads.piql.scadr.ScadrClient)Unit">load</span><span class="delimiter">(</span><a href="#54673" title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">client</a><span class="delimiter">)</span>
    <a href="#54673" title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">client</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; List[deploylib.ec2.EC2Instance#RemoteJavaProcess]" id="50254">clients</a> = <a href="#50234" title="=&gt; deploylib.mesos.Cluster">cluster</a>.<span title="(itr: Iterable[deploylib.ec2.EC2Instance])deploylib.ParallelSeq[deploylib.ec2.EC2Instance]">slaves</span>.<span title="(f: deploylib.ec2.EC2Instance =&gt; Iterable[deploylib.ec2.EC2Instance#RemoteJavaProcess])List[deploylib.ec2.EC2Instance#RemoteJavaProcess]">pflatMap</span><span class="delimiter">(</span><a href="#55626" title="deploylib.ec2.EC2Instance">_</a>.<span title="=&gt; Seq[x$1.RemoteJavaProcess]">jps</span><span class="delimiter">)</span>.<span title="(p: deploylib.ec2.EC2Instance#RemoteJavaProcess =&gt; Boolean)List[deploylib.ec2.EC2Instance#RemoteJavaProcess]">filter</span><span class="delimiter">(</span><a href="#55656" title="deploylib.ec2.EC2Instance#RemoteJavaProcess">_</a>.<span title="=&gt; String">main</span> <span title="(x$1: Any)Boolean">equals</span> <span title="java.lang.String(&quot;AvroTaskMain&quot;)" class="string">&quot;AvroTaskMain&quot;</span><span class="delimiter">)</span>.<span title="(p: deploylib.ec2.EC2Instance#RemoteJavaProcess =&gt; Boolean)List[deploylib.ec2.EC2Instance#RemoteJavaProcess]">filterNot</span><span class="delimiter">(</span><a href="#55662" title="deploylib.ec2.EC2Instance#RemoteJavaProcess">_</a>.<span title="=&gt; String">stack</span> <span title="(x$1: java.lang.CharSequence)Boolean">contains</span> <span title="java.lang.String(&quot;ScalaEngineTask&quot;)" class="string">&quot;ScalaEngineTask&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; List[deploylib.ec2.EC2Instance#RemoteJavaProcess]" id="50255">laggards</a> = <a href="#50254" title="(itr: Iterable[deploylib.ec2.EC2Instance#RemoteJavaProcess])deploylib.ParallelSeq[deploylib.ec2.EC2Instance#RemoteJavaProcess]">clients</a>.<span title="(f: deploylib.ec2.EC2Instance#RemoteJavaProcess =&gt; Boolean)List[deploylib.ec2.EC2Instance#RemoteJavaProcess]">pfilterNot</span><span class="delimiter">(</span><a href="#55697" title="deploylib.ec2.EC2Instance#RemoteJavaProcess">_</a>.<span title="=&gt; String">stack</span> <span title="(x$1: java.lang.CharSequence)Boolean">contains</span> <span title="java.lang.String(&quot;awaitChild&quot;)" class="string">&quot;awaitChild&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; Unit" id="50256">tagClients</a> = <a href="#50254" title="=&gt; List[deploylib.ec2.EC2Instance#RemoteJavaProcess]">clients</a>.<span title="(f: deploylib.ec2.EC2Instance#RemoteJavaProcess =&gt; deploylib.ec2.EC2Instance)(implicit bf: scala.collection.generic.CanBuildFrom[List[deploylib.ec2.EC2Instance#RemoteJavaProcess],deploylib.ec2.EC2Instance,List[deploylib.ec2.EC2Instance]])List[deploylib.ec2.EC2Instance]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,deploylib.ec2.EC2Instance,List[deploylib.ec2.EC2Instance]]" class="delimiter">(</span><a href="#55720" title="deploylib.ec2.EC2Instance#RemoteJavaProcess">_</a>.<span title="=&gt; deploylib.RemoteMachine">remoteMachine</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="deploylib.ec2.EC2Instance" class="delimiter">[</span><span title="deploylib.ec2.EC2Instance">EC2Instance</span><span class="delimiter">]</span><span class="delimiter">)</span>.<span title="(f: deploylib.ec2.EC2Instance =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#55927" title="deploylib.ec2.EC2Instance">_</a>.<span title="object x$6.tags">tags</span> <span title="(key: String, value: String)Unit">+=</span> <span class="delimiter">(</span><span title="java.lang.String(&quot;task&quot;)" class="string">&quot;task&quot;</span>, <span title="java.lang.String(&quot;client&quot;)" class="string">&quot;client&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(id: String)Unit" id="50257">killTask</a><span class="delimiter">(</span><a title="String" id="57207">id</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#50234" title="=&gt; deploylib.mesos.Cluster">cluster</a>.<a title="deploylib.mesos.RemoteServiceScheduler" id="57209">serviceScheduler</a> <a href="#57209" title="Int" id="57249">!?</a> <span title="(taskId: String)edu.berkeley.cs.scads.comm.KillTaskRequest">KillTaskRequest</span><a title="edu.berkeley.cs.scads.comm.KillTaskRequest" id="57248" class="delimiter">(</a><a href="#57207" title="String">id</a><span class="delimiter">)</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit edu.berkeley.cs.scads.piql.modeling.Experiments.productSeqToExcel : (lines: Seq[Product])java.lang.Object{def toExcel: Unit}" id="50258">productSeqToExcel</a><span class="delimiter">(</span><a title="Seq[Product]" id="57250">lines</a>: <span title="Seq[Product]">Seq</span><span class="delimiter">[</span>Product<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#57253" title="java.lang.Object{def toExcel: Unit}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object" id="57253" class="delimiter">{</a>
    <span class="keyword">import</span> java.io._
    <span class="keyword">def</span> <a title="=&gt; Unit" id="57256">toExcel</a>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.io.File" id="57258">file</a> = <span title="object java.io.File">File</span>.<span title="(x$1: java.lang.String, x$2: java.lang.String)java.io.File">createTempFile</span><span class="delimiter">(</span><span title="java.lang.String(&quot;scadsOut&quot;)" class="string">&quot;scadsOut&quot;</span>, <span title="java.lang.String(&quot;.csv&quot;)" class="string">&quot;.csv&quot;</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="java.io.FileWriter" id="57259">writer</a> = <span title="(x$1: java.io.File)java.io.FileWriter" class="keyword">new</span> <span title="java.io.FileWriter">FileWriter</span><span class="delimiter">(</span><a href="#57258" title="java.io.File">file</a><span class="delimiter">)</span>

      <a href="#57250" title="Seq[Product]">lines</a>.<span title="(f: Product =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[Product],java.lang.String,Seq[java.lang.String]])Seq[java.lang.String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,java.lang.String,Seq[java.lang.String]]" class="delimiter">(</span><a href="#57370" title="Product">_</a>.<span title="=&gt; Iterator[Any]">productIterator</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>.<span title="(f: java.lang.String =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#57259" title="java.io.FileWriter">writer</a>.<a href="#57421" title="(x$1: java.lang.String)Unit">write</a><span class="delimiter">)</span>
      <a href="#57259" title="java.io.FileWriter">writer</a>.<span title="()Unit">close</span>

      <span title="object java.lang.Runtime">Runtime</span>.<span title="()java.lang.Runtime">getRuntime</span>.<span title="(x$1: Array[java.lang.String])java.lang.Process">exec</span><span title="Unit" class="delimiter">(</span><span title="(xs: java.lang.String*)(implicit evidence$2: scala.reflect.ClassManifest[java.lang.String])Array[java.lang.String]">Array</span><span title="(clazz: java.lang.Class[_])scala.reflect.ClassManifest[java.lang.String]" class="delimiter">(</span><span title="java.lang.String(&quot;/usr/bin/open&quot;)" class="string">&quot;/usr/bin/open&quot;</span>, <a href="#57258" title="java.io.File">file</a>.<span title="()java.lang.String">getCanonicalPath</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[RecordType &lt;: org.apache.avro.generic.GenericContainer](iter: Iterator[RecordType])java.lang.Object{def toAvroFile(file: java.io.File,codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType]): Unit; def toAvroFile$default$2: Option[org.apache.avro.file.CodecFactory]}" id="50259">avroIterWriter</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: org.apache.avro.generic.GenericContainer" id="50261">RecordType</a> &lt;: GenericContainer<span class="delimiter">]</span><span class="delimiter">(</span><a title="Iterator[RecordType]" id="57537">iter</a>: <span title="Iterator[RecordType]">Iterator</span><span class="delimiter">[</span>RecordType<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#57540" title="java.lang.Object{def toAvroFile(file: java.io.File,codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType]): Unit; def toAvroFile$default$2: Option[org.apache.avro.file.CodecFactory] @scala.annotation.unchecked.uncheckedVariance}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object" id="57540" class="delimiter">{</a>
     <span class="keyword">def</span> <a title="(file: java.io.File, codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType])Unit" id="57542">toAvroFile</a><span class="delimiter">(</span><a title="java.io.File" id="57543">file</a>: <span title="java.io.File">File</span>, <a title="Option[org.apache.avro.file.CodecFactory]" id="57546">codec</a>: <span title="Option[org.apache.avro.file.CodecFactory]">Option</span><span class="delimiter">[</span>CodecFactory<span class="delimiter">]</span> = <span title="object None">None</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType]" id="57545">schema</a>: <span title="edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType]">TypedSchema</span><span class="delimiter">[</span>RecordType<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
       <span class="keyword">val</span> <a title="org.apache.avro.file.DataFileWriter[RecordType]" id="57547">outfile</a> = <span title="[RecordType &lt;: org.apache.avro.generic.GenericContainer](file: java.io.File, codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType])org.apache.avro.file.DataFileWriter[RecordType]">AvroOutFile</span><span title="(file: java.io.File, codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType])org.apache.avro.file.DataFileWriter[RecordType]" class="delimiter">[</span><a href="#50261" title="RecordType">RecordType</a><span class="delimiter">]</span><a href="#57545" title="edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType]" class="delimiter">(</a><a href="#57543" title="java.io.File">file</a>, <a href="#57546" title="Option[org.apache.avro.file.CodecFactory]">codec</a><span class="delimiter">)</span>
       <a href="#57537" title="Iterator[RecordType]">iter</a>.<span title="(f: RecordType =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#57547" title="org.apache.avro.file.DataFileWriter[RecordType]">outfile</a>.<a href="#57574" title="(x$1: RecordType)Unit">append</a><span class="delimiter">)</span>
       <a href="#57547" title="org.apache.avro.file.DataFileWriter[RecordType]">outfile</a>.<span title="()Unit">close</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object edu.berkeley.cs.scads.piql.modeling.Experiments.QueryRunner" id="50262">QueryRunner</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Result]" id="57611">results</a> = <a href="#50237" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a>.<span title="[PairType &lt;: edu.berkeley.cs.avro.marker.AvroPair](ns: String)(implicit evidence$7: Manifest[PairType])edu.berkeley.cs.scads.storage.PairNamespace[PairType]">getNamespace</span><span title="(ns: String)(implicit evidence$7: Manifest[edu.berkeley.cs.scads.piql.modeling.Result])edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Result]" class="delimiter">[</span><a href="../collection/QueryRunnerTask.scala.html#9632" title="edu.berkeley.cs.scads.piql.modeling.Result">Result</a><span class="delimiter">]</span><span title="(clazz: Class[_])scala.reflect.Manifest[edu.berkeley.cs.scads.piql.modeling.Result]" class="delimiter">(</span><span title="java.lang.String(&quot;queryRunnerResults&quot;)" class="string">&quot;queryRunnerResults&quot;</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; Unit" id="57613">downloadResults</a>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.piql.modeling.Result]" id="57745">outfile</a> = <span title="[RecordType &lt;: org.apache.avro.generic.GenericContainer](file: java.io.File, codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType])org.apache.avro.file.DataFileWriter[RecordType]">AvroOutFile</span><span title="(file: java.io.File, codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[edu.berkeley.cs.scads.piql.modeling.Result])org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.piql.modeling.Result]" class="delimiter">[</span><a href="../collection/QueryRunnerTask.scala.html#9632" title="edu.berkeley.cs.scads.piql.modeling.Result">Result</a><span class="delimiter">]</span><span title="(implicit r: Manifest[edu.berkeley.cs.scads.piql.modeling.Result])edu.berkeley.cs.avro.runtime.package.TypedSchema[edu.berkeley.cs.scads.piql.modeling.Result]" class="delimiter">(</span><span title="implicit deploylib.mesos.package.toFile : (str: String)java.io.File" class="string">&quot;QueryRunnerResults.avro&quot;</span><span class="delimiter">)</span>
      <a href="#57611" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Result =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#57745" title="org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.piql.modeling.Result]">outfile</a>.<a href="#57778" title="(x$1: edu.berkeley.cs.scads.piql.modeling.Result)Unit">append</a><span class="delimiter">)</span>
      <a href="#57745" title="org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.piql.modeling.Result]">outfile</a>.<span title="()Unit">close</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; org.apache.avro.file.DataFileReader[edu.berkeley.cs.scads.piql.modeling.Result] with Iterator[edu.berkeley.cs.scads.piql.modeling.Result]" id="57614">allResults</a> = <span title="[RecordType &lt;: org.apache.avro.generic.GenericContainer](file: java.io.File)(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType])org.apache.avro.file.DataFileReader[RecordType] with Iterator[RecordType]">AvroInFile</span><span title="(file: java.io.File)(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[edu.berkeley.cs.scads.piql.modeling.Result])org.apache.avro.file.DataFileReader[edu.berkeley.cs.scads.piql.modeling.Result] with Iterator[edu.berkeley.cs.scads.piql.modeling.Result]" class="delimiter">[</span><a href="../collection/QueryRunnerTask.scala.html#9632" title="edu.berkeley.cs.scads.piql.modeling.Result">Result</a><span class="delimiter">]</span><span title="(implicit r: Manifest[edu.berkeley.cs.scads.piql.modeling.Result])edu.berkeley.cs.avro.runtime.package.TypedSchema[edu.berkeley.cs.scads.piql.modeling.Result]" class="delimiter">(</span><span title="implicit deploylib.mesos.package.toFile : (str: String)java.io.File" class="string">&quot;QueryRunnerResults.avro&quot;</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; Iterator[edu.berkeley.cs.scads.piql.modeling.Result]" id="57615">goodResults</a> = <a href="#57614" title="=&gt; org.apache.avro.file.DataFileReader[edu.berkeley.cs.scads.piql.modeling.Result] with Iterator[edu.berkeley.cs.scads.piql.modeling.Result]">allResults</a>.<span title="(p: edu.berkeley.cs.scads.piql.modeling.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Result]">filter</span><span class="delimiter">(</span><a href="#57806" title="edu.berkeley.cs.scads.piql.modeling.Result">_</a>.<a href="../collection/QueryRunnerTask.scala.html#37931" title="=&gt; Int">failedQueries</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(200)" class="int">200</span><span class="delimiter">)</span>
      .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Result]">filterNot</span><span class="delimiter">(</span><a href="#57812" title="edu.berkeley.cs.scads.piql.modeling.Result">_</a>.<a href="../collection/QueryRunnerTask.scala.html#37922" title="=&gt; Int">iteration</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Result]">filter</span><span class="delimiter">(</span><a href="#57820" title="edu.berkeley.cs.scads.piql.modeling.Result">_</a>.<a href="../collection/QueryRunnerTask.scala.html#37925" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">clientConfig</a>.<a href="../collection/QueryRunnerTask.scala.html#38003" title="=&gt; Int">iterationLengthMin</a> <span title="(x: Int)Boolean">==</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>
      .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Result]">filter</span><span class="delimiter">(</span><a href="#57827" title="edu.berkeley.cs.scads.piql.modeling.Result">_</a>.<a href="../collection/QueryRunnerTask.scala.html#37925" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">clientConfig</a>.<a href="../collection/QueryRunnerTask.scala.html#37985" title="=&gt; Int">numClients</a> <span title="(x: Int)Boolean">==</span> <span title="Int(50)" class="int">50</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(results: Seq[edu.berkeley.cs.scads.piql.modeling.Result], quantile: Double)scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]" id="57616">queryTypeQuantile</a><span class="delimiter">(</span><a title="Seq[edu.berkeley.cs.scads.piql.modeling.Result]" id="57838">results</a>: <span title="Seq[edu.berkeley.cs.scads.piql.modeling.Result]">Seq</span><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <a href="#57615" title="=&gt; Iterator[edu.berkeley.cs.scads.piql.modeling.Result]">goodResults</a>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Result]">toSeq</span>, <a title="Double" id="57839">quantile</a>: <span title="Double">Double</span> = <span title="Double(0.9)" class="double">0.90</span><span class="delimiter">)</span> =
      <a href="#57838" title="Seq[edu.berkeley.cs.scads.piql.modeling.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Result =&gt; edu.berkeley.cs.scads.piql.modeling.QueryDescription)scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Seq[edu.berkeley.cs.scads.piql.modeling.Result]]">groupBy</span><span class="delimiter">(</span><a href="#57846" title="edu.berkeley.cs.scads.piql.modeling.Result">_</a>.<a href="../collection/QueryRunnerTask.scala.html#37912" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryDescription">queryDesc</a><span class="delimiter">)</span>.<span title="(f: (edu.berkeley.cs.scads.piql.modeling.QueryDescription, Seq[edu.berkeley.cs.scads.piql.modeling.Result]) =&gt; (edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int]))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Seq[edu.berkeley.cs.scads.piql.modeling.Result]],(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int]),scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]])scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]">map</span> <a href="#57867" title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])" class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.QueryDescription" id="57870">queryDesc</a>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Result]" id="57871">results</a><span class="delimiter">)</span> =&gt; <span title="(_1: edu.berkeley.cs.scads.piql.modeling.QueryDescription, _2: Option[Int])(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])" class="delimiter">(</span><a href="#57870" title="edu.berkeley.cs.scads.piql.modeling.QueryDescription">queryDesc</a>, <a href="#57871" title="Seq[edu.berkeley.cs.scads.piql.modeling.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#57892" title="edu.berkeley.cs.scads.piql.modeling.Result">_</a>.<a href="../collection/QueryRunnerTask.scala.html#37928" title="=&gt; edu.berkeley.cs.scads.perf.Histogram">responseTimes</a><span class="delimiter">)</span>
          .<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span title="(a: edu.berkeley.cs.scads.perf.Histogram)Option[edu.berkeley.cs.scads.perf.Histogram]" class="delimiter">(</span><a href="#57917" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#57918" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
          .<span title="(f: edu.berkeley.cs.scads.perf.Histogram =&gt; Int)Option[Int]">map</span><span class="delimiter">(</span><a href="#57996" title="edu.berkeley.cs.scads.perf.Histogram">_</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><a href="#57839" title="Double">quantile</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]" id="57617">thoughtstreamGraph</a> =
      <a href="#57616" title="(results: Seq[edu.berkeley.cs.scads.piql.modeling.Result], quantile: Double)scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]">queryTypeQuantile</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(p: (edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int]) =&gt; Boolean)scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]">filter</span><span class="delimiter">(</span><a href="#58050" title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryDescription">_1</span>.<a href="../collection/QueryRunnerTask.scala.html#37806" title="=&gt; String">queryName</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;thoughtstream&quot;)" class="string">&quot;thoughtstream&quot;</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(queryName: String)scala.collection.immutable.Iterable[Unit]" id="57618">quantileCsv</a><span class="delimiter">(</span><a title="String" id="58056">queryName</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]" id="58059">quantiles</a> = <a href="#57616" title="(results: Seq[edu.berkeley.cs.scads.piql.modeling.Result], quantile: Double)scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]">queryTypeQuantile</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(p: (edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int]) =&gt; Boolean)scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]">filter</span><span class="delimiter">(</span><a href="#58065" title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryDescription">_1</span>.<a href="../collection/QueryRunnerTask.scala.html#37806" title="=&gt; String">queryName</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#58056" title="String">queryName</a><span class="delimiter">)</span>

      <a href="#58059" title="scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]">quantiles</a>.<span title="(f: (edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int]) =&gt; Unit)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]],Unit,scala.collection.immutable.Iterable[Unit]])scala.collection.immutable.Iterable[Unit]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Iterable.Coll,Unit,scala.collection.immutable.Iterable[Unit]]" class="delimiter">(</span><a title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])" id="58087">i</a> =&gt; <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="List[String]" id="58088">line</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="object Nil">Nil</span>
        <a href="#58088" title="List[String]">line</a> = <a href="#58087" title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])">i</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryDescription">_1</span>.<a href="../collection/QueryRunnerTask.scala.html#37806" title="=&gt; String">queryName</a> <a href="#58089" title="(x: String)List[String]">::</a> <a href="#58088" title="List[String]">line</a>

        <span class="delimiter">(</span><span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">1</span> <span title="(end: Int)scala.collection.immutable.Range.Inclusive">to</span> <a href="#58087" title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])">i</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryDescription">_1</span>.<a href="../collection/QueryRunnerTask.scala.html#37809" title="=&gt; Seq[Int]">parameters</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>.<span title="(f: Int =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a title="Int" id="58275">j</a> =&gt;
          <a href="#58088" title="List[String]">line</a> = <a href="#58087" title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])">i</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryDescription">_1</span>.<a href="../collection/QueryRunnerTask.scala.html#37809" title="(idx: Int)Int">parameters</a><span class="delimiter">(</span><a href="#58275" title="Int">j</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="()java.lang.String">toString</span> <a href="#58276" title="(x: String)List[String]">::</a> <a href="#58088" title="List[String]">line</a>
        <span class="delimiter">)</span>

        <a href="#58088" title="List[String]">line</a> = <a href="#58087" title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])">i</a>.<span title="=&gt; Option[Int]">_2</span>.<span title="=&gt; Int">get</span>.<span title="()java.lang.String">toString</span> <a href="#58293" title="(x: String)List[String]">::</a> <a href="#58088" title="List[String]">line</a>
        <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#58088" title="List[String]">line</a>.<span title="=&gt; List[String]">reverse</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Iterable[Unit]" id="57619">thoughtstreamQuantileCsv</a> = <span class="delimiter">{</span>
		  <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;queryName,numSubscriptions,numPerPage,latency&quot;)" class="string">&quot;queryName,numSubscriptions,numPerPage,latency&quot;</span><span class="delimiter">)</span>
		  <a href="#57618" title="(queryName: String)scala.collection.immutable.Iterable[Unit]">quantileCsv</a><span class="delimiter">(</span><span title="java.lang.String(&quot;thoughtstream&quot;)" class="string">&quot;thoughtstream&quot;</span><span class="delimiter">)</span>
		<span class="delimiter">}</span>
		
		<span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Iterable[Unit]" id="57620">myThoughtsQuantileCsv</a> = <span class="delimiter">{</span>
		  <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;queryName,numPerPage,latency&quot;)" class="string">&quot;queryName,numPerPage,latency&quot;</span><span class="delimiter">)</span>
		  <a href="#57618" title="(queryName: String)scala.collection.immutable.Iterable[Unit]">quantileCsv</a><span class="delimiter">(</span><span title="java.lang.String(&quot;myThoughts&quot;)" class="string">&quot;myThoughts&quot;</span><span class="delimiter">)</span>
		<span class="delimiter">}</span>

		<span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Iterable[Unit]" id="57621">usersFollowedByQuantileCsv</a> = <span class="delimiter">{</span>
		  <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;queryName,numSubscriptions,latency&quot;)" class="string">&quot;queryName,numSubscriptions,latency&quot;</span><span class="delimiter">)</span>
		  <a href="#57618" title="(queryName: String)scala.collection.immutable.Iterable[Unit]">quantileCsv</a><span class="delimiter">(</span><span title="java.lang.String(&quot;usersFollowedBy&quot;)" class="string">&quot;usersFollowedBy&quot;</span><span class="delimiter">)</span>
		<span class="delimiter">}</span>
		
    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask" id="57622">defaultScadr</a> = <span title="(numServers: Int, numLoaders: Int, followingCardinality: Int, replicationFactor: Int, usersPerServer: Int, thoughtsPerUser: Int)edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">ScadrLoaderTask</span><span class="delimiter">(</span>numServers=<span title="Int(10)" class="int">10</span>,
				       numLoaders=<span title="Int(5)" class="int">5</span>,
				       followingCardinality=<span title="Int(500)" class="int">500</span>,
				       replicationFactor=<span title="Int(2)" class="int">2</span>,
				       usersPerServer=<span title="Int(20000)" class="int">20000</span>,
				       thoughtsPerUser=<span title="Int(100)" class="int">100</span>
				     <span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask" id="57623">testScadrCluster</a> = <span title="(numServers: Int, numLoaders: Int, followingCardinality: Int, replicationFactor: Int, usersPerServer: Int, thoughtsPerUser: Int)edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">ScadrLoaderTask</span><span class="delimiter">(</span>numServers=<span title="Int(10)" class="int">10</span>,
				  numLoaders=<span title="Int(10)" class="int">10</span>,
				  followingCardinality=<span title="Int(100)" class="int">100</span>,
				  replicationFactor=<span title="Int(2)" class="int">2</span>,
				  usersPerServer=<span title="Int(100)" class="int">100</span>,
				  thoughtsPerUser=<span title="Int(100)" class="int">100</span>
				 <span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57624">defaultRunner</a> = 
      <a href="../collection/QueryRunnerTask.scala.html#38220" title="(numClients: Int, queryProvider: String, traceIterators: Boolean, traceMessages: Boolean, traceQueries: Boolean, iterations: Int, iterationLengthMin: Int, threads: Int)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">QueryRunnerTask</a><span class="delimiter">(</span><a title="Int(5)" id="57682" class="int">5</a>,
		      <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.modeling.ScadrQueryProvider&quot;)" id="57683" class="string">&quot;edu.berkeley.cs.scads.piql.modeling.ScadrQueryProvider&quot;</a>,
		      iterations=<span class="int">10</span><a title="Int(60)" id="57684">*</a><span class="int">6</span>,
		      iterationLengthMin=<a title="Int(10)" id="57685" class="int">10</a>,
		      threads=<a title="Int(5)" id="57686" class="int">5</a>,
		      traceIterators=<a title="Boolean(false)" id="57687" class="keyword">false</a>,
		      traceMessages=<a title="Boolean(false)" id="57688" class="keyword">false</a>,
		      traceQueries=<a title="Boolean(false)" id="57689" class="keyword">false</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; Unit" id="57626">testReplicationEffect</a>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58379">rep</a> = <a href="#57622" title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask" id="58381">defaultScadr</a>.<a href="#58381" title="Int" id="58387">copy</a><span class="delimiter">(</span>replicationFactor=<a title="Int(2)" id="58382" class="int">2</a><span class="delimiter">)</span>.<a href="#50239" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58380">noRep</a> = <a href="#57622" title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">defaultScadr</a>.<a href="#50239" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>
      <a href="#57643" title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">benchmarkScadr</a><span class="delimiter">(</span><a href="#58379" title="edu.berkeley.cs.scads.storage.ScadsCluster">rep</a><span class="delimiter">)</span>
      <a href="#57643" title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">benchmarkScadr</a><span title="Unit" class="delimiter">(</span><a href="#58380" title="edu.berkeley.cs.scads.storage.ScadsCluster">noRep</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; Unit" id="57627">testGenericRunner</a>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58414">cluster</a> = <a href="../collection/GenericRelationQueryProvider.scala.html#34085" title="(numServers: Int, numLoaders: Int, replicationFactor: Int, tuplesPerServer: Int, dataSize: Int, maxCardinality: Int)edu.berkeley.cs.scads.piql.modeling.GenericRelationLoaderTask">GenericRelationLoaderTask</a><span class="delimiter">(</span><span title="Int(4)" class="int">4</span>,<span title="Int(2)" class="int">2</span>,<span title="Int(2)" class="int">2</span>,<span title="Int(10)" class="int">10</span>,<span title="Int(1)" class="int">1</span>,<span title="Int(500)" class="int">500</span><span class="delimiter">)</span>.<span title="()edu.berkeley.cs.scads.storage.ScadsCluster">newTestCluster</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="58415">runner</a> = <a href="../collection/QueryRunnerTask.scala.html#38220" title="(numClients: Int, queryProvider: String, traceIterators: Boolean, traceMessages: Boolean, traceQueries: Boolean, iterations: Int, iterationLengthMin: Int, threads: Int)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">QueryRunnerTask</a><span class="delimiter">(</span><a title="Int(1)" id="58424" class="int">1</a>,
		      <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.modeling.GenericQueryProvider&quot;)" id="58425" class="string">&quot;edu.berkeley.cs.scads.piql.modeling.GenericQueryProvider&quot;</a>,
		      iterations=<a title="Int(10)" id="58426" class="int">10</a>,
		      iterationLengthMin=<a title="Int(1)" id="58427" class="int">1</a>,
		      threads=<a title="Int(2)" id="58428" class="int">2</a>,
		      traceIterators=<a title="Boolean(false)" id="58429" class="keyword">false</a>,
		      traceMessages=<a title="Boolean(false)" id="58430" class="keyword">false</a>,
		      traceQueries=<a title="Boolean(false)" id="58431" class="keyword">false</a><span class="delimiter">)</span>
      <a href="#58415" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a>.<a href="../collection/QueryRunnerTask.scala.html#38011" title="(x$1: String)Unit">clusterAddress</a> = <a href="#58414" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">root</span>.<span title="=&gt; java.lang.String">canonicalAddress</span>
      <a href="#58415" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a>.<a href="../collection/QueryRunnerTask.scala.html#38017" title="(x$1: String)Unit">experimentAddress</a> = <a href="#58414" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">root</span>.<span title="=&gt; java.lang.String">canonicalAddress</span>
      <a href="#58415" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a>.<a href="../collection/QueryRunnerTask.scala.html#38014" title="(x$1: String)Unit">resultClusterAddress</a> = <a href="#58414" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">root</span>.<span title="=&gt; java.lang.String">canonicalAddress</span>
      <span title="Unit" class="keyword">while</span><span class="delimiter">(</span><a href="#58414" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="()List[edu.berkeley.cs.scads.comm.StorageService]">getAvailableServers</span>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="object java.lang.Thread">Thread</span>.<span title="(x$1: Long)Unit">sleep</span><a href="#58417" title="()Unit" class="delimiter">(</a><span title="Long(100L)" class="int">100</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="java.lang.Thread" id="58416">thread</a> = <span title="(x$1: java.lang.Runnable)java.lang.Thread" class="keyword">new</span> <span title="java.lang.Thread">Thread</span><span class="delimiter">(</span><a href="#58415" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a><span class="delimiter">)</span>
      <a href="#58416" title="java.lang.Thread">thread</a>.<span title="()Unit">start</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.piql.modeling.GenericRelationLoaderTask" id="57628">genericCluster</a> = 
      <a href="../collection/GenericRelationQueryProvider.scala.html#34085" title="(numServers: Int, numLoaders: Int, replicationFactor: Int, tuplesPerServer: Int, dataSize: Int, maxCardinality: Int)edu.berkeley.cs.scads.piql.modeling.GenericRelationLoaderTask">GenericRelationLoaderTask</a><span class="delimiter">(</span>
	      numServers=<span title="Int(10)" class="int">10</span>,
	      numLoaders=<span title="Int(10)" class="int">10</span>,
	      replicationFactor=<span title="Int(2)" class="int">2</span>,
	      tuplesPerServer=<span title="Int(10000)" class="int">10000</span>,
	      dataSize=<span title="Int(10)" class="int">10</span>,
	      maxCardinality=<span title="Int(500)" class="int">500</span><span class="delimiter">)</span>
    
    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57629">defaultGenericRunner</a> =
       <a href="../collection/QueryRunnerTask.scala.html#38220" title="(numClients: Int, queryProvider: String, traceIterators: Boolean, traceMessages: Boolean, traceQueries: Boolean, iterations: Int, iterationLengthMin: Int, threads: Int)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">QueryRunnerTask</a><span class="delimiter">(</span>numClients=<a title="Int(10)" id="58908" class="int">10</a>,
		      <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.modeling.GenericQueryProvider&quot;)" id="58909" class="string">&quot;edu.berkeley.cs.scads.piql.modeling.GenericQueryProvider&quot;</a>,
		      iterations=<a title="Int(30)" id="58910" class="int">30</a>,
		      iterationLengthMin=<a title="Int(10)" id="58911" class="int">10</a>,
		      threads=<a title="Int(2)" id="58912" class="int">2</a>,
		      traceIterators=<a title="Boolean(false)" id="58913" class="keyword">false</a>,
		      traceMessages=<a title="Boolean(false)" id="58914" class="keyword">false</a>,
		      traceQueries=<a title="Boolean(false)" id="58915" class="keyword">false</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57630">scadrGenericBenchmark</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58919">clust30</a> = <a href="#57628" title="edu.berkeley.cs.scads.piql.modeling.GenericRelationLoaderTask" id="58922">genericCluster</a>.<a href="../collection/GenericRelationQueryProvider.scala.html#37513" title="Int" id="58928">copy</a><span class="delimiter">(</span>dataSize=<a title="Int(30)" id="58923" class="int">30</a><span class="delimiter">)</span>.<a href="#50239" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58920">clust40</a> = <a href="#57628" title="edu.berkeley.cs.scads.piql.modeling.GenericRelationLoaderTask" id="58929">genericCluster</a>.<a href="../collection/GenericRelationQueryProvider.scala.html#37513" title="Int" id="58935">copy</a><span class="delimiter">(</span>dataSize=<a title="Int(40)" id="58930" class="int">40</a><span class="delimiter">)</span>.<a href="#50239" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58921">scadrCluster</a> = <a href="#57622" title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">defaultScadr</a>.<a href="#50239" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>

      <a href="#57642" title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">genericBenchmark</a><span class="delimiter">(</span><a href="#58919" title="edu.berkeley.cs.scads.storage.ScadsCluster">clust30</a><span class="delimiter">)</span>
      <a href="#57642" title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">genericBenchmark</a><span class="delimiter">(</span><a href="#58920" title="edu.berkeley.cs.scads.storage.ScadsCluster">clust40</a><span class="delimiter">)</span>
      <a href="#57643" title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">benchmarkScadr</a><span class="delimiter">(</span><a href="#58921" title="edu.berkeley.cs.scads.storage.ScadsCluster">scadrCluster</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="Int" id="57631">numClients</a> = <span title="Int(5)" class="int">5</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask" id="57633">tpcwCluster</a> = tpcw.<span title="(numServers: Int, numLoaders: Int, numEBs: Double, numItems: Int, replicationFactor: Int)edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">TpcwLoaderTask</span><span class="delimiter">(</span><span title="Int(10)" class="int">10</span>, <a href="#57631" title="=&gt; Int">numClients</a>, numEBs=<span title="Int(150)" class="int">150</span><span title="=&gt; Double">*</span><a href="#57631" title="=&gt; Int">numClients</a>, numItems=<span title="Int(10000)" class="int">10000</span>, <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57635">tpcwRunner</a> =
      <a href="../collection/QueryRunnerTask.scala.html#38220" title="(numClients: Int, queryProvider: String, traceIterators: Boolean, traceMessages: Boolean, traceQueries: Boolean, iterations: Int, iterationLengthMin: Int, threads: Int)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">QueryRunnerTask</a><span class="delimiter">(</span>numClients=<a title="Int(10)" id="57723" class="int">10</a>,
        <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.modeling.TpcwQueryProvider&quot;)" id="57724" class="string">&quot;edu.berkeley.cs.scads.piql.modeling.TpcwQueryProvider&quot;</a>,
        iterations=<a title="Int(30)" id="57725" class="int">30</a>,
        iterationLengthMin=<a title="Int(10)" id="57726" class="int">10</a>,
        threads=<a title="Int(2)" id="57727" class="int">2</a>,
        traceIterators=<a title="Boolean(false)" id="57728" class="keyword">false</a>,
        traceMessages=<a title="Boolean(false)" id="57729" class="keyword">false</a>,
        traceQueries=<a title="Boolean(false)" id="57730" class="keyword">false</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57637">defaultTpcwRunner</a> =
      <a href="../collection/QueryRunnerTask.scala.html#38220" title="(numClients: Int, queryProvider: String, traceIterators: Boolean, traceMessages: Boolean, traceQueries: Boolean, iterations: Int, iterationLengthMin: Int, threads: Int)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">QueryRunnerTask</a><span class="delimiter">(</span><a href="#57631" title="Int" id="57735">numClients</a>,
		      <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.modeling.TpcwQueryProvider&quot;)" id="57736" class="string">&quot;edu.berkeley.cs.scads.piql.modeling.TpcwQueryProvider&quot;</a>,
		      iterations=<span class="int">10</span><a title="Int(60)" id="57737">*</a><span class="int">6</span>,
		      iterationLengthMin=<a title="Int(10)" id="57738" class="int">10</a>,
		      threads=<a title="Int(10)" id="57739" class="int">10</a>,
		      traceIterators=<a title="Boolean(false)" id="57740" class="keyword">false</a>,
		      traceMessages=<a title="Boolean(false)" id="57741" class="keyword">false</a>,
		      traceQueries=<a title="Boolean(false)" id="57742" class="keyword">false</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57639">tpcwBenchmark</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58952">cluster</a> = <a href="#57633" title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">tpcwCluster</a>.<a href="#50239" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>
      <a href="#57637" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">defaultTpcwRunner</a>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.piql.modeling.Experiments.QueryRunner.defaultTpcwRunner.type">schedule</span><a href="#50239" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a href="#58952" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>, <a href="#50237" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; Unit" id="57640">rocTpcwBenchmark</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58956">cluster</a> = <a href="#57633" title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">tpcwCluster</a>.<a href="#50239" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>
      <span class="delimiter">(</span><span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">1</span> <span title="(end: Int)scala.collection.immutable.Range.Inclusive">to</span> <span title="Int(100)" class="int">100</span><span class="delimiter">)</span>.<span title="(f: Int =&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask)Unit">foreach</span><span class="delimiter">(</span><a title="Int" id="59069">_</a> =&gt; <a href="#57637" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">defaultTpcwRunner</a>.<a href="../collection/QueryRunnerTask.scala.html#43234" title="Int" id="59077">copy</a><span class="delimiter">(</span>iterations=<a title="Int(5)" id="59070" class="int">5</a><span class="delimiter">)</span>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">schedule</span><a href="#50239" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a href="#58956" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>,<a href="#50237" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; Unit" id="57641">testTpcwRunner</a>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="59086">cluster</a> = tpcw.<span title="(numServers: Int, numLoaders: Int, numEBs: Double, numItems: Int, replicationFactor: Int)edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">TpcwLoaderTask</span><span class="delimiter">(</span><span title="Int(2)" class="int">2</span>, <span title="Int(2)" class="int">2</span>, <span title="Double(10.0)" class="int">10</span>, <span title="Int(1000)" class="int">1000</span>, <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>.<span title="()edu.berkeley.cs.scads.storage.ScadsCluster">newTestCluster</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="59087">runner</a> = <a href="../collection/QueryRunnerTask.scala.html#38220" title="(numClients: Int, queryProvider: String, traceIterators: Boolean, traceMessages: Boolean, traceQueries: Boolean, iterations: Int, iterationLengthMin: Int, threads: Int)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">QueryRunnerTask</a><span class="delimiter">(</span><a title="Int(1)" id="59090" class="int">1</a>,
		      <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.modeling.TpcwQueryProvider&quot;)" id="59091" class="string">&quot;edu.berkeley.cs.scads.piql.modeling.TpcwQueryProvider&quot;</a>,
		      iterations=<a title="Int(10)" id="59092" class="int">10</a>,
		      iterationLengthMin=<a title="Int(1)" id="59093" class="int">1</a>,
		      threads=<a title="Int(2)" id="59094" class="int">2</a>,
		      traceIterators=<a title="Boolean(false)" id="59095" class="keyword">false</a>,
		      traceMessages=<a title="Boolean(false)" id="59096" class="keyword">false</a>,
		      traceQueries=<a title="Boolean(false)" id="59097" class="keyword">false</a><span class="delimiter">)</span>
      <a href="#59087" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a>.<a href="../collection/QueryRunnerTask.scala.html#38011" title="(x$1: String)Unit">clusterAddress</a> = <a href="#59086" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">root</span>.<span title="=&gt; java.lang.String">canonicalAddress</span>
      <a href="#59087" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a>.<a href="../collection/QueryRunnerTask.scala.html#38017" title="(x$1: String)Unit">experimentAddress</a> = <a href="#59086" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">root</span>.<span title="=&gt; java.lang.String">canonicalAddress</span>
      <a href="#59087" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a>.<a href="../collection/QueryRunnerTask.scala.html#38014" title="(x$1: String)Unit">resultClusterAddress</a> = <a href="#59086" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">root</span>.<span title="=&gt; java.lang.String">canonicalAddress</span>
      <span title="Unit" class="keyword">while</span><span class="delimiter">(</span><a href="#59086" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="()List[edu.berkeley.cs.scads.comm.StorageService]">getAvailableServers</span>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="object java.lang.Thread">Thread</span>.<span title="(x$1: Long)Unit">sleep</span><a href="#59089" title="()Unit" class="delimiter">(</a><span title="Long(100L)" class="int">100</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="java.lang.Thread" id="59088">thread</a> = <span title="(x$1: java.lang.Runnable)java.lang.Thread" class="keyword">new</span> <span title="java.lang.Thread">Thread</span><span class="delimiter">(</span><a href="#59087" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a><span class="delimiter">)</span>
      <a href="#59088" title="java.lang.Thread">thread</a>.<span title="()Unit">start</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57642">genericBenchmark</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58939">cluster</a>: <span title="edu.berkeley.cs.scads.storage.ScadsCluster">ScadsCluster</span> = <a href="#57628" title="=&gt; edu.berkeley.cs.scads.piql.modeling.GenericRelationLoaderTask">genericCluster</a>.<a href="#50239" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a><span class="delimiter">)</span> =
      <a href="#57629" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">defaultGenericRunner</a>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">schedule</span><a href="#50239" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a href="#58939" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>, <a href="#50237" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57643">benchmarkScadr</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58411">cluster</a>: <span title="edu.berkeley.cs.scads.storage.ScadsCluster">ScadsCluster</span> = <a href="#57622" title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">defaultScadr</a>.<a href="#50239" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a><span class="delimiter">)</span> =
      <a href="#57624" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">defaultRunner</a>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.piql.modeling.Experiments.QueryRunner.defaultRunner.type">schedule</span><a href="#50239" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a href="#58411" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>,<a href="#50237" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span>
      
    <span class="keyword">def</span> <a title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)Unit" id="57644">rocBenchmarkScadr</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="59114">cluster</a>: <span title="edu.berkeley.cs.scads.storage.ScadsCluster">ScadsCluster</span> = <a href="#57622" title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">defaultScadr</a>.<a href="#50239" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a><span class="delimiter">)</span> = 
      <span class="delimiter">(</span><span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">1</span> <span title="(end: Int)scala.collection.immutable.Range.Inclusive">to</span> <span title="Int(100)" class="int">100</span><span class="delimiter">)</span>.<span title="(f: Int =&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask)Unit">foreach</span><span class="delimiter">(</span><a title="Int" id="59227">_</a> =&gt; <a href="#57624" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">defaultRunner</a>.<a href="../collection/QueryRunnerTask.scala.html#43234" title="Int" id="59235">copy</a><span class="delimiter">(</span>iterations=<a title="Int(2)" id="59228" class="int">2</a><span class="delimiter">)</span>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">schedule</span><a href="#50239" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a href="#59114" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>,<a href="#50237" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment" id="50264">TpcwScaleExperiment</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">import</span> piql.tpcw._
    <span class="keyword">import</span> scale._
    <span class="keyword">type</span> <a title="edu.berkeley.cs.scads.piql.tpcw.scale.Result" id="59247">Result</a> = piql.tpcw.scale.<span title="edu.berkeley.cs.scads.piql.tpcw.scale.Result">Result</span>

    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" id="59248">results</a> = <a href="#50237" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a>.<span title="[PairType &lt;: edu.berkeley.cs.avro.marker.AvroPair](ns: String)(implicit evidence$7: Manifest[PairType])edu.berkeley.cs.scads.storage.PairNamespace[PairType]">getNamespace</span><span title="(ns: String)(implicit evidence$7: Manifest[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result])edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" class="delimiter">[</span><span title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">Result</span><span class="delimiter">]</span><span title="(clazz: Class[_])scala.reflect.Manifest[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" class="delimiter">(</span><span title="java.lang.String(&quot;tpcwScaleResults&quot;)" class="string">&quot;tpcwScaleResults&quot;</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; Unit" id="59250">backup</a> = <a href="#59248" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">iterateOverRange</span><a href="#50259" title="avroIterWriter extends java.lang.Object" id="59512" class="delimiter">(</a><span title="object None">None</span>,<span title="object None">None</span><span class="delimiter">)</span>.<a href="#59511" title="Option[org.apache.avro.file.CodecFactory]" id="59518">toAvroFile</a><span title="(implicit r: Manifest[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result])edu.berkeley.cs.avro.runtime.package.TypedSchema[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" class="delimiter">(</span><a title="java.io.File" id="59517" class="keyword">new</a> java.io.<span title="java.io.File">File</span><span class="delimiter">(</span><span title="java.lang.String(&quot;tpcwScale.&quot;)" class="string">&quot;tpcwScale.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.avro&quot;)" class="string">&quot;.avro&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(dataPoints: Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result])Seq[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String)]" id="59251">scaleResultsIter</a><span class="delimiter">(</span><a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" id="59538">dataPoints</a>: <span title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">Seq</span><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <a href="#59248" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">toSeq</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#59538" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">dataPoints</a>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#59542" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</span>.<span title="=&gt; Int">replicationFactor</span> <span title="(x: Int)Boolean">==</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#59561" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; Int">iterations</span> <span title="(x: Int)Boolean">==</span> <span title="Int(4)" class="int">4</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#59658" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; Int">numThreads</span> <span title="(x: Int)Boolean">==</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#59669" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; Int">runLengthMin</span> <span title="(x: Int)Boolean">==</span> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#59680" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; Int">iteration</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">toSeq</span>
        .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; (String, Int))scala.collection.immutable.Map[(String, Int),Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result" id="59697">r</a> =&gt; <span title="(_1: String, _2: Int)(String, Int)" class="delimiter">(</span><a href="#59697" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; String">clusterAddress</span>, <a href="#59697" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">r</a>.<span title="=&gt; Int">iteration</span><span class="delimiter">)</span><span class="delimiter">)</span>
        .<span title="(f: ((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]) =&gt; (Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[(String, Int),Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]],(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String),scala.collection.immutable.Iterable[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String)]])scala.collection.immutable.Iterable[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String)]">map</span> <a href="#59739" title="(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String)" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String)" class="delimiter">(</span><span class="delimiter">(</span><a title="String" id="59744">exp</a>, <a title="Int" id="59745">iter</a><span class="delimiter">)</span>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" id="59746">results</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.Histogram" id="59747">aggHist</a> = <a href="#59746" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#59768" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>.<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#59793" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#59794" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Int" id="59748">skips</a> = <a href="#59746" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result],Int,Seq[Int]])Seq[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,Int,Seq[Int]]" class="delimiter">(</span><a href="#59805" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; Int">skips</span><span class="delimiter">)</span>.<span title="(implicit num: Numeric[Int])Int">sum</span>
          <span class="keyword">val</span> <a title="Int" id="59749">failures</a> = <a href="#59746" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result],Int,Seq[Int]])Seq[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,Int,Seq[Int]]" class="delimiter">(</span><a href="#60292" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; Int">failures</span><span class="delimiter">)</span>.<span title="(implicit num: Numeric[Int])Int">sum</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask" id="59750">loaderConfig</a> = <a href="#59746" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask" id="59751">clientConfig</a> = <a href="#59746" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>
          <span title="(_1: Int, _2: Long, _3: Int, _4: Double, _5: Int, _6: String, _7: Int, _8: Int, _9: Int, _10: Int, _11: Int, _12: String)(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String)" class="delimiter">(</span><a href="#59750" title="edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</a>.<span title="=&gt; Int">numServers</span>, <a href="#59747" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="=&gt; Long">totalRequests</span>, <a href="#59747" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">0.99</span><span class="delimiter">)</span>, <a href="#59747" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="=&gt; Double">stddev</span>, <a href="#59751" title="edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</a>.<span title="=&gt; Int">numClients</span>, <a href="#59751" title="edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</a>.<span title="=&gt; String">executorClass</span>, <a href="#59745" title="Int">iter</a>, <a href="#59747" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.9)" class="double">0.90</span><span class="delimiter">)</span>, <a href="#59748" title="Int">skips</a>, <a href="#59749" title="Int">failures</a>, <a href="#59746" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="=&gt; Int">size</span>, <a href="#59744" title="String">exp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>.<span title="=&gt; Seq[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String)]">toSeq</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(dataPoints: Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result])Seq[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int)]" id="59252">scaleResults</a><span class="delimiter">(</span><a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" id="60735">dataPoints</a>: <span title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">Seq</span><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <a href="#59248" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">toSeq</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#60735" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">dataPoints</a>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#60739" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</span>.<span title="=&gt; Int">replicationFactor</span> <span title="(x: Int)Boolean">==</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#60750" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; Int">iterations</span> <span title="(x: Int)Boolean">==</span> <span title="Int(4)" class="int">4</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#60761" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; Int">numThreads</span> <span title="(x: Int)Boolean">==</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#60772" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; Int">runLengthMin</span> <span title="(x: Int)Boolean">==</span> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result" id="60783">r</a> =&gt; <a href="#60783" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</span>.<span title="=&gt; Int">numServers</span> <span title="(x: Int)Int">/</span> <span title="Int(2)" class="int">2</span> <span title="(x: Int)Boolean">==</span> <a href="#60783" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; Int">numClients</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#60800" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; Int">iteration</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">toSeq</span>
        .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Int)scala.collection.immutable.Map[Int,Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result" id="60815">r</a> =&gt; <a href="#60815" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</span>.<span title="=&gt; Int">numServers</span><span class="delimiter">)</span>
        .<span title="(f: (Int, Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]) =&gt; (Int, Long, Int, Double, Int, String, Int, Int, Int, Int))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[Int,Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]],(Int, Long, Int, Double, Int, String, Int, Int, Int, Int),scala.collection.immutable.Iterable[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int)]])scala.collection.immutable.Iterable[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int)]">map</span> <a href="#60851" title="(Int, Long, Int, Double, Int, String, Int, Int, Int, Int)" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="(Int, Long, Int, Double, Int, String, Int, Int, Int, Int)" class="delimiter">(</span><a title="Int" id="60854">numServers</a>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" id="60855">results</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.Histogram" id="60856">aggHist</a> = <a href="#60855" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#60877" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>.<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#60902" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#60903" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Int" id="60857">skips</a> = <a href="#60855" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result],Int,Seq[Int]])Seq[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,Int,Seq[Int]]" class="delimiter">(</span><a href="#60914" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; Int">skips</span><span class="delimiter">)</span>.<span title="(implicit num: Numeric[Int])Int">sum</span>
          <span class="keyword">val</span> <a title="Int" id="60858">failures</a> = <a href="#60855" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result],Int,Seq[Int]])Seq[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,Int,Seq[Int]]" class="delimiter">(</span><a href="#60956" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; Int">failures</span><span class="delimiter">)</span>.<span title="(implicit num: Numeric[Int])Int">sum</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask" id="60859">loaderConfig</a> = <a href="#60855" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask" id="60860">clientConfig</a> = <a href="#60855" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>
          <span title="(_1: Int, _2: Long, _3: Int, _4: Double, _5: Int, _6: String, _7: Int, _8: Int, _9: Int, _10: Int)(Int, Long, Int, Double, Int, String, Int, Int, Int, Int)" class="delimiter">(</span><a href="#60859" title="edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</a>.<span title="=&gt; Int">numServers</span>, <a href="#60856" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="=&gt; Long">totalRequests</span>, <a href="#60856" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">0.99</span><span class="delimiter">)</span>, <a href="#60856" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="=&gt; Double">stddev</span>, <a href="#60860" title="edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</a>.<span title="=&gt; Int">numClients</span>, <a href="#60860" title="edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</a>.<span title="=&gt; String">executorClass</span>, <a href="#60856" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.9)" class="double">0.90</span><span class="delimiter">)</span>, <a href="#60857" title="Int">skips</a>, <a href="#60858" title="Int">failures</a>, <a href="#60855" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>.<span title="=&gt; Seq[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int)]">toSeq</span>
    <span class="delimiter">}</span>


    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster" id="59253">test</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="61323">cluster</a> = <span title="(numServers: Int, numLoaders: Int, numEBs: Double, numItems: Int, replicationFactor: Int)edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">TpcwLoaderTask</span><span class="delimiter">(</span><span title="Int(2)" class="int">2</span>,<span title="Int(2)" class="int">2</span>,<span title="Double(10.0)" class="int">10</span>, <span title="Int(1000)" class="int">1000</span><span class="delimiter">)</span>.<span title="()edu.berkeley.cs.scads.storage.ScadsCluster">newTestCluster</span>

      <span title="(numClients: Int, executorClass: String, numThreads: Int, iterations: Int, runLengthMin: Int)edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">TpcwWorkflowTask</span><span class="delimiter">(</span>
        numClients=<span title="Int(1)" class="int">1</span>,
        executorClass=<span title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;)" class="string">&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;</span>
      <span class="delimiter">)</span>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)scala.collection.immutable.IndexedSeq[java.lang.Thread]">testLocally</span><span class="delimiter">(</span><a href="#61323" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a><span class="delimiter">)</span>

      <a href="#61323" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(numServers: Int, executor: String)Unit" id="59254">runScaleTest</a><span class="delimiter">(</span><a title="Int" id="61344">numServers</a>: <span title="Int">Int</span>, <a title="String" id="61345">executor</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="#61349" title="(Seq[edu.berkeley.cs.scads.comm.JvmTask], edu.berkeley.cs.scads.storage.ScadsCluster)" class="delimiter">(</a><a href="#61348" title="Seq[edu.berkeley.cs.scads.comm.JvmTask]" id="61349">scadsTasks</a>, <a href="#61348" title="edu.berkeley.cs.scads.storage.ScadsCluster" id="61350">cluster</a><span class="delimiter">)</span> = <span title="(numServers: Int, numLoaders: Int, numEBs: Double, numItems: Int, replicationFactor: Int)edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">TpcwLoaderTask</span><span class="delimiter">(</span><a href="#61344" title="Int" id="61374">numServers</a>, <a href="#61344" title="Int">numServers</a><a title="Int" id="61375">/</a><span title="Int(2)" class="int">2</span>, replicationFactor=<a title="Int(2)" id="61376" class="int">2</a>, numEBs = <span title="Int(150)" class="int">150</span> <span title="(x: Int)Int">*</span> <a href="#61344" title="Int">numServers</a><a title="Double" id="61377">/</a><span title="Int(2)" class="int">2</span>, numItems = <a title="Int(10000)" id="61378" class="int">10000</a><span class="delimiter">)</span>.<a href="#50239" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)(Seq[edu.berkeley.cs.scads.comm.JvmTask], edu.berkeley.cs.scads.storage.ScadsCluster)">delayedCluster</a>

      <span class="keyword">val</span> <a title="Seq[edu.berkeley.cs.scads.comm.JvmTask]" id="61351">tpcwTasks</a> = <a title="Int" id="61417">TpcwWorkflowTask</a><span class="delimiter">(</span>
        <a href="#61344" title="Int">numServers</a><a title="Int" id="61413">/</a><span title="Int(2)" class="int">2</span>,
        <a href="#61345" title="String" id="61414">executor</a>,
        iterations = <a title="Int(4)" id="61415" class="int">4</a>,
        runLengthMin = <a title="Int(5)" id="61416" class="int">5</a>
      <span class="delimiter">)</span>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)Seq[edu.berkeley.cs.scads.comm.JvmTask]">delayedSchedule</span><a href="#50239" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a href="#61350" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>, <a href="#50237" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span>

      <a href="#50240" title="=&gt; deploylib.mesos.RemoteServiceScheduler">serviceScheduler</a>.<span title="(processes: Seq[edu.berkeley.cs.scads.comm.JvmTask])Unit">scheduleExperiment</span><span class="delimiter">(</span><a href="#61349" title="Seq[edu.berkeley.cs.scads.comm.JvmTask]">scadsTasks</a> <span title="(that: scala.collection.GenTraversableOnce[edu.berkeley.cs.scads.comm.JvmTask])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.comm.JvmTask],edu.berkeley.cs.scads.comm.JvmTask,Seq[edu.berkeley.cs.scads.comm.JvmTask]])Seq[edu.berkeley.cs.scads.comm.JvmTask]">++</span> <a href="#61351" title="Seq[edu.berkeley.cs.scads.comm.JvmTask]">tpcwTasks</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment" id="50266">ScadrScaleExperiment</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">import</span> perf.scadr._
    <span class="keyword">import</span> scale._
    <span class="keyword">type</span> <a title="edu.berkeley.cs.scads.perf.scadr.scale.Result" id="61465">Result</a> = perf.scadr.scale.<span title="edu.berkeley.cs.scads.perf.scadr.scale.Result">Result</span>

    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="61466">results</a> = <a href="#50237" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a>.<span title="[PairType &lt;: edu.berkeley.cs.avro.marker.AvroPair](ns: String)(implicit evidence$7: Manifest[PairType])edu.berkeley.cs.scads.storage.PairNamespace[PairType]">getNamespace</span><span title="(ns: String)(implicit evidence$7: Manifest[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" class="delimiter">[</span><span title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">Result</span><span class="delimiter">]</span><span title="(clazz: Class[_])scala.reflect.Manifest[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" class="delimiter">(</span><span title="java.lang.String(&quot;scadrScaleResults&quot;)" class="string">&quot;scadrScaleResults&quot;</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; Unit" id="61468">backup</a>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.perf.scadr.scale.Result]" id="61603">outfile</a> = <span title="[RecordType &lt;: org.apache.avro.generic.GenericContainer](file: java.io.File, codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType])org.apache.avro.file.DataFileWriter[RecordType]">AvroOutFile</span><span title="(file: java.io.File, codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[edu.berkeley.cs.scads.perf.scadr.scale.Result])org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.perf.scadr.scale.Result]" class="delimiter">[</span>perf.scadr.scale.<span title="edu.berkeley.cs.scads.perf.scadr.scale.Result">Result</span><span class="delimiter">]</span><span title="(implicit r: Manifest[edu.berkeley.cs.scads.perf.scadr.scale.Result])edu.berkeley.cs.avro.runtime.package.TypedSchema[edu.berkeley.cs.scads.perf.scadr.scale.Result]" class="delimiter">(</span><span title="java.lang.String(&quot;scadrScale.&quot;)" class="string">&quot;scadrScale.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span> <span title="implicit deploylib.mesos.package.toFile : (str: String)java.io.File">+</span> <span title="java.lang.String(&quot;.avro&quot;)" class="string">&quot;.avro&quot;</span><span class="delimiter">)</span>
      <a href="#61466" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>,<span title="object None">None</span><span class="delimiter">)</span>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#61603" title="org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.perf.scadr.scale.Result]">outfile</a>.<a href="#61632" title="(x$1: edu.berkeley.cs.scads.perf.scadr.scale.Result)Unit">append</a><span class="delimiter">)</span>
      <a href="#61603" title="org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.perf.scadr.scale.Result]">outfile</a>.<span title="()Unit">close</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.perf.ScatterPlot" id="61469">dataSizeResults</a> =
      <a title="Option[String]" id="62062" class="keyword">new</a> <span title="object edu.berkeley.cs.scads.perf.ScatterPlot">ScatterPlot</span><span class="delimiter">(</span>
        <a href="#61466" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(start: Option[org.apache.avro.generic.IndexedRecord], end: Option[org.apache.avro.generic.IndexedRecord], limit: Option[Int], offset: Option[Int], ascending: Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">getRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>
          .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#61763" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; Int">iteration</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#61774" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">threads</span> <span title="(x: Int)Boolean">==</span> <span title="Int(20)" class="int">20</span><span class="delimiter">)</span>
          .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; (Int, String))scala.collection.immutable.Map[(Int, String),Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result" id="61894">e</a> =&gt; <span title="(_1: Int, _2: String)(Int, String)" class="delimiter">(</span><a href="#61894" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">e</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">usersPerServer</span>, <a href="#61894" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">e</a>.<span title="=&gt; String">clusterAddress</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Seq[((Int, String), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])]">toSeq</span>
          .<span title="(f: ((Int, String), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]) =&gt; (Int, Int))(implicit bf: scala.collection.generic.CanBuildFrom[Seq[((Int, String), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])],(Int, Int),Seq[(Int, Int)]])Seq[(Int, Int)]">map</span> <a href="#61942" title="(Int, Int)" class="delimiter">{</a>
          <span class="keyword">case</span> <span title="(Int, Int)" class="delimiter">(</span><span class="delimiter">(</span><a title="Int" id="61947">users</a>,_<span class="delimiter">)</span>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="61948">results</a><span class="delimiter">)</span> =&gt;
            <span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#61947" title="Int">users</a>, <a href="#61948" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#61969" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>
              .<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#61994" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#61995" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
              .<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">.99</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>.<a title="Seq[(Int, Int)]" id="62056">toSeq</a>,
        title = <a title="Option[java.lang.String]" id="62057" class="string">&quot;Users/Server vs. Response Time&quot;</a>,
        xaxis = <a title="Option[java.lang.String]" id="62058" class="string">&quot;Users per server&quot;</a>,
        yaxis = <a title="Option[java.lang.String]" id="62059" class="string">&quot;99th Percentile Response Time&quot;</a>,
        xunit = <a title="Option[java.lang.String]" id="62060" class="string">&quot;users/server&quot;</a>,
        yunit = <a title="Option[java.lang.String]" id="62061" class="string">&quot;milliseconds&quot;</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.perf.ScatterPlot" id="61470">threadCountResults</a> =
      <a title="Option[String]" id="62260" class="keyword">new</a> <span title="object edu.berkeley.cs.scads.perf.ScatterPlot">ScatterPlot</span><span class="delimiter">(</span><a href="#61466" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>
			     .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62068" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; Int">iteration</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">toSeq</span>
			     .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Int)scala.collection.immutable.Map[Int,Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a href="#62083" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">threads</span><span class="delimiter">)</span>
			     .<span title="(f: (Int, Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]) =&gt; (Int, Int))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[Int,Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]],(Int, Int),scala.collection.immutable.Map[Int,Int]])scala.collection.immutable.Map[Int,Int]">map</span> <a href="#62118" title="(Int, Int)" class="delimiter">{</a>
			       <span class="keyword">case</span> <span title="(Int, Int)" class="delimiter">(</span><a title="Int" id="62121">threads</a>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="62122">results</a><span class="delimiter">)</span> =&gt; 
				 <span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#62121" title="Int">threads</a>, <a href="#62122" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#62143" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>
           .<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#62168" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#62169" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
           .<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">.99</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>.<a title="Seq[(Int, Int)]" id="62254">toSeq</a>,
        title = <a title="Option[java.lang.String]" id="62255" class="string">&quot;ThreadCount vs. Responsetime&quot;</a>,
        xaxis = <a title="Option[java.lang.String]" id="62256" class="string">&quot;Number of threads per application server&quot;</a>,
        yaxis = <a title="Option[java.lang.String]" id="62257" class="string">&quot;99th Percentile ResponseTime&quot;</a>,
        xunit = <a title="Option[java.lang.String]" id="62258" class="string">&quot;threads&quot;</a>,
        yunit = <a title="Option[java.lang.String]" id="62259" class="string">&quot;milliseconds&quot;</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(sizes: Seq[Int])Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]" id="61471">runDataSizes</a><span class="delimiter">(</span><a title="Seq[Int]" id="62264">sizes</a>: <span title="Seq[Int]">Seq</span><span class="delimiter">[</span>Int<span class="delimiter">]</span> = <span class="delimiter">(</span><span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">2</span> <span title="(end: Int)scala.collection.immutable.Range.Inclusive">to</span> <span title="Int(20)" class="int">20</span> <span title="(step: Int)scala.collection.immutable.Range">by</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>.<span title="(f: Int =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq[Int],Int,Seq[Int]])Seq[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq.Coll,Int,scala.collection.immutable.IndexedSeq[Int]]" class="delimiter">(</span><a href="#62477" title="Int">_</a> <span title="(x: Int)Int">*</span> <span title="Int(10000)" class="int">10000</span><span class="delimiter">)</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#62264" title="Seq[Int]">sizes</a>.<span title="(f: Int =&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[Int],edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask,Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]])Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask,Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]]" class="delimiter">(</span><a title="Int" id="62281">numUsers</a> =&gt;
        <a title="Int" id="62302">ScadrScaleTask</a><span class="delimiter">(</span><a title="Int(10)" id="62296" class="int">10</a>,
          <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;)" id="62297" class="string">&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;</a>,
          <a title="Double(0.01)" id="62298" class="double">0.01</a>,
          iterations = <a title="Int(2)" id="62299" class="int">2</a>,
          runLengthMin = <a title="Int(2)" id="62300" class="int">2</a>,
          threads = <a title="Int(20)" id="62301" class="int">20</a><span class="delimiter">)</span>
          .<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">schedule</span><a href="#50239" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a title="Int" id="62325">ScadrLoaderTask</a><span class="delimiter">(</span><a title="Int(10)" id="62320" class="int">10</a>, <a title="Int(10)" id="62321" class="int">10</a>, usersPerServer=<a href="#62281" title="Int" id="62322">numUsers</a>, replicationFactor=<a title="Int(1)" id="62323" class="int">1</a>, followingCardinality=<a title="Int(10)" id="62324" class="int">10</a><span class="delimiter">)</span>.<a href="#50239" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>,
          <a href="#50237" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(numThreads: Seq[Int])Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]" id="61472">runThreads</a><span class="delimiter">(</span><a title="Seq[Int]" id="62531">numThreads</a>: <span title="Seq[Int]">Seq</span><span class="delimiter">[</span>Int<span class="delimiter">]</span> = <span class="delimiter">(</span><span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">10</span> <span title="(end: Int)scala.collection.immutable.Range.Inclusive">to</span> <span title="Int(100)" class="int">100</span> <span title="(step: Int)scala.collection.immutable.Range">by</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#62531" title="Seq[Int]">numThreads</a>.<span title="(f: Int =&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[Int],edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask,Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]])Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask,Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]]" class="delimiter">(</span><a title="Int" id="62548">numThreads</a> =&gt;
        <a title="Int" id="62569">ScadrScaleTask</a><span class="delimiter">(</span><a title="Int(10)" id="62563" class="int">10</a>,
          <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;)" id="62564" class="string">&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;</a>,
          <a title="Double(0.01)" id="62565" class="double">0.01</a>,
          iterations = <a title="Int(2)" id="62566" class="int">2</a>,
          runLengthMin = <a title="Int(2)" id="62567" class="int">2</a>,
          threads = <a href="#62548" title="Int" id="62568">numThreads</a><span class="delimiter">)</span>
          .<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">schedule</span><a href="#50239" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a title="Int" id="62587">ScadrLoaderTask</a><span class="delimiter">(</span><a title="Int(10)" id="62582" class="int">10</a>, <a title="Int(10)" id="62583" class="int">10</a>, replicationFactor=<a title="Int(2)" id="62584" class="int">2</a>, followingCardinality=<a title="Int(10)" id="62585" class="int">10</a><span class="delimiter">)</span>.<a href="#50239" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>,
          <a href="#50237" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(dataPoints: Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])Seq[(Int, Long, Int, Int, String, Int, Int, Int, Int)]" id="61473">scaleResultsIter</a><span class="delimiter">(</span><a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="62690">dataPoints</a>: <span title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">Seq</span><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <a href="#61466" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">toSeq</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#62690" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">dataPoints</a>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62694" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">replicationFactor</span> <span title="(x: Int)Boolean">==</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62705" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">usersPerServer</span> <span title="(x: Int)Boolean">==</span> <span title="Int(60000)" class="int">60000</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62716" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">iterations</span> <span title="(x: Int)Boolean">==</span> <span title="Int(4)" class="int">4</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62727" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">threads</span> <span title="(x: Int)Boolean">==</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62738" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">runLengthMin</span> <span title="(x: Int)Boolean">==</span> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62749" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; Int">iteration</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">toSeq</span>
        .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; (String, Int))scala.collection.immutable.Map[(String, Int),Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result" id="62766">r</a> =&gt; <span title="(_1: String, _2: Int)(String, Int)" class="delimiter">(</span><a href="#62766" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; String">clusterAddress</span>, <a href="#62766" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">r</a>.<span title="=&gt; Int">iteration</span><span class="delimiter">)</span><span class="delimiter">)</span>
        .<span title="(f: ((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]) =&gt; (Int, Long, Int, Int, String, Int, Int, Int, Int))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[(String, Int),Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]],(Int, Long, Int, Int, String, Int, Int, Int, Int),scala.collection.immutable.Iterable[(Int, Long, Int, Int, String, Int, Int, Int, Int)]])scala.collection.immutable.Iterable[(Int, Long, Int, Int, String, Int, Int, Int, Int)]">map</span> <a href="#62808" title="(Int, Long, Int, Int, String, Int, Int, Int, Int)" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="(Int, Long, Int, Int, String, Int, Int, Int, Int)" class="delimiter">(</span><span class="delimiter">(</span><a title="String" id="62813">exp</a>, <a title="Int" id="62814">iter</a><span class="delimiter">)</span>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="62815">results</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.Histogram" id="62816">aggHist</a> = <a href="#62815" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#62836" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>.<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#62861" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#62862" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Int" id="62817">skips</a> = <a href="#62815" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],Int,Seq[Int]])Seq[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,Int,Seq[Int]]" class="delimiter">(</span><a href="#62873" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; Int">skips</span><span class="delimiter">)</span>.<span title="(implicit num: Numeric[Int])Int">sum</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask" id="62818">loaderConfig</a> = <a href="#62815" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask" id="62819">clientConfig</a> = <a href="#62815" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>
          <span title="(_1: Int, _2: Long, _3: Int, _4: Int, _5: String, _6: Int, _7: Int, _8: Int, _9: Int)(Int, Long, Int, Int, String, Int, Int, Int, Int)" class="delimiter">(</span><a href="#62818" title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</a>.<span title="=&gt; Int">numServers</span>, <a href="#62816" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="=&gt; Long">totalRequests</span>, <a href="#62816" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">0.99</span><span class="delimiter">)</span>, <a href="#62819" title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</a>.<span title="=&gt; Int">numClients</span>, <a href="#62819" title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</a>.<span title="=&gt; String">executorClass</span>, <a href="#62814" title="Int">iter</a>, <a href="#62816" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.9)" class="double">0.90</span><span class="delimiter">)</span>, <a href="#62817" title="Int">skips</a>, <a href="#62815" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>.<span title="=&gt; Seq[(Int, Long, Int, Int, String, Int, Int, Int, Int)]">toSeq</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(dataPoints: Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])Seq[(Int, Long, Int, Double, Int, String, Int, Int, Int)]" id="61474">scaleResults</a><span class="delimiter">(</span><a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="62985">dataPoints</a>: <span title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">Seq</span><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <a href="#61466" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">toSeq</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#62985" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">dataPoints</a>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62989" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">replicationFactor</span> <span title="(x: Int)Boolean">==</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#63000" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">usersPerServer</span> <span title="(x: Int)Boolean">==</span> <span title="Int(60000)" class="int">60000</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#63011" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">iterations</span> <span title="(x: Int)Boolean">==</span> <span title="Int(4)" class="int">4</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#63022" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">threads</span> <span title="(x: Int)Boolean">==</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#63033" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">runLengthMin</span> <span title="(x: Int)Boolean">==</span> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#63044" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; Int">iteration</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">toSeq</span>
        .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Int)scala.collection.immutable.Map[Int,Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result" id="63059">r</a> =&gt; <a href="#63059" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">numServers</span><span class="delimiter">)</span>
        .<span title="(f: (Int, Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]) =&gt; (Int, Long, Int, Double, Int, String, Int, Int, Int))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[Int,Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]],(Int, Long, Int, Double, Int, String, Int, Int, Int),scala.collection.immutable.Iterable[(Int, Long, Int, Double, Int, String, Int, Int, Int)]])scala.collection.immutable.Iterable[(Int, Long, Int, Double, Int, String, Int, Int, Int)]">map</span> <a href="#63081" title="(Int, Long, Int, Double, Int, String, Int, Int, Int)" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="(Int, Long, Int, Double, Int, String, Int, Int, Int)" class="delimiter">(</span><a title="Int" id="63084">numServers</a>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="63085">results</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.Histogram" id="63086">aggHist</a> = <a href="#63085" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#63106" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>.<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#63131" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#63132" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Int" id="63087">skips</a> = <a href="#63085" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],Int,Seq[Int]])Seq[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,Int,Seq[Int]]" class="delimiter">(</span><a href="#63143" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; Int">skips</span><span class="delimiter">)</span>.<span title="(implicit num: Numeric[Int])Int">sum</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask" id="63088">loaderConfig</a> = <a href="#63085" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask" id="63089">clientConfig</a> = <a href="#63085" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>

          <span title="(_1: Int, _2: Long, _3: Int, _4: Double, _5: Int, _6: String, _7: Int, _8: Int, _9: Int)(Int, Long, Int, Double, Int, String, Int, Int, Int)" class="delimiter">(</span><a href="#63088" title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</a>.<span title="=&gt; Int">numServers</span>, <a href="#63086" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="=&gt; Long">totalRequests</span>, <a href="#63086" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">0.99</span><span class="delimiter">)</span>, <a href="#63086" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="=&gt; Double">stddev</span>, <a href="#63089" title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</a>.<span title="=&gt; Int">numClients</span>, <a href="#63089" title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</a>.<span title="=&gt; String">executorClass</span>, <a href="#63086" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.9)" class="double">0.90</span><span class="delimiter">)</span>, <a href="#63087" title="Int">skips</a>, <a href="#63085" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>.<span title="=&gt; Seq[(Int, Long, Int, Double, Int, String, Int, Int, Int)]">toSeq</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(numServers: Int, executor: String)Unit" id="61475">runScaleTest</a><span class="delimiter">(</span><a title="Int" id="63252">numServers</a>: <span title="Int">Int</span>, <a title="String" id="63253">executor</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="#63257" title="(Seq[edu.berkeley.cs.scads.comm.JvmTask], edu.berkeley.cs.scads.storage.ScadsCluster)" class="delimiter">(</a><a href="#63256" title="Seq[edu.berkeley.cs.scads.comm.JvmTask]" id="63257">engineTasks</a>, <a href="#63256" title="edu.berkeley.cs.scads.storage.ScadsCluster" id="63258">cluster</a><span class="delimiter">)</span> = <a title="Int" id="63281">ScadrLoaderTask</a><span class="delimiter">(</span><a href="#63252" title="Int" id="63276">numServers</a>, <a href="#63252" title="Int">numServers</a><a title="Int" id="63277">/</a><span title="Int(2)" class="int">2</span>, replicationFactor=<a title="Int(2)" id="63278" class="int">2</a>, followingCardinality=<a title="Int(50)" id="63279" class="int">50</a>, usersPerServer = <a title="Int(60000)" id="63280" class="int">60000</a><span class="delimiter">)</span>.<a href="#50239" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)(Seq[edu.berkeley.cs.scads.comm.JvmTask], edu.berkeley.cs.scads.storage.ScadsCluster)">delayedCluster</a>

      <span class="keyword">val</span> <a title="Seq[edu.berkeley.cs.scads.comm.JvmTask]" id="63259">workloadTasks</a> = <a title="Int" id="63316">ScadrScaleTask</a><span class="delimiter">(</span>
        <a href="#63252" title="Int">numServers</a><a title="Int" id="63310">/</a><span title="Int(2)" class="int">2</span>,
        <a href="#63253" title="String" id="63311">executor</a>,
        <a title="Double(0.01)" id="63312" class="double">0.01</a>,
        iterations = <a title="Int(4)" id="63313" class="int">4</a>,
        runLengthMin = <a title="Int(5)" id="63314" class="int">5</a>,
        threads = <a title="Int(10)" id="63315" class="int">10</a>
      <span class="delimiter">)</span>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)Seq[edu.berkeley.cs.scads.comm.JvmTask]">delayedSchedule</span><a href="#50239" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a href="#63258" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>, <a href="#50237" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span>

      <a href="#50240" title="=&gt; deploylib.mesos.RemoteServiceScheduler">serviceScheduler</a>.<span title="(processes: Seq[edu.berkeley.cs.scads.comm.JvmTask])Unit">scheduleExperiment</span><span class="delimiter">(</span><a href="#63257" title="Seq[edu.berkeley.cs.scads.comm.JvmTask]">engineTasks</a> <span title="(that: scala.collection.GenTraversableOnce[edu.berkeley.cs.scads.comm.JvmTask])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.comm.JvmTask],edu.berkeley.cs.scads.comm.JvmTask,Seq[edu.berkeley.cs.scads.comm.JvmTask]])Seq[edu.berkeley.cs.scads.comm.JvmTask]">++</span> <a href="#63259" title="Seq[edu.berkeley.cs.scads.comm.JvmTask]">workloadTasks</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.piql.scadr.ScadrClient" id="61476">test</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="63357">cluster</a> = <a title="Int" id="63375">ScadrLoaderTask</a><span class="delimiter">(</span><a title="Int(10)" id="63370" class="int">10</a>, <a title="Int(10)" id="63371" class="int">10</a>, replicationFactor = <a title="Int(2)" id="63372" class="int">2</a>, followingCardinality = <a title="Int(10)" id="63373" class="int">10</a>, usersPerServer = <a title="Int(1000)" id="63374" class="int">1000</a><span class="delimiter">)</span>.<span title="()edu.berkeley.cs.scads.storage.ScadsCluster">newTestCluster</span>
      <a title="Int" id="63396">ScadrScaleTask</a><span class="delimiter">(</span>
        <a title="Int(5)" id="63390" class="int">5</a>,
        <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;)" id="63391" class="string">&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;</a>,
        <a title="Double(0.01)" id="63392" class="double">0.01</a>,
        iterations = <a title="Int(1)" id="63393" class="int">1</a>,
        runLengthMin = <a title="Int(5)" id="63394" class="int">5</a>,
        threads=<a title="Int(10)" id="63395" class="int">10</a>
      <span class="delimiter">)</span>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)scala.collection.immutable.IndexedSeq[java.lang.Thread]">testLocally</span><span class="delimiter">(</span><a href="#63357" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a><span class="delimiter">)</span>

      <span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient" class="keyword">new</span> <span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">ScadrClient</span><span class="delimiter">(</span><a href="#63357" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>, <a href="#63397" title="edu.berkeley.cs.scads.piql.exec.ParallelExecutor with edu.berkeley.cs.scads.piql.debug.DebugExecutor" class="keyword">new</a> <a title="anonymous class $anon extends edu.berkeley.cs.scads.piql.exec.ParallelExecutor with edu.berkeley.cs.scads.piql.debug.DebugExecutor" id="63397">ParallelExecutor</a> <span class="keyword">with</span> <span title="edu.berkeley.cs.scads.piql.debug.DebugExecutor">DebugExecutor</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; Seq[(Int, Int, Int, Int, Int, Int, Double)]" id="61477">sweetSpotResults</a> = <span class="delimiter">{</span>
      <a href="#61466" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#63407" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">numServers</span> <span title="(x: Int)Boolean">==</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#63416" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">usersPerServer</span> <span title="(x: Int)Boolean">==</span> <span title="Int(60000)" class="int">60000</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#63423" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">iterations</span> <span title="(x: Int)Boolean">==</span> <span title="Int(3)" class="int">3</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">toSeq</span>
        .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; (String, Int))scala.collection.immutable.Map[(String, Int),Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result" id="63438">r</a> =&gt; <span title="(_1: String, _2: Int)(String, Int)" class="delimiter">(</span><a href="#63438" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; String">experimentAddress</span>, <a href="#63438" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">r</a>.<span title="=&gt; Int">iteration</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Seq[((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])]">toSeq</span>
        .<span title="(f: ((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]) =&gt; (Int, Int, Int, Int, Int, Int, Double))(implicit bf: scala.collection.generic.CanBuildFrom[Seq[((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])],(Int, Int, Int, Int, Int, Int, Double),Seq[(Int, Int, Int, Int, Int, Int, Double)]])Seq[(Int, Int, Int, Int, Int, Int, Double)]">map</span> <a href="#63473" title="(Int, Int, Int, Int, Int, Int, Double)" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="(Int, Int, Int, Int, Int, Int, Double)" class="delimiter">(</span><a title="(String, Int)" id="63476">resultId</a>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="63477">perThreadData</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.Histogram" id="63478">aggregateTimes</a> = <a href="#63477" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">perThreadData</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#63497" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>.<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#63522" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#63523" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask" id="63479">clientConfig</a> = <a href="#63477" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">perThreadData</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask" id="63480">loaderConfig</a> = <a href="#63477" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">perThreadData</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>
          <span title="(_1: Int, _2: Int, _3: Int, _4: Int, _5: Int, _6: Int, _7: Double)(Int, Int, Int, Int, Int, Int, Double)" class="delimiter">(</span><a href="#63479" title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</a>.<span title="=&gt; Int">numClients</span>, <a href="#63479" title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</a>.<span title="=&gt; Int">threads</span>, <a href="#63480" title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</a>.<span title="=&gt; Int">replicationFactor</span>, <a href="#63478" title="edu.berkeley.cs.scads.perf.Histogram">aggregateTimes</a>.<span title="=&gt; Long">totalRequests</span>.<span title="=&gt; Int">toInt</span>, <a href="#63478" title="edu.berkeley.cs.scads.perf.Histogram">aggregateTimes</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.9)" class="double">0.90</span><span class="delimiter">)</span>, <a href="#63478" title="edu.berkeley.cs.scads.perf.Histogram">aggregateTimes</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">0.99</span><span class="delimiter">)</span>, <a href="#63478" title="edu.berkeley.cs.scads.perf.Histogram">aggregateTimes</a>.<span title="=&gt; Double">stddev</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.perf.ScatterPlot" id="61478">sweetSpotGraph</a> =
      <a title="Option[String]" id="63748" class="keyword">new</a> <span title="object edu.berkeley.cs.scads.perf.ScatterPlot">ScatterPlot</span><span class="delimiter">(</span>
        <a href="#61466" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>
          .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#63569" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">numServers</span> <span title="(x: Int)Boolean">==</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>
          .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#63578" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">usersPerServer</span> <span title="(x: Int)Boolean">==</span> <span title="Int(60000)" class="int">60000</span><span class="delimiter">)</span>
          .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#63585" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">iterations</span> <span title="(x: Int)Boolean">==</span> <span title="Int(3)" class="int">3</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">toSeq</span>
          .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; (String, Int))scala.collection.immutable.Map[(String, Int),Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result" id="63600">r</a> =&gt; <span title="(_1: String, _2: Int)(String, Int)" class="delimiter">(</span><a href="#63600" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; String">experimentAddress</span>, <a href="#63600" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">r</a>.<span title="=&gt; Int">iteration</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Seq[((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])]">toSeq</span>
          .<span title="(f: ((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]) =&gt; (Int, Int))(implicit bf: scala.collection.generic.CanBuildFrom[Seq[((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])],(Int, Int),Seq[(Int, Int)]])Seq[(Int, Int)]">map</span> <a href="#63638" title="Seq[(Int, Int)]" id="63742" class="delimiter">{</a>
          <span class="keyword">case</span> <span title="(Int, Int)" class="delimiter">(</span><a title="(String, Int)" id="63641">resultId</a>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="63642">perThreadData</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.Histogram" id="63643">aggregateTimes</a> = <a href="#63642" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">perThreadData</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#63660" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>.<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#63685" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#63686" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
            <span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#63643" title="edu.berkeley.cs.scads.perf.Histogram">aggregateTimes</a>.<span title="=&gt; Long">totalRequests</span>.<span title="=&gt; Int">toInt</span>, <a href="#63643" title="edu.berkeley.cs.scads.perf.Histogram">aggregateTimes</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">0.99</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>,
        title = <a title="Option[java.lang.String]" id="63743" class="string">&quot;TotalReuqests vs. 99thth percentile responsetime&quot;</a>,
        xaxis = <a title="Option[java.lang.String]" id="63744" class="string">&quot;total Scadr Requests &quot;</a>,
        yaxis = <a title="Option[java.lang.String]" id="63745" class="string">&quot;99th Percentile ResponseTime&quot;</a>,
        xunit = <a title="Option[java.lang.String]" id="63746" class="string">&quot;requests&quot;</a>,
        yunit = <a title="Option[java.lang.String]" id="63747" class="string">&quot;milliseconds&quot;</a><span class="delimiter">)</span>


    <span class="keyword">def</span> <a title="=&gt; Unit" id="61479">findSweetSpot</a>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="63751">storageNodes</a> = <span title="Int(10)" class="int">10</span>
      <span class="keyword">val</span> <a title="Int" id="63752">usersPerServer</a> = <span title="Int(60000)" class="int">60000</span>

      <span title="(xs: Int*)List[Int]">List</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="Int(5)" class="int">5</span>, <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>.<span title="(f: Int =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a title="Int" id="63793">numClients</a> =&gt; <span class="delimiter">{</span>
        <span title="(xs: Int*)List[Int]">List</span><span class="delimiter">(</span><span title="Int(10)" class="int">10</span>, <span title="Int(20)" class="int">20</span>, <span title="Int(30)" class="int">30</span><span class="delimiter">)</span>.<span title="(f: Int =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a title="Int" id="63834">numThreads</a> =&gt; <span class="delimiter">{</span>
          <span title="(xs: Int*)List[Int]">List</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>.<span title="(f: Int =&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask)Unit">foreach</span><span class="delimiter">(</span><a title="Int" id="63875">replication</a> =&gt; <span class="delimiter">{</span>
            <a title="Int" id="63896">ScadrScaleTask</a><span class="delimiter">(</span>
              <a href="#63793" title="Int" id="63890">numClients</a>,
              <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;)" id="63891" class="string">&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;</a>,
              <a title="Double(0.01)" id="63892" class="double">0.01</a>,
              iterations = <a title="Int(3)" id="63893" class="int">3</a>,
              runLengthMin = <a title="Int(3)" id="63894" class="int">3</a>,
              threads = <a href="#63834" title="Int" id="63895">numThreads</a><span class="delimiter">)</span>
              .<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">schedule</span><a href="#50239" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a>
              <a title="Int" id="63914">ScadrLoaderTask</a><span class="delimiter">(</span>
                numServers = <a title="Int(10)" id="63909" class="int">10</a>,
                numLoaders = <a title="Int(10)" id="63910" class="int">10</a>,
                usersPerServer = <a href="#63752" title="Int" id="63911">usersPerServer</a>,
                replicationFactor = <a href="#63875" title="Int" id="63912">replication</a>,
                followingCardinality = <a title="Int(10)" id="63913" class="int">10</a><span class="delimiter">)</span>.<a href="#50239" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>,
              <a href="#50237" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span>
          <span class="delimiter">}</span><span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>