<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>experiments/Experiments.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> edu.berkeley.cs
<span class="keyword">package</span> scads
<span class="keyword">package</span> piql
<span class="keyword">package</span> modeling

<span class="keyword">import</span> comm._
<span class="keyword">import</span> storage._
<span class="keyword">import</span> perf._
<span class="keyword">import</span> deploylib.ec2._
<span class="keyword">import</span> deploylib.mesos._
<span class="keyword">import</span> piql.scadr._
<span class="keyword">import</span> perf.scadr._
<span class="keyword">import</span> avro.marker._
<span class="keyword">import</span> avro.runtime._
<span class="keyword">import</span> collection.TraversableOnce

 <span class="keyword">import</span> org.apache.avro.generic._
 <span class="keyword">import</span> org.apache.avro.file.<span class="delimiter">{</span>DataFileReader, DataFileWriter, CodecFactory<span class="delimiter">}</span>
 <span class="keyword">import</span> java.io.File

<span class="keyword">object</span> <a title="object edu.berkeley.cs.scads.piql.modeling.Experiments" id="10201">Experiments</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">var</span> <a title="edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode" id="50009">resultClusterAddress</a> = <span title="(uri: String)edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">ZooKeeperNode</span><span class="delimiter">(</span><span title="java.lang.String(&quot;zk://zoo1.millennium.berkeley.edu,zoo2.millennium.berkeley.edu,zoo3.millennium.berkeley.edu/home/marmbrus/vldb12&quot;)" class="string">&quot;zk://zoo1.millennium.berkeley.edu,zoo2.millennium.berkeley.edu,zoo3.millennium.berkeley.edu/home/marmbrus/vldb12&quot;</span><span class="delimiter">)</span>
  <span class="keyword">val</span> <a title="deploylib.mesos.Cluster" id="50011">cluster</a> = <span title="deploylib.mesos.Cluster" class="keyword">new</span> <span title="deploylib.mesos.Cluster">Cluster</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode" id="50013">zooKeeperRoot</a> = <a href="#50011" title="=&gt; deploylib.mesos.Cluster">cluster</a>.<span title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">zooKeeperRoot</span>
  <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="50014">resultsCluster</a> = <span title="edu.berkeley.cs.scads.storage.ScadsCluster" class="keyword">new</span> <span title="edu.berkeley.cs.scads.storage.ScadsCluster">ScadsCluster</span><span class="delimiter">(</span><a href="#50009" title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">resultClusterAddress</a><span class="delimiter">)</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" id="50016">classSource</a> = <a href="#50011" title="=&gt; deploylib.mesos.Cluster">cluster</a>.<span title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]">classSource</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; deploylib.mesos.RemoteServiceScheduler" id="50017">serviceScheduler</a> = <a href="#50011" title="=&gt; deploylib.mesos.Cluster">cluster</a>.<span title="=&gt; deploylib.mesos.RemoteServiceScheduler">serviceScheduler</span>
  <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode" id="50018">traceRoot</a> = <a href="#50013" title="edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode" id="54478">zooKeeperRoot</a>.<a href="#54478" title="Int" id="54480">getOrCreate</a><span class="delimiter">(</span><a title="java.lang.String(&quot;traceCollection&quot;)" id="54479" class="string">&quot;traceCollection&quot;</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; Unit" id="50019">watchServiceScheduler</a> = <a href="#50011" title="=&gt; deploylib.mesos.Cluster">cluster</a>.<span title="=&gt; deploylib.ec2.EC2Instance">firstMaster</span>.<span title="(remoteFile: java.io.File)Unit">watch</span><span class="delimiter">(</span><span title="implicit deploylib.mesos.package.toFile : (str: String)java.io.File" class="string">&quot;/root/serviceScheduler.log&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(pkg: String)Unit" id="50020">debug</a><span class="delimiter">(</span><a title="String" id="55115">pkg</a>: <span title="String">String</span><span class="delimiter">)</span> = net.lag.logging.<span title="(name: String)net.lag.logging.Logger">Logger</span><span class="delimiter">(</span><a href="#55115" title="String">pkg</a><span class="delimiter">)</span>.<span title="(level: java.util.logging.Level)Unit">setLevel</span><span class="delimiter">(</span>java.util.logging.<span title="object java.util.logging.Level">Level</span>.<span title="java.util.logging.Level">FINEST</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(expId: Int)edu.berkeley.cs.scads.storage.ScadsCluster" id="50021">expCluster</a><span class="delimiter">(</span><a title="Int" id="55243">expId</a>: <span title="Int">Int</span><span class="delimiter">)</span> = 
    <span title="edu.berkeley.cs.scads.storage.ScadsCluster" class="keyword">new</span> <span title="edu.berkeley.cs.scads.storage.ScadsCluster">ScadsCluster</span><span class="delimiter">(</span>
      <span title="(uri: String)edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">ZooKeeperNode</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;zk://zoo.knowsql.org/home/marmbrus/scads/experimentCluster%010d&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#55243" title="Int">expId</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(expId: Int)edu.berkeley.cs.scads.piql.scadr.ScadrClient" id="50022">scadrClient</a><span class="delimiter">(</span><a title="Int" id="55249">expId</a>: <span title="Int">Int</span><span class="delimiter">)</span> = 
    <span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient" class="keyword">new</span> <span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">ScadrClient</span><span class="delimiter">(</span><a href="#50021" title="(expId: Int)edu.berkeley.cs.scads.storage.ScadsCluster">expCluster</a><span class="delimiter">(</span><a href="#55249" title="Int">expId</a><span class="delimiter">)</span>, <span title="edu.berkeley.cs.scads.piql.ParallelExecutor" class="keyword">new</span> <span title="edu.berkeley.cs.scads.piql.ParallelExecutor">ParallelExecutor</span><span class="delimiter">)</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.tpcw.TpcwClient" id="50024">testTpcwClient</a> =
    <span title="edu.berkeley.cs.scads.piql.tpcw.TpcwClient" class="keyword">new</span> piql.tpcw.<span title="edu.berkeley.cs.scads.piql.tpcw.TpcwClient">TpcwClient</span><span class="delimiter">(</span><span title="edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask" class="keyword">new</span> piql.tpcw.<span title="edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">TpcwLoaderTask</span><span class="delimiter">(</span><span title="Int(10)" class="int">10</span>,<span title="Int(5)" class="int">5</span>,<span title="Double(10.0)" class="int">10</span>,<span title="Int(10000)" class="int">10000</span>,<span title="Int(2)" class="int">2</span><span class="delimiter">)</span>.<span title="()edu.berkeley.cs.scads.storage.ScadsCluster">newTestCluster</span>, <a href="#54445" title="edu.berkeley.cs.scads.piql.ParallelExecutor with edu.berkeley.cs.scads.piql.DebugExecutor" class="keyword">new</a> <a title="anonymous class $anon extends edu.berkeley.cs.scads.piql.ParallelExecutor with edu.berkeley.cs.scads.piql.DebugExecutor" id="54445">ParallelExecutor</a> <span class="keyword">with</span> <span title="edu.berkeley.cs.scads.piql.DebugExecutor">DebugExecutor</span><span class="delimiter">)</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="50026">scadsCluster</a> = <span title="edu.berkeley.cs.scads.storage.ScadsCluster" class="keyword">new</span> <span title="edu.berkeley.cs.scads.storage.ScadsCluster">ScadsCluster</span><span class="delimiter">(</span><a href="#50018" title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">traceRoot</a><span class="delimiter">)</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.scadr.ScadrClient" id="50028">scadrClient</a> = <span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient" class="keyword">new</span> piql.scadr.<span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">ScadrClient</span><span class="delimiter">(</span><a href="#50025" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">scadsCluster</a>, <span title="edu.berkeley.cs.scads.piql.ParallelExecutor" class="keyword">new</span> <span title="edu.berkeley.cs.scads.piql.ParallelExecutor">ParallelExecutor</span><span class="delimiter">)</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.scadr.ScadrClient" id="50030">testScadrClient</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ManagedScadsCluster" id="54483">cluster</a> = <span title="object edu.berkeley.cs.scads.storage.TestScalaEngine">TestScalaEngine</span>.<span title="(numNodes: Int)edu.berkeley.cs.scads.storage.ManagedScadsCluster">newScadsCluster</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.scadr.ScadrClient" id="54484">client</a> = <span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient" class="keyword">new</span> piql.scadr.<span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">ScadrClient</span><span class="delimiter">(</span><a href="#54483" title="edu.berkeley.cs.scads.storage.ManagedScadsCluster">cluster</a>, <a href="#54515" title="edu.berkeley.cs.scads.piql.ParallelExecutor with edu.berkeley.cs.scads.piql.DebugExecutor" class="keyword">new</a> <a title="anonymous class $anon extends edu.berkeley.cs.scads.piql.ParallelExecutor with edu.berkeley.cs.scads.piql.DebugExecutor" id="54515">ParallelExecutor</a> <span class="keyword">with</span> <span title="edu.berkeley.cs.scads.piql.DebugExecutor">DebugExecutor</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.scadr.ScadrLoader" id="54485">loader</a> = <span title="edu.berkeley.cs.scads.piql.scadr.ScadrLoader" class="keyword">new</span> piql.scadr.<span title="edu.berkeley.cs.scads.piql.scadr.ScadrLoader">ScadrLoader</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <a href="#54485" title="edu.berkeley.cs.scads.piql.scadr.ScadrLoader">loader</a>.<span title="(clientId: Int)loader.ScadrData">getData</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<span title="(client: edu.berkeley.cs.scads.piql.scadr.ScadrClient)Unit">load</span><span class="delimiter">(</span><a href="#54484" title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">client</a><span class="delimiter">)</span>
    <a href="#54484" title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">client</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; List[deploylib.ec2.EC2Instance#RemoteJavaProcess]" id="50031">clients</a> = <a href="#50011" title="=&gt; deploylib.mesos.Cluster">cluster</a>.<span title="(itr: Iterable[deploylib.ec2.EC2Instance])deploylib.ParallelSeq[deploylib.ec2.EC2Instance]">slaves</span>.<span title="(f: deploylib.ec2.EC2Instance =&gt; Iterable[deploylib.ec2.EC2Instance#RemoteJavaProcess])List[deploylib.ec2.EC2Instance#RemoteJavaProcess]">pflatMap</span><span class="delimiter">(</span><a href="#55437" title="deploylib.ec2.EC2Instance">_</a>.<span title="=&gt; Seq[x$1.RemoteJavaProcess]">jps</span><span class="delimiter">)</span>.<span title="(p: deploylib.ec2.EC2Instance#RemoteJavaProcess =&gt; Boolean)List[deploylib.ec2.EC2Instance#RemoteJavaProcess]">filter</span><span class="delimiter">(</span><a href="#55467" title="deploylib.ec2.EC2Instance#RemoteJavaProcess">_</a>.<span title="=&gt; String">main</span> <span title="(x$1: Any)Boolean">equals</span> <span title="java.lang.String(&quot;AvroTaskMain&quot;)" class="string">&quot;AvroTaskMain&quot;</span><span class="delimiter">)</span>.<span title="(p: deploylib.ec2.EC2Instance#RemoteJavaProcess =&gt; Boolean)List[deploylib.ec2.EC2Instance#RemoteJavaProcess]">filterNot</span><span class="delimiter">(</span><a href="#55473" title="deploylib.ec2.EC2Instance#RemoteJavaProcess">_</a>.<span title="=&gt; String">stack</span> <span title="(x$1: java.lang.CharSequence)Boolean">contains</span> <span title="java.lang.String(&quot;ScalaEngineTask&quot;)" class="string">&quot;ScalaEngineTask&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; List[deploylib.ec2.EC2Instance#RemoteJavaProcess]" id="50032">laggards</a> = <a href="#50031" title="(itr: Iterable[deploylib.ec2.EC2Instance#RemoteJavaProcess])deploylib.ParallelSeq[deploylib.ec2.EC2Instance#RemoteJavaProcess]">clients</a>.<span title="(f: deploylib.ec2.EC2Instance#RemoteJavaProcess =&gt; Boolean)List[deploylib.ec2.EC2Instance#RemoteJavaProcess]">pfilterNot</span><span class="delimiter">(</span><a href="#55508" title="deploylib.ec2.EC2Instance#RemoteJavaProcess">_</a>.<span title="=&gt; String">stack</span> <span title="(x$1: java.lang.CharSequence)Boolean">contains</span> <span title="java.lang.String(&quot;awaitChild&quot;)" class="string">&quot;awaitChild&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; Unit" id="50033">tagClients</a> = <a href="#50031" title="=&gt; List[deploylib.ec2.EC2Instance#RemoteJavaProcess]">clients</a>.<span title="(f: deploylib.ec2.EC2Instance#RemoteJavaProcess =&gt; deploylib.ec2.EC2Instance)(implicit bf: scala.collection.generic.CanBuildFrom[List[deploylib.ec2.EC2Instance#RemoteJavaProcess],deploylib.ec2.EC2Instance,List[deploylib.ec2.EC2Instance]])List[deploylib.ec2.EC2Instance]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,deploylib.ec2.EC2Instance,List[deploylib.ec2.EC2Instance]]" class="delimiter">(</span><a href="#55531" title="deploylib.ec2.EC2Instance#RemoteJavaProcess">_</a>.<span title="=&gt; deploylib.RemoteMachine">remoteMachine</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="deploylib.ec2.EC2Instance" class="delimiter">[</span><span title="deploylib.ec2.EC2Instance">EC2Instance</span><span class="delimiter">]</span><span class="delimiter">)</span>.<span title="(f: deploylib.ec2.EC2Instance =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#55738" title="deploylib.ec2.EC2Instance">_</a>.<span title="object x$6.tags">tags</span> <span title="(key: String, value: String)Unit">+=</span> <span class="delimiter">(</span><span title="java.lang.String(&quot;task&quot;)" class="string">&quot;task&quot;</span>, <span title="java.lang.String(&quot;client&quot;)" class="string">&quot;client&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(id: String)Unit" id="50034">killTask</a><span class="delimiter">(</span><a title="String" id="57018">id</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#50011" title="=&gt; deploylib.mesos.Cluster">cluster</a>.<a title="deploylib.mesos.RemoteServiceScheduler" id="57020">serviceScheduler</a> <a href="#57020" title="Int" id="57060">!?</a> <span title="(taskId: String)edu.berkeley.cs.scads.comm.KillTaskRequest">KillTaskRequest</span><a title="edu.berkeley.cs.scads.comm.KillTaskRequest" id="57059" class="delimiter">(</a><a href="#57018" title="String">id</a><span class="delimiter">)</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit edu.berkeley.cs.scads.piql.modeling.Experiments.productSeqToExcel : (lines: Seq[Product])java.lang.Object{def toExcel: Unit}" id="50035">productSeqToExcel</a><span class="delimiter">(</span><a title="Seq[Product]" id="57061">lines</a>: <span title="Seq[Product]">Seq</span><span class="delimiter">[</span>Product<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#57064" title="java.lang.Object{def toExcel: Unit}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object" id="57064" class="delimiter">{</a>
    <span class="keyword">import</span> java.io._
    <span class="keyword">def</span> <a title="=&gt; Unit" id="57067">toExcel</a>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.io.File" id="57069">file</a> = <span title="object java.io.File">File</span>.<span title="(x$1: java.lang.String, x$2: java.lang.String)java.io.File">createTempFile</span><span class="delimiter">(</span><span title="java.lang.String(&quot;scadsOut&quot;)" class="string">&quot;scadsOut&quot;</span>, <span title="java.lang.String(&quot;.csv&quot;)" class="string">&quot;.csv&quot;</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="java.io.FileWriter" id="57070">writer</a> = <span title="(x$1: java.io.File)java.io.FileWriter" class="keyword">new</span> <span title="java.io.FileWriter">FileWriter</span><span class="delimiter">(</span><a href="#57069" title="java.io.File">file</a><span class="delimiter">)</span>

      <a href="#57061" title="Seq[Product]">lines</a>.<span title="(f: Product =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[Product],java.lang.String,Seq[java.lang.String]])Seq[java.lang.String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,java.lang.String,Seq[java.lang.String]]" class="delimiter">(</span><a href="#57181" title="Product">_</a>.<span title="=&gt; Iterator[Any]">productIterator</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>.<span title="(f: java.lang.String =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#57070" title="java.io.FileWriter">writer</a>.<a href="#57232" title="(x$1: java.lang.String)Unit">write</a><span class="delimiter">)</span>
      <a href="#57070" title="java.io.FileWriter">writer</a>.<span title="()Unit">close</span>

      <span title="object java.lang.Runtime">Runtime</span>.<span title="()java.lang.Runtime">getRuntime</span>.<span title="(x$1: Array[java.lang.String])java.lang.Process">exec</span><span title="Unit" class="delimiter">(</span><span title="(xs: java.lang.String*)(implicit evidence$2: scala.reflect.ClassManifest[java.lang.String])Array[java.lang.String]">Array</span><span title="(clazz: java.lang.Class[_])scala.reflect.ClassManifest[java.lang.String]" class="delimiter">(</span><span title="java.lang.String(&quot;/usr/bin/open&quot;)" class="string">&quot;/usr/bin/open&quot;</span>, <a href="#57069" title="java.io.File">file</a>.<span title="()java.lang.String">getCanonicalPath</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[RecordType &lt;: org.apache.avro.generic.GenericContainer](iter: Iterator[RecordType])java.lang.Object{def toAvroFile(file: java.io.File,codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType]): Unit; def toAvroFile$default$2: Option[org.apache.avro.file.CodecFactory]}" id="50036">avroIterWriter</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: org.apache.avro.generic.GenericContainer" id="50038">RecordType</a> &lt;: GenericContainer<span class="delimiter">]</span><span class="delimiter">(</span><a title="Iterator[RecordType]" id="57348">iter</a>: <span title="Iterator[RecordType]">Iterator</span><span class="delimiter">[</span>RecordType<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#57351" title="java.lang.Object{def toAvroFile(file: java.io.File,codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType]): Unit; def toAvroFile$default$2: Option[org.apache.avro.file.CodecFactory] @scala.annotation.unchecked.uncheckedVariance}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object" id="57351" class="delimiter">{</a>
     <span class="keyword">def</span> <a title="(file: java.io.File, codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType])Unit" id="57353">toAvroFile</a><span class="delimiter">(</span><a title="java.io.File" id="57354">file</a>: <span title="java.io.File">File</span>, <a title="Option[org.apache.avro.file.CodecFactory]" id="57357">codec</a>: <span title="Option[org.apache.avro.file.CodecFactory]">Option</span><span class="delimiter">[</span>CodecFactory<span class="delimiter">]</span> = <span title="object None">None</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType]" id="57356">schema</a>: <span title="edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType]">TypedSchema</span><span class="delimiter">[</span>RecordType<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
       <span class="keyword">val</span> <a title="org.apache.avro.file.DataFileWriter[RecordType]" id="57358">outfile</a> = <span title="[RecordType &lt;: org.apache.avro.generic.GenericContainer](file: java.io.File, codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType])org.apache.avro.file.DataFileWriter[RecordType]">AvroOutFile</span><span title="(file: java.io.File, codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType])org.apache.avro.file.DataFileWriter[RecordType]" class="delimiter">[</span><a href="#50038" title="RecordType">RecordType</a><span class="delimiter">]</span><a href="#57356" title="edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType]" class="delimiter">(</a><a href="#57354" title="java.io.File">file</a>, <a href="#57357" title="Option[org.apache.avro.file.CodecFactory]">codec</a><span class="delimiter">)</span>
       <a href="#57348" title="Iterator[RecordType]">iter</a>.<span title="(f: RecordType =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#57358" title="org.apache.avro.file.DataFileWriter[RecordType]">outfile</a>.<a href="#57385" title="(x$1: RecordType)Unit">append</a><span class="delimiter">)</span>
       <a href="#57358" title="org.apache.avro.file.DataFileWriter[RecordType]">outfile</a>.<span title="()Unit">close</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object edu.berkeley.cs.scads.piql.modeling.Experiments.QueryRunner" id="50039">QueryRunner</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Result]" id="57422">results</a> = <a href="#50014" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a>.<span title="[PairType &lt;: edu.berkeley.cs.avro.marker.AvroPair](ns: String)(implicit evidence$7: Manifest[PairType])edu.berkeley.cs.scads.storage.PairNamespace[PairType]">getNamespace</span><span title="(ns: String)(implicit evidence$7: Manifest[edu.berkeley.cs.scads.piql.modeling.Result])edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Result]" class="delimiter">[</span><a href="../collection/QueryRunnerTask.scala.html#10129" title="edu.berkeley.cs.scads.piql.modeling.Result">Result</a><span class="delimiter">]</span><span title="(clazz: Class[_])scala.reflect.Manifest[edu.berkeley.cs.scads.piql.modeling.Result]" class="delimiter">(</span><span title="java.lang.String(&quot;queryRunnerResults&quot;)" class="string">&quot;queryRunnerResults&quot;</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; Unit" id="57424">downloadResults</a>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.piql.modeling.Result]" id="57556">outfile</a> = <span title="[RecordType &lt;: org.apache.avro.generic.GenericContainer](file: java.io.File, codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType])org.apache.avro.file.DataFileWriter[RecordType]">AvroOutFile</span><span title="(file: java.io.File, codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[edu.berkeley.cs.scads.piql.modeling.Result])org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.piql.modeling.Result]" class="delimiter">[</span><a href="../collection/QueryRunnerTask.scala.html#10129" title="edu.berkeley.cs.scads.piql.modeling.Result">Result</a><span class="delimiter">]</span><span title="(implicit r: Manifest[edu.berkeley.cs.scads.piql.modeling.Result])edu.berkeley.cs.avro.runtime.package.TypedSchema[edu.berkeley.cs.scads.piql.modeling.Result]" class="delimiter">(</span><span title="implicit deploylib.mesos.package.toFile : (str: String)java.io.File" class="string">&quot;QueryRunnerResults.avro&quot;</span><span class="delimiter">)</span>
      <a href="#57422" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Result =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#57556" title="org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.piql.modeling.Result]">outfile</a>.<a href="#57589" title="(x$1: edu.berkeley.cs.scads.piql.modeling.Result)Unit">append</a><span class="delimiter">)</span>
      <a href="#57556" title="org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.piql.modeling.Result]">outfile</a>.<span title="()Unit">close</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; org.apache.avro.file.DataFileReader[edu.berkeley.cs.scads.piql.modeling.Result] with Iterator[edu.berkeley.cs.scads.piql.modeling.Result]" id="57425">allResults</a> = <span title="[RecordType &lt;: org.apache.avro.generic.GenericContainer](file: java.io.File)(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType])org.apache.avro.file.DataFileReader[RecordType] with Iterator[RecordType]">AvroInFile</span><span title="(file: java.io.File)(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[edu.berkeley.cs.scads.piql.modeling.Result])org.apache.avro.file.DataFileReader[edu.berkeley.cs.scads.piql.modeling.Result] with Iterator[edu.berkeley.cs.scads.piql.modeling.Result]" class="delimiter">[</span><a href="../collection/QueryRunnerTask.scala.html#10129" title="edu.berkeley.cs.scads.piql.modeling.Result">Result</a><span class="delimiter">]</span><span title="(implicit r: Manifest[edu.berkeley.cs.scads.piql.modeling.Result])edu.berkeley.cs.avro.runtime.package.TypedSchema[edu.berkeley.cs.scads.piql.modeling.Result]" class="delimiter">(</span><span title="implicit deploylib.mesos.package.toFile : (str: String)java.io.File" class="string">&quot;QueryRunnerResults.avro&quot;</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; Iterator[edu.berkeley.cs.scads.piql.modeling.Result]" id="57426">goodResults</a> = <a href="#57425" title="=&gt; org.apache.avro.file.DataFileReader[edu.berkeley.cs.scads.piql.modeling.Result] with Iterator[edu.berkeley.cs.scads.piql.modeling.Result]">allResults</a>.<span title="(p: edu.berkeley.cs.scads.piql.modeling.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Result]">filter</span><span class="delimiter">(</span><a href="#57617" title="edu.berkeley.cs.scads.piql.modeling.Result">_</a>.<a href="../collection/QueryRunnerTask.scala.html#37920" title="=&gt; Int">failedQueries</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(200)" class="int">200</span><span class="delimiter">)</span>
      .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Result]">filterNot</span><span class="delimiter">(</span><a href="#57623" title="edu.berkeley.cs.scads.piql.modeling.Result">_</a>.<a href="../collection/QueryRunnerTask.scala.html#37911" title="=&gt; Int">iteration</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Result]">filter</span><span class="delimiter">(</span><a href="#57631" title="edu.berkeley.cs.scads.piql.modeling.Result">_</a>.<a href="../collection/QueryRunnerTask.scala.html#37914" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">clientConfig</a>.<a href="../collection/QueryRunnerTask.scala.html#37992" title="=&gt; Int">iterationLengthMin</a> <span title="(x: Int)Boolean">==</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>
      .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Result]">filter</span><span class="delimiter">(</span><a href="#57638" title="edu.berkeley.cs.scads.piql.modeling.Result">_</a>.<a href="../collection/QueryRunnerTask.scala.html#37914" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">clientConfig</a>.<a href="../collection/QueryRunnerTask.scala.html#37974" title="=&gt; Int">numClients</a> <span title="(x: Int)Boolean">==</span> <span title="Int(50)" class="int">50</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(results: Seq[edu.berkeley.cs.scads.piql.modeling.Result], quantile: Double)scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]" id="57427">queryTypeQuantile</a><span class="delimiter">(</span><a title="Seq[edu.berkeley.cs.scads.piql.modeling.Result]" id="57649">results</a>: <span title="Seq[edu.berkeley.cs.scads.piql.modeling.Result]">Seq</span><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <a href="#57426" title="=&gt; Iterator[edu.berkeley.cs.scads.piql.modeling.Result]">goodResults</a>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Result]">toSeq</span>, <a title="Double" id="57650">quantile</a>: <span title="Double">Double</span> = <span title="Double(0.9)" class="double">0.90</span><span class="delimiter">)</span> =
      <a href="#57649" title="Seq[edu.berkeley.cs.scads.piql.modeling.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Result =&gt; edu.berkeley.cs.scads.piql.modeling.QueryDescription)scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Seq[edu.berkeley.cs.scads.piql.modeling.Result]]">groupBy</span><span class="delimiter">(</span><a href="#57657" title="edu.berkeley.cs.scads.piql.modeling.Result">_</a>.<a href="../collection/QueryRunnerTask.scala.html#37901" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryDescription">queryDesc</a><span class="delimiter">)</span>.<span title="(f: (edu.berkeley.cs.scads.piql.modeling.QueryDescription, Seq[edu.berkeley.cs.scads.piql.modeling.Result]) =&gt; (edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int]))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Seq[edu.berkeley.cs.scads.piql.modeling.Result]],(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int]),scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]])scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]">map</span> <a href="#57678" title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])" class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.QueryDescription" id="57681">queryDesc</a>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Result]" id="57682">results</a><span class="delimiter">)</span> =&gt; <span title="(_1: edu.berkeley.cs.scads.piql.modeling.QueryDescription, _2: Option[Int])(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])" class="delimiter">(</span><a href="#57681" title="edu.berkeley.cs.scads.piql.modeling.QueryDescription">queryDesc</a>, <a href="#57682" title="Seq[edu.berkeley.cs.scads.piql.modeling.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#57703" title="edu.berkeley.cs.scads.piql.modeling.Result">_</a>.<a href="../collection/QueryRunnerTask.scala.html#37917" title="=&gt; edu.berkeley.cs.scads.perf.Histogram">responseTimes</a><span class="delimiter">)</span>
          .<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span title="(a: edu.berkeley.cs.scads.perf.Histogram)Option[edu.berkeley.cs.scads.perf.Histogram]" class="delimiter">(</span><a href="#57728" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#57729" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
          .<span title="(f: edu.berkeley.cs.scads.perf.Histogram =&gt; Int)Option[Int]">map</span><span class="delimiter">(</span><a href="#57807" title="edu.berkeley.cs.scads.perf.Histogram">_</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><a href="#57650" title="Double">quantile</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]" id="57428">thoughtstreamGraph</a> =
      <a href="#57427" title="(results: Seq[edu.berkeley.cs.scads.piql.modeling.Result], quantile: Double)scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]">queryTypeQuantile</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(p: (edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int]) =&gt; Boolean)scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]">filter</span><span class="delimiter">(</span><a href="#57861" title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryDescription">_1</span>.<a href="../collection/QueryRunnerTask.scala.html#37795" title="=&gt; String">queryName</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;thoughtstream&quot;)" class="string">&quot;thoughtstream&quot;</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(queryName: String)scala.collection.immutable.Iterable[Unit]" id="57429">quantileCsv</a><span class="delimiter">(</span><a title="String" id="57867">queryName</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]" id="57870">quantiles</a> = <a href="#57427" title="(results: Seq[edu.berkeley.cs.scads.piql.modeling.Result], quantile: Double)scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]">queryTypeQuantile</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(p: (edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int]) =&gt; Boolean)scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]">filter</span><span class="delimiter">(</span><a href="#57876" title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryDescription">_1</span>.<a href="../collection/QueryRunnerTask.scala.html#37795" title="=&gt; String">queryName</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#57867" title="String">queryName</a><span class="delimiter">)</span>

      <a href="#57870" title="scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]">quantiles</a>.<span title="(f: (edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int]) =&gt; Unit)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]],Unit,scala.collection.immutable.Iterable[Unit]])scala.collection.immutable.Iterable[Unit]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Iterable.Coll,Unit,scala.collection.immutable.Iterable[Unit]]" class="delimiter">(</span><a title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])" id="57898">i</a> =&gt; <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="List[String]" id="57899">line</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="object Nil">Nil</span>
        <a href="#57899" title="List[String]">line</a> = <a href="#57898" title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])">i</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryDescription">_1</span>.<a href="../collection/QueryRunnerTask.scala.html#37795" title="=&gt; String">queryName</a> <a href="#57900" title="(x: String)List[String]">::</a> <a href="#57899" title="List[String]">line</a>

        <span class="delimiter">(</span><span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">1</span> <span title="(end: Int)scala.collection.immutable.Range.Inclusive">to</span> <a href="#57898" title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])">i</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryDescription">_1</span>.<a href="../collection/QueryRunnerTask.scala.html#37798" title="=&gt; Seq[Int]">parameters</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>.<span title="(f: Int =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a title="Int" id="58086">j</a> =&gt;
          <a href="#57899" title="List[String]">line</a> = <a href="#57898" title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])">i</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryDescription">_1</span>.<a href="../collection/QueryRunnerTask.scala.html#37798" title="(idx: Int)Int">parameters</a><span class="delimiter">(</span><a href="#58086" title="Int">j</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="()java.lang.String">toString</span> <a href="#58087" title="(x: String)List[String]">::</a> <a href="#57899" title="List[String]">line</a>
        <span class="delimiter">)</span>

        <a href="#57899" title="List[String]">line</a> = <a href="#57898" title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])">i</a>.<span title="=&gt; Option[Int]">_2</span>.<span title="=&gt; Int">get</span>.<span title="()java.lang.String">toString</span> <a href="#58104" title="(x: String)List[String]">::</a> <a href="#57899" title="List[String]">line</a>
        <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#57899" title="List[String]">line</a>.<span title="=&gt; List[String]">reverse</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Iterable[Unit]" id="57430">thoughtstreamQuantileCsv</a> = <span class="delimiter">{</span>
		  <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;queryName,numSubscriptions,numPerPage,latency&quot;)" class="string">&quot;queryName,numSubscriptions,numPerPage,latency&quot;</span><span class="delimiter">)</span>
		  <a href="#57429" title="(queryName: String)scala.collection.immutable.Iterable[Unit]">quantileCsv</a><span class="delimiter">(</span><span title="java.lang.String(&quot;thoughtstream&quot;)" class="string">&quot;thoughtstream&quot;</span><span class="delimiter">)</span>
		<span class="delimiter">}</span>
		
		<span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Iterable[Unit]" id="57431">myThoughtsQuantileCsv</a> = <span class="delimiter">{</span>
		  <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;queryName,numPerPage,latency&quot;)" class="string">&quot;queryName,numPerPage,latency&quot;</span><span class="delimiter">)</span>
		  <a href="#57429" title="(queryName: String)scala.collection.immutable.Iterable[Unit]">quantileCsv</a><span class="delimiter">(</span><span title="java.lang.String(&quot;myThoughts&quot;)" class="string">&quot;myThoughts&quot;</span><span class="delimiter">)</span>
		<span class="delimiter">}</span>

		<span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Iterable[Unit]" id="57432">usersFollowedByQuantileCsv</a> = <span class="delimiter">{</span>
		  <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;queryName,numSubscriptions,latency&quot;)" class="string">&quot;queryName,numSubscriptions,latency&quot;</span><span class="delimiter">)</span>
		  <a href="#57429" title="(queryName: String)scala.collection.immutable.Iterable[Unit]">quantileCsv</a><span class="delimiter">(</span><span title="java.lang.String(&quot;usersFollowedBy&quot;)" class="string">&quot;usersFollowedBy&quot;</span><span class="delimiter">)</span>
		<span class="delimiter">}</span>
		
    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask" id="57433">defaultScadr</a> = <span title="(numServers: Int, numLoaders: Int, followingCardinality: Int, replicationFactor: Int, usersPerServer: Int, thoughtsPerUser: Int)edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">ScadrLoaderTask</span><span class="delimiter">(</span>numServers=<span title="Int(10)" class="int">10</span>,
				       numLoaders=<span title="Int(5)" class="int">5</span>,
				       followingCardinality=<span title="Int(500)" class="int">500</span>,
				       replicationFactor=<span title="Int(2)" class="int">2</span>,
				       usersPerServer=<span title="Int(20000)" class="int">20000</span>,
				       thoughtsPerUser=<span title="Int(100)" class="int">100</span>
				     <span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask" id="57434">testScadrCluster</a> = <span title="(numServers: Int, numLoaders: Int, followingCardinality: Int, replicationFactor: Int, usersPerServer: Int, thoughtsPerUser: Int)edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">ScadrLoaderTask</span><span class="delimiter">(</span>numServers=<span title="Int(10)" class="int">10</span>,
				  numLoaders=<span title="Int(10)" class="int">10</span>,
				  followingCardinality=<span title="Int(100)" class="int">100</span>,
				  replicationFactor=<span title="Int(2)" class="int">2</span>,
				  usersPerServer=<span title="Int(100)" class="int">100</span>,
				  thoughtsPerUser=<span title="Int(100)" class="int">100</span>
				 <span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57435">defaultRunner</a> = 
      <a href="../collection/QueryRunnerTask.scala.html#38199" title="(numClients: Int, queryProvider: String, traceIterators: Boolean, traceMessages: Boolean, traceQueries: Boolean, iterations: Int, iterationLengthMin: Int, threads: Int)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">QueryRunnerTask</a><span class="delimiter">(</span><a title="Int(5)" id="57493" class="int">5</a>,
		      <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.modeling.ScadrQueryProvider&quot;)" id="57494" class="string">&quot;edu.berkeley.cs.scads.piql.modeling.ScadrQueryProvider&quot;</a>,
		      iterations=<span class="int">10</span><a title="Int(60)" id="57495">*</a><span class="int">6</span>,
		      iterationLengthMin=<a title="Int(10)" id="57496" class="int">10</a>,
		      threads=<a title="Int(5)" id="57497" class="int">5</a>,
		      traceIterators=<a title="Boolean(false)" id="57498" class="keyword">false</a>,
		      traceMessages=<a title="Boolean(false)" id="57499" class="keyword">false</a>,
		      traceQueries=<a title="Boolean(false)" id="57500" class="keyword">false</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; Unit" id="57437">testReplicationEffect</a>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58190">rep</a> = <a href="#57433" title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask" id="58192">defaultScadr</a>.<a href="#58192" title="Int" id="58198">copy</a><span class="delimiter">(</span>replicationFactor=<a title="Int(2)" id="58193" class="int">2</a><span class="delimiter">)</span>.<a href="#50016" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58191">noRep</a> = <a href="#57433" title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">defaultScadr</a>.<a href="#50016" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>
      <a href="#57454" title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">benchmarkScadr</a><span class="delimiter">(</span><a href="#58190" title="edu.berkeley.cs.scads.storage.ScadsCluster">rep</a><span class="delimiter">)</span>
      <a href="#57454" title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">benchmarkScadr</a><span title="Unit" class="delimiter">(</span><a href="#58191" title="edu.berkeley.cs.scads.storage.ScadsCluster">noRep</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; Unit" id="57438">testGenericRunner</a>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58225">cluster</a> = <a href="../collection/GenericRelationQueryProvider.scala.html#34074" title="(numServers: Int, numLoaders: Int, replicationFactor: Int, tuplesPerServer: Int, dataSize: Int, maxCardinality: Int)edu.berkeley.cs.scads.piql.modeling.GenericRelationLoaderTask">GenericRelationLoaderTask</a><span class="delimiter">(</span><span title="Int(4)" class="int">4</span>,<span title="Int(2)" class="int">2</span>,<span title="Int(2)" class="int">2</span>,<span title="Int(10)" class="int">10</span>,<span title="Int(1)" class="int">1</span>,<span title="Int(500)" class="int">500</span><span class="delimiter">)</span>.<span title="()edu.berkeley.cs.scads.storage.ScadsCluster">newTestCluster</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="58226">runner</a> = <a href="../collection/QueryRunnerTask.scala.html#38199" title="(numClients: Int, queryProvider: String, traceIterators: Boolean, traceMessages: Boolean, traceQueries: Boolean, iterations: Int, iterationLengthMin: Int, threads: Int)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">QueryRunnerTask</a><span class="delimiter">(</span><a title="Int(1)" id="58235" class="int">1</a>,
		      <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.modeling.GenericQueryProvider&quot;)" id="58236" class="string">&quot;edu.berkeley.cs.scads.piql.modeling.GenericQueryProvider&quot;</a>,
		      iterations=<a title="Int(10)" id="58237" class="int">10</a>,
		      iterationLengthMin=<a title="Int(1)" id="58238" class="int">1</a>,
		      threads=<a title="Int(2)" id="58239" class="int">2</a>,
		      traceIterators=<a title="Boolean(false)" id="58240" class="keyword">false</a>,
		      traceMessages=<a title="Boolean(false)" id="58241" class="keyword">false</a>,
		      traceQueries=<a title="Boolean(false)" id="58242" class="keyword">false</a><span class="delimiter">)</span>
      <a href="#58226" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a>.<a href="../collection/QueryRunnerTask.scala.html#38000" title="(x$1: String)Unit">clusterAddress</a> = <a href="#58225" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">root</span>.<span title="=&gt; java.lang.String">canonicalAddress</span>
      <a href="#58226" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a>.<a href="../collection/QueryRunnerTask.scala.html#38006" title="(x$1: String)Unit">experimentAddress</a> = <a href="#58225" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">root</span>.<span title="=&gt; java.lang.String">canonicalAddress</span>
      <a href="#58226" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a>.<a href="../collection/QueryRunnerTask.scala.html#38003" title="(x$1: String)Unit">resultClusterAddress</a> = <a href="#58225" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">root</span>.<span title="=&gt; java.lang.String">canonicalAddress</span>
      <span title="Unit" class="keyword">while</span><span class="delimiter">(</span><a href="#58225" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="()List[edu.berkeley.cs.scads.comm.StorageService]">getAvailableServers</span>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="object java.lang.Thread">Thread</span>.<span title="(x$1: Long)Unit">sleep</span><a href="#58228" title="()Unit" class="delimiter">(</a><span title="Long(100L)" class="int">100</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="java.lang.Thread" id="58227">thread</a> = <span title="(x$1: java.lang.Runnable)java.lang.Thread" class="keyword">new</span> <span title="java.lang.Thread">Thread</span><span class="delimiter">(</span><a href="#58226" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a><span class="delimiter">)</span>
      <a href="#58227" title="java.lang.Thread">thread</a>.<span title="()Unit">start</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.piql.modeling.GenericRelationLoaderTask" id="57439">genericCluster</a> = 
      <a href="../collection/GenericRelationQueryProvider.scala.html#34074" title="(numServers: Int, numLoaders: Int, replicationFactor: Int, tuplesPerServer: Int, dataSize: Int, maxCardinality: Int)edu.berkeley.cs.scads.piql.modeling.GenericRelationLoaderTask">GenericRelationLoaderTask</a><span class="delimiter">(</span>
	      numServers=<span title="Int(10)" class="int">10</span>,
	      numLoaders=<span title="Int(10)" class="int">10</span>,
	      replicationFactor=<span title="Int(2)" class="int">2</span>,
	      tuplesPerServer=<span title="Int(10000)" class="int">10000</span>,
	      dataSize=<span title="Int(10)" class="int">10</span>,
	      maxCardinality=<span title="Int(500)" class="int">500</span><span class="delimiter">)</span>
    
    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57440">defaultGenericRunner</a> =
       <a href="../collection/QueryRunnerTask.scala.html#38199" title="(numClients: Int, queryProvider: String, traceIterators: Boolean, traceMessages: Boolean, traceQueries: Boolean, iterations: Int, iterationLengthMin: Int, threads: Int)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">QueryRunnerTask</a><span class="delimiter">(</span>numClients=<a title="Int(10)" id="58719" class="int">10</a>,
		      <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.modeling.GenericQueryProvider&quot;)" id="58720" class="string">&quot;edu.berkeley.cs.scads.piql.modeling.GenericQueryProvider&quot;</a>,
		      iterations=<a title="Int(30)" id="58721" class="int">30</a>,
		      iterationLengthMin=<a title="Int(10)" id="58722" class="int">10</a>,
		      threads=<a title="Int(2)" id="58723" class="int">2</a>,
		      traceIterators=<a title="Boolean(false)" id="58724" class="keyword">false</a>,
		      traceMessages=<a title="Boolean(false)" id="58725" class="keyword">false</a>,
		      traceQueries=<a title="Boolean(false)" id="58726" class="keyword">false</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57441">scadrGenericBenchmark</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58730">clust30</a> = <a href="#57439" title="edu.berkeley.cs.scads.piql.modeling.GenericRelationLoaderTask" id="58733">genericCluster</a>.<a href="../collection/GenericRelationQueryProvider.scala.html#37502" title="Int" id="58739">copy</a><span class="delimiter">(</span>dataSize=<a title="Int(30)" id="58734" class="int">30</a><span class="delimiter">)</span>.<a href="#50016" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58731">clust40</a> = <a href="#57439" title="edu.berkeley.cs.scads.piql.modeling.GenericRelationLoaderTask" id="58740">genericCluster</a>.<a href="../collection/GenericRelationQueryProvider.scala.html#37502" title="Int" id="58746">copy</a><span class="delimiter">(</span>dataSize=<a title="Int(40)" id="58741" class="int">40</a><span class="delimiter">)</span>.<a href="#50016" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58732">scadrCluster</a> = <a href="#57433" title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">defaultScadr</a>.<a href="#50016" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>

      <a href="#57453" title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">genericBenchmark</a><span class="delimiter">(</span><a href="#58730" title="edu.berkeley.cs.scads.storage.ScadsCluster">clust30</a><span class="delimiter">)</span>
      <a href="#57453" title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">genericBenchmark</a><span class="delimiter">(</span><a href="#58731" title="edu.berkeley.cs.scads.storage.ScadsCluster">clust40</a><span class="delimiter">)</span>
      <a href="#57454" title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">benchmarkScadr</a><span class="delimiter">(</span><a href="#58732" title="edu.berkeley.cs.scads.storage.ScadsCluster">scadrCluster</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="Int" id="57442">numClients</a> = <span title="Int(5)" class="int">5</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask" id="57444">tpcwCluster</a> = tpcw.<span title="(numServers: Int, numLoaders: Int, numEBs: Double, numItems: Int, replicationFactor: Int)edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">TpcwLoaderTask</span><span class="delimiter">(</span><span title="Int(10)" class="int">10</span>, <a href="#57442" title="=&gt; Int">numClients</a>, numEBs=<span title="Int(150)" class="int">150</span><span title="=&gt; Double">*</span><a href="#57442" title="=&gt; Int">numClients</a>, numItems=<span title="Int(10000)" class="int">10000</span>, <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57446">tpcwRunner</a> =
      <a href="../collection/QueryRunnerTask.scala.html#38199" title="(numClients: Int, queryProvider: String, traceIterators: Boolean, traceMessages: Boolean, traceQueries: Boolean, iterations: Int, iterationLengthMin: Int, threads: Int)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">QueryRunnerTask</a><span class="delimiter">(</span>numClients=<a title="Int(10)" id="57534" class="int">10</a>,
        <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.modeling.TpcwQueryProvider&quot;)" id="57535" class="string">&quot;edu.berkeley.cs.scads.piql.modeling.TpcwQueryProvider&quot;</a>,
        iterations=<a title="Int(30)" id="57536" class="int">30</a>,
        iterationLengthMin=<a title="Int(10)" id="57537" class="int">10</a>,
        threads=<a title="Int(2)" id="57538" class="int">2</a>,
        traceIterators=<a title="Boolean(false)" id="57539" class="keyword">false</a>,
        traceMessages=<a title="Boolean(false)" id="57540" class="keyword">false</a>,
        traceQueries=<a title="Boolean(false)" id="57541" class="keyword">false</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57448">defaultTpcwRunner</a> =
      <a href="../collection/QueryRunnerTask.scala.html#38199" title="(numClients: Int, queryProvider: String, traceIterators: Boolean, traceMessages: Boolean, traceQueries: Boolean, iterations: Int, iterationLengthMin: Int, threads: Int)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">QueryRunnerTask</a><span class="delimiter">(</span><a href="#57442" title="Int" id="57546">numClients</a>,
		      <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.modeling.TpcwQueryProvider&quot;)" id="57547" class="string">&quot;edu.berkeley.cs.scads.piql.modeling.TpcwQueryProvider&quot;</a>,
		      iterations=<span class="int">10</span><a title="Int(60)" id="57548">*</a><span class="int">6</span>,
		      iterationLengthMin=<a title="Int(10)" id="57549" class="int">10</a>,
		      threads=<a title="Int(10)" id="57550" class="int">10</a>,
		      traceIterators=<a title="Boolean(false)" id="57551" class="keyword">false</a>,
		      traceMessages=<a title="Boolean(false)" id="57552" class="keyword">false</a>,
		      traceQueries=<a title="Boolean(false)" id="57553" class="keyword">false</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57450">tpcwBenchmark</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58763">cluster</a> = <a href="#57444" title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">tpcwCluster</a>.<a href="#50016" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>
      <a href="#57448" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">defaultTpcwRunner</a>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.piql.modeling.Experiments.QueryRunner.defaultTpcwRunner.type">schedule</span><a href="#50016" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a href="#58763" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>, <a href="#50014" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; Unit" id="57451">rocTpcwBenchmark</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58767">cluster</a> = <a href="#57444" title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">tpcwCluster</a>.<a href="#50016" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>
      <span class="delimiter">(</span><span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">1</span> <span title="(end: Int)scala.collection.immutable.Range.Inclusive">to</span> <span title="Int(100)" class="int">100</span><span class="delimiter">)</span>.<span title="(f: Int =&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask)Unit">foreach</span><span class="delimiter">(</span><a title="Int" id="58880">_</a> =&gt; <a href="#57448" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">defaultTpcwRunner</a>.<a href="../collection/QueryRunnerTask.scala.html#43213" title="Int" id="58888">copy</a><span class="delimiter">(</span>iterations=<a title="Int(5)" id="58881" class="int">5</a><span class="delimiter">)</span>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">schedule</span><a href="#50016" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a href="#58767" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>,<a href="#50014" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; Unit" id="57452">testTpcwRunner</a>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58897">cluster</a> = tpcw.<span title="(numServers: Int, numLoaders: Int, numEBs: Double, numItems: Int, replicationFactor: Int)edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">TpcwLoaderTask</span><span class="delimiter">(</span><span title="Int(2)" class="int">2</span>, <span title="Int(2)" class="int">2</span>, <span title="Double(10.0)" class="int">10</span>, <span title="Int(1000)" class="int">1000</span>, <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>.<span title="()edu.berkeley.cs.scads.storage.ScadsCluster">newTestCluster</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="58898">runner</a> = <a href="../collection/QueryRunnerTask.scala.html#38199" title="(numClients: Int, queryProvider: String, traceIterators: Boolean, traceMessages: Boolean, traceQueries: Boolean, iterations: Int, iterationLengthMin: Int, threads: Int)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">QueryRunnerTask</a><span class="delimiter">(</span><a title="Int(1)" id="58901" class="int">1</a>,
		      <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.modeling.TpcwQueryProvider&quot;)" id="58902" class="string">&quot;edu.berkeley.cs.scads.piql.modeling.TpcwQueryProvider&quot;</a>,
		      iterations=<a title="Int(10)" id="58903" class="int">10</a>,
		      iterationLengthMin=<a title="Int(1)" id="58904" class="int">1</a>,
		      threads=<a title="Int(2)" id="58905" class="int">2</a>,
		      traceIterators=<a title="Boolean(false)" id="58906" class="keyword">false</a>,
		      traceMessages=<a title="Boolean(false)" id="58907" class="keyword">false</a>,
		      traceQueries=<a title="Boolean(false)" id="58908" class="keyword">false</a><span class="delimiter">)</span>
      <a href="#58898" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a>.<a href="../collection/QueryRunnerTask.scala.html#38000" title="(x$1: String)Unit">clusterAddress</a> = <a href="#58897" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">root</span>.<span title="=&gt; java.lang.String">canonicalAddress</span>
      <a href="#58898" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a>.<a href="../collection/QueryRunnerTask.scala.html#38006" title="(x$1: String)Unit">experimentAddress</a> = <a href="#58897" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">root</span>.<span title="=&gt; java.lang.String">canonicalAddress</span>
      <a href="#58898" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a>.<a href="../collection/QueryRunnerTask.scala.html#38003" title="(x$1: String)Unit">resultClusterAddress</a> = <a href="#58897" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">root</span>.<span title="=&gt; java.lang.String">canonicalAddress</span>
      <span title="Unit" class="keyword">while</span><span class="delimiter">(</span><a href="#58897" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="()List[edu.berkeley.cs.scads.comm.StorageService]">getAvailableServers</span>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="object java.lang.Thread">Thread</span>.<span title="(x$1: Long)Unit">sleep</span><a href="#58900" title="()Unit" class="delimiter">(</a><span title="Long(100L)" class="int">100</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="java.lang.Thread" id="58899">thread</a> = <span title="(x$1: java.lang.Runnable)java.lang.Thread" class="keyword">new</span> <span title="java.lang.Thread">Thread</span><span class="delimiter">(</span><a href="#58898" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a><span class="delimiter">)</span>
      <a href="#58899" title="java.lang.Thread">thread</a>.<span title="()Unit">start</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57453">genericBenchmark</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58750">cluster</a>: <span title="edu.berkeley.cs.scads.storage.ScadsCluster">ScadsCluster</span> = <a href="#57439" title="=&gt; edu.berkeley.cs.scads.piql.modeling.GenericRelationLoaderTask">genericCluster</a>.<a href="#50016" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a><span class="delimiter">)</span> =
      <a href="#57440" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">defaultGenericRunner</a>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">schedule</span><a href="#50016" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a href="#58750" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>, <a href="#50014" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57454">benchmarkScadr</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58222">cluster</a>: <span title="edu.berkeley.cs.scads.storage.ScadsCluster">ScadsCluster</span> = <a href="#57433" title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">defaultScadr</a>.<a href="#50016" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a><span class="delimiter">)</span> =
      <a href="#57435" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">defaultRunner</a>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.piql.modeling.Experiments.QueryRunner.defaultRunner.type">schedule</span><a href="#50016" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a href="#58222" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>,<a href="#50014" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span>
      
    <span class="keyword">def</span> <a title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)Unit" id="57455">rocBenchmarkScadr</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58925">cluster</a>: <span title="edu.berkeley.cs.scads.storage.ScadsCluster">ScadsCluster</span> = <a href="#57433" title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">defaultScadr</a>.<a href="#50016" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a><span class="delimiter">)</span> = 
      <span class="delimiter">(</span><span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">1</span> <span title="(end: Int)scala.collection.immutable.Range.Inclusive">to</span> <span title="Int(100)" class="int">100</span><span class="delimiter">)</span>.<span title="(f: Int =&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask)Unit">foreach</span><span class="delimiter">(</span><a title="Int" id="59038">_</a> =&gt; <a href="#57435" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">defaultRunner</a>.<a href="../collection/QueryRunnerTask.scala.html#43213" title="Int" id="59046">copy</a><span class="delimiter">(</span>iterations=<a title="Int(2)" id="59039" class="int">2</a><span class="delimiter">)</span>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">schedule</span><a href="#50016" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a href="#58925" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>,<a href="#50014" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment" id="50041">TpcwScaleExperiment</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">import</span> piql.tpcw._
    <span class="keyword">import</span> scale._
    <span class="keyword">type</span> <a title="edu.berkeley.cs.scads.piql.tpcw.scale.Result" id="59058">Result</a> = piql.tpcw.scale.<span title="edu.berkeley.cs.scads.piql.tpcw.scale.Result">Result</span>

    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" id="59059">results</a> = <a href="#50014" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a>.<span title="[PairType &lt;: edu.berkeley.cs.avro.marker.AvroPair](ns: String)(implicit evidence$7: Manifest[PairType])edu.berkeley.cs.scads.storage.PairNamespace[PairType]">getNamespace</span><span title="(ns: String)(implicit evidence$7: Manifest[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result])edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" class="delimiter">[</span><span title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">Result</span><span class="delimiter">]</span><span title="(clazz: Class[_])scala.reflect.Manifest[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" class="delimiter">(</span><span title="java.lang.String(&quot;tpcwScaleResults&quot;)" class="string">&quot;tpcwScaleResults&quot;</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; Unit" id="59061">backup</a> = <a href="#59059" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">iterateOverRange</span><a href="#50036" title="avroIterWriter extends java.lang.Object" id="59323" class="delimiter">(</a><span title="object None">None</span>,<span title="object None">None</span><span class="delimiter">)</span>.<a href="#59322" title="Option[org.apache.avro.file.CodecFactory]" id="59329">toAvroFile</a><span title="(implicit r: Manifest[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result])edu.berkeley.cs.avro.runtime.package.TypedSchema[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" class="delimiter">(</span><a title="java.io.File" id="59328" class="keyword">new</a> java.io.<span title="java.io.File">File</span><span class="delimiter">(</span><span title="java.lang.String(&quot;tpcwScale.&quot;)" class="string">&quot;tpcwScale.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.avro&quot;)" class="string">&quot;.avro&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(dataPoints: Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result])Seq[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String)]" id="59062">scaleResultsIter</a><span class="delimiter">(</span><a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" id="59349">dataPoints</a>: <span title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">Seq</span><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <a href="#59059" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">toSeq</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#59349" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">dataPoints</a>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#59353" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</span>.<span title="=&gt; Int">replicationFactor</span> <span title="(x: Int)Boolean">==</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#59372" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; Int">iterations</span> <span title="(x: Int)Boolean">==</span> <span title="Int(4)" class="int">4</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#59469" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; Int">numThreads</span> <span title="(x: Int)Boolean">==</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#59480" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; Int">runLengthMin</span> <span title="(x: Int)Boolean">==</span> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#59491" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; Int">iteration</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">toSeq</span>
        .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; (String, Int))scala.collection.immutable.Map[(String, Int),Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result" id="59508">r</a> =&gt; <span title="(_1: String, _2: Int)(String, Int)" class="delimiter">(</span><a href="#59508" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; String">clusterAddress</span>, <a href="#59508" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">r</a>.<span title="=&gt; Int">iteration</span><span class="delimiter">)</span><span class="delimiter">)</span>
        .<span title="(f: ((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]) =&gt; (Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[(String, Int),Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]],(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String),scala.collection.immutable.Iterable[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String)]])scala.collection.immutable.Iterable[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String)]">map</span> <a href="#59550" title="(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String)" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String)" class="delimiter">(</span><span class="delimiter">(</span><a title="String" id="59555">exp</a>, <a title="Int" id="59556">iter</a><span class="delimiter">)</span>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" id="59557">results</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.Histogram" id="59558">aggHist</a> = <a href="#59557" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#59579" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>.<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#59604" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#59605" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Int" id="59559">skips</a> = <a href="#59557" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result],Int,Seq[Int]])Seq[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,Int,Seq[Int]]" class="delimiter">(</span><a href="#59616" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; Int">skips</span><span class="delimiter">)</span>.<span title="(implicit num: Numeric[Int])Int">sum</span>
          <span class="keyword">val</span> <a title="Int" id="59560">failures</a> = <a href="#59557" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result],Int,Seq[Int]])Seq[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,Int,Seq[Int]]" class="delimiter">(</span><a href="#60103" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; Int">failures</span><span class="delimiter">)</span>.<span title="(implicit num: Numeric[Int])Int">sum</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask" id="59561">loaderConfig</a> = <a href="#59557" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask" id="59562">clientConfig</a> = <a href="#59557" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>
          <span title="(_1: Int, _2: Long, _3: Int, _4: Double, _5: Int, _6: String, _7: Int, _8: Int, _9: Int, _10: Int, _11: Int, _12: String)(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String)" class="delimiter">(</span><a href="#59561" title="edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</a>.<span title="=&gt; Int">numServers</span>, <a href="#59558" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="=&gt; Long">totalRequests</span>, <a href="#59558" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">0.99</span><span class="delimiter">)</span>, <a href="#59558" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="=&gt; Double">stddev</span>, <a href="#59562" title="edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</a>.<span title="=&gt; Int">numClients</span>, <a href="#59562" title="edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</a>.<span title="=&gt; String">executorClass</span>, <a href="#59556" title="Int">iter</a>, <a href="#59558" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.9)" class="double">0.90</span><span class="delimiter">)</span>, <a href="#59559" title="Int">skips</a>, <a href="#59560" title="Int">failures</a>, <a href="#59557" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="=&gt; Int">size</span>, <a href="#59555" title="String">exp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>.<span title="=&gt; Seq[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String)]">toSeq</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(dataPoints: Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result])Seq[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int)]" id="59063">scaleResults</a><span class="delimiter">(</span><a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" id="60546">dataPoints</a>: <span title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">Seq</span><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <a href="#59059" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">toSeq</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#60546" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">dataPoints</a>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#60550" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</span>.<span title="=&gt; Int">replicationFactor</span> <span title="(x: Int)Boolean">==</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#60561" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; Int">iterations</span> <span title="(x: Int)Boolean">==</span> <span title="Int(4)" class="int">4</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#60572" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; Int">numThreads</span> <span title="(x: Int)Boolean">==</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#60583" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; Int">runLengthMin</span> <span title="(x: Int)Boolean">==</span> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result" id="60594">r</a> =&gt; <a href="#60594" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</span>.<span title="=&gt; Int">numServers</span> <span title="(x: Int)Int">/</span> <span title="Int(2)" class="int">2</span> <span title="(x: Int)Boolean">==</span> <a href="#60594" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; Int">numClients</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#60611" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; Int">iteration</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">toSeq</span>
        .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Int)scala.collection.immutable.Map[Int,Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result" id="60626">r</a> =&gt; <a href="#60626" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</span>.<span title="=&gt; Int">numServers</span><span class="delimiter">)</span>
        .<span title="(f: (Int, Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]) =&gt; (Int, Long, Int, Double, Int, String, Int, Int, Int, Int))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[Int,Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]],(Int, Long, Int, Double, Int, String, Int, Int, Int, Int),scala.collection.immutable.Iterable[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int)]])scala.collection.immutable.Iterable[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int)]">map</span> <a href="#60662" title="(Int, Long, Int, Double, Int, String, Int, Int, Int, Int)" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="(Int, Long, Int, Double, Int, String, Int, Int, Int, Int)" class="delimiter">(</span><a title="Int" id="60665">numServers</a>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" id="60666">results</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.Histogram" id="60667">aggHist</a> = <a href="#60666" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#60688" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>.<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#60713" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#60714" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Int" id="60668">skips</a> = <a href="#60666" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result],Int,Seq[Int]])Seq[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,Int,Seq[Int]]" class="delimiter">(</span><a href="#60725" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; Int">skips</span><span class="delimiter">)</span>.<span title="(implicit num: Numeric[Int])Int">sum</span>
          <span class="keyword">val</span> <a title="Int" id="60669">failures</a> = <a href="#60666" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result],Int,Seq[Int]])Seq[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,Int,Seq[Int]]" class="delimiter">(</span><a href="#60767" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; Int">failures</span><span class="delimiter">)</span>.<span title="(implicit num: Numeric[Int])Int">sum</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask" id="60670">loaderConfig</a> = <a href="#60666" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask" id="60671">clientConfig</a> = <a href="#60666" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>
          <span title="(_1: Int, _2: Long, _3: Int, _4: Double, _5: Int, _6: String, _7: Int, _8: Int, _9: Int, _10: Int)(Int, Long, Int, Double, Int, String, Int, Int, Int, Int)" class="delimiter">(</span><a href="#60670" title="edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</a>.<span title="=&gt; Int">numServers</span>, <a href="#60667" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="=&gt; Long">totalRequests</span>, <a href="#60667" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">0.99</span><span class="delimiter">)</span>, <a href="#60667" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="=&gt; Double">stddev</span>, <a href="#60671" title="edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</a>.<span title="=&gt; Int">numClients</span>, <a href="#60671" title="edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</a>.<span title="=&gt; String">executorClass</span>, <a href="#60667" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.9)" class="double">0.90</span><span class="delimiter">)</span>, <a href="#60668" title="Int">skips</a>, <a href="#60669" title="Int">failures</a>, <a href="#60666" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>.<span title="=&gt; Seq[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int)]">toSeq</span>
    <span class="delimiter">}</span>


    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster" id="59064">test</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="61134">cluster</a> = <span title="(numServers: Int, numLoaders: Int, numEBs: Double, numItems: Int, replicationFactor: Int)edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">TpcwLoaderTask</span><span class="delimiter">(</span><span title="Int(2)" class="int">2</span>,<span title="Int(2)" class="int">2</span>,<span title="Double(10.0)" class="int">10</span>, <span title="Int(1000)" class="int">1000</span><span class="delimiter">)</span>.<span title="()edu.berkeley.cs.scads.storage.ScadsCluster">newTestCluster</span>

      <span title="(numClients: Int, executorClass: String, numThreads: Int, iterations: Int, runLengthMin: Int)edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">TpcwWorkflowTask</span><span class="delimiter">(</span>
        numClients=<span title="Int(1)" class="int">1</span>,
        executorClass=<span title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;)" class="string">&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;</span>
      <span class="delimiter">)</span>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)scala.collection.immutable.IndexedSeq[java.lang.Thread]">testLocally</span><span class="delimiter">(</span><a href="#61134" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a><span class="delimiter">)</span>

      <a href="#61134" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(numServers: Int, executor: String)Unit" id="59065">runScaleTest</a><span class="delimiter">(</span><a title="Int" id="61155">numServers</a>: <span title="Int">Int</span>, <a title="String" id="61156">executor</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="#61160" title="(Seq[edu.berkeley.cs.scads.comm.JvmTask], edu.berkeley.cs.scads.storage.ScadsCluster)" class="delimiter">(</a><a href="#61159" title="Seq[edu.berkeley.cs.scads.comm.JvmTask]" id="61160">scadsTasks</a>, <a href="#61159" title="edu.berkeley.cs.scads.storage.ScadsCluster" id="61161">cluster</a><span class="delimiter">)</span> = <span title="(numServers: Int, numLoaders: Int, numEBs: Double, numItems: Int, replicationFactor: Int)edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">TpcwLoaderTask</span><span class="delimiter">(</span><a href="#61155" title="Int" id="61185">numServers</a>, <a href="#61155" title="Int">numServers</a><a title="Int" id="61186">/</a><span title="Int(2)" class="int">2</span>, replicationFactor=<a title="Int(2)" id="61187" class="int">2</a>, numEBs = <span title="Int(150)" class="int">150</span> <span title="(x: Int)Int">*</span> <a href="#61155" title="Int">numServers</a><a title="Double" id="61188">/</a><span title="Int(2)" class="int">2</span>, numItems = <a title="Int(10000)" id="61189" class="int">10000</a><span class="delimiter">)</span>.<a href="#50016" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)(Seq[edu.berkeley.cs.scads.comm.JvmTask], edu.berkeley.cs.scads.storage.ScadsCluster)">delayedCluster</a>

      <span class="keyword">val</span> <a title="Seq[edu.berkeley.cs.scads.comm.JvmTask]" id="61162">tpcwTasks</a> = <a title="Int" id="61228">TpcwWorkflowTask</a><span class="delimiter">(</span>
        <a href="#61155" title="Int">numServers</a><a title="Int" id="61224">/</a><span title="Int(2)" class="int">2</span>,
        <a href="#61156" title="String" id="61225">executor</a>,
        iterations = <a title="Int(4)" id="61226" class="int">4</a>,
        runLengthMin = <a title="Int(5)" id="61227" class="int">5</a>
      <span class="delimiter">)</span>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)Seq[edu.berkeley.cs.scads.comm.JvmTask]">delayedSchedule</span><a href="#50016" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a href="#61161" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>, <a href="#50014" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span>

      <a href="#50017" title="=&gt; deploylib.mesos.RemoteServiceScheduler">serviceScheduler</a>.<span title="(processes: Seq[edu.berkeley.cs.scads.comm.JvmTask])Unit">scheduleExperiment</span><span class="delimiter">(</span><a href="#61160" title="Seq[edu.berkeley.cs.scads.comm.JvmTask]">scadsTasks</a> <span title="(that: scala.collection.GenTraversableOnce[edu.berkeley.cs.scads.comm.JvmTask])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.comm.JvmTask],edu.berkeley.cs.scads.comm.JvmTask,Seq[edu.berkeley.cs.scads.comm.JvmTask]])Seq[edu.berkeley.cs.scads.comm.JvmTask]">++</span> <a href="#61162" title="Seq[edu.berkeley.cs.scads.comm.JvmTask]">tpcwTasks</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment" id="50043">ScadrScaleExperiment</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">import</span> perf.scadr._
    <span class="keyword">import</span> scale._
    <span class="keyword">type</span> <a title="edu.berkeley.cs.scads.perf.scadr.scale.Result" id="61276">Result</a> = perf.scadr.scale.<span title="edu.berkeley.cs.scads.perf.scadr.scale.Result">Result</span>

    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="61277">results</a> = <a href="#50014" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a>.<span title="[PairType &lt;: edu.berkeley.cs.avro.marker.AvroPair](ns: String)(implicit evidence$7: Manifest[PairType])edu.berkeley.cs.scads.storage.PairNamespace[PairType]">getNamespace</span><span title="(ns: String)(implicit evidence$7: Manifest[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" class="delimiter">[</span><span title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">Result</span><span class="delimiter">]</span><span title="(clazz: Class[_])scala.reflect.Manifest[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" class="delimiter">(</span><span title="java.lang.String(&quot;scadrScaleResults&quot;)" class="string">&quot;scadrScaleResults&quot;</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; Unit" id="61279">backup</a>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.perf.scadr.scale.Result]" id="61414">outfile</a> = <span title="[RecordType &lt;: org.apache.avro.generic.GenericContainer](file: java.io.File, codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType])org.apache.avro.file.DataFileWriter[RecordType]">AvroOutFile</span><span title="(file: java.io.File, codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[edu.berkeley.cs.scads.perf.scadr.scale.Result])org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.perf.scadr.scale.Result]" class="delimiter">[</span>perf.scadr.scale.<span title="edu.berkeley.cs.scads.perf.scadr.scale.Result">Result</span><span class="delimiter">]</span><span title="(implicit r: Manifest[edu.berkeley.cs.scads.perf.scadr.scale.Result])edu.berkeley.cs.avro.runtime.package.TypedSchema[edu.berkeley.cs.scads.perf.scadr.scale.Result]" class="delimiter">(</span><span title="java.lang.String(&quot;scadrScale.&quot;)" class="string">&quot;scadrScale.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span> <span title="implicit deploylib.mesos.package.toFile : (str: String)java.io.File">+</span> <span title="java.lang.String(&quot;.avro&quot;)" class="string">&quot;.avro&quot;</span><span class="delimiter">)</span>
      <a href="#61277" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>,<span title="object None">None</span><span class="delimiter">)</span>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#61414" title="org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.perf.scadr.scale.Result]">outfile</a>.<a href="#61443" title="(x$1: edu.berkeley.cs.scads.perf.scadr.scale.Result)Unit">append</a><span class="delimiter">)</span>
      <a href="#61414" title="org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.perf.scadr.scale.Result]">outfile</a>.<span title="()Unit">close</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.perf.ScatterPlot" id="61280">dataSizeResults</a> =
      <a title="Option[String]" id="61873" class="keyword">new</a> <span title="object edu.berkeley.cs.scads.perf.ScatterPlot">ScatterPlot</span><span class="delimiter">(</span>
        <a href="#61277" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(start: Option[org.apache.avro.generic.IndexedRecord], end: Option[org.apache.avro.generic.IndexedRecord], limit: Option[Int], offset: Option[Int], ascending: Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">getRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>
          .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#61574" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; Int">iteration</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#61585" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">threads</span> <span title="(x: Int)Boolean">==</span> <span title="Int(20)" class="int">20</span><span class="delimiter">)</span>
          .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; (Int, String))scala.collection.immutable.Map[(Int, String),Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result" id="61705">e</a> =&gt; <span title="(_1: Int, _2: String)(Int, String)" class="delimiter">(</span><a href="#61705" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">e</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">usersPerServer</span>, <a href="#61705" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">e</a>.<span title="=&gt; String">clusterAddress</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Seq[((Int, String), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])]">toSeq</span>
          .<span title="(f: ((Int, String), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]) =&gt; (Int, Int))(implicit bf: scala.collection.generic.CanBuildFrom[Seq[((Int, String), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])],(Int, Int),Seq[(Int, Int)]])Seq[(Int, Int)]">map</span> <a href="#61753" title="(Int, Int)" class="delimiter">{</a>
          <span class="keyword">case</span> <span title="(Int, Int)" class="delimiter">(</span><span class="delimiter">(</span><a title="Int" id="61758">users</a>,_<span class="delimiter">)</span>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="61759">results</a><span class="delimiter">)</span> =&gt;
            <span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#61758" title="Int">users</a>, <a href="#61759" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#61780" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>
              .<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#61805" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#61806" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
              .<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">.99</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>.<a title="Seq[(Int, Int)]" id="61867">toSeq</a>,
        title = <a title="Option[java.lang.String]" id="61868" class="string">&quot;Users/Server vs. Response Time&quot;</a>,
        xaxis = <a title="Option[java.lang.String]" id="61869" class="string">&quot;Users per server&quot;</a>,
        yaxis = <a title="Option[java.lang.String]" id="61870" class="string">&quot;99th Percentile Response Time&quot;</a>,
        xunit = <a title="Option[java.lang.String]" id="61871" class="string">&quot;users/server&quot;</a>,
        yunit = <a title="Option[java.lang.String]" id="61872" class="string">&quot;milliseconds&quot;</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.perf.ScatterPlot" id="61281">threadCountResults</a> =
      <a title="Option[String]" id="62071" class="keyword">new</a> <span title="object edu.berkeley.cs.scads.perf.ScatterPlot">ScatterPlot</span><span class="delimiter">(</span><a href="#61277" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>
			     .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#61879" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; Int">iteration</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">toSeq</span>
			     .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Int)scala.collection.immutable.Map[Int,Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a href="#61894" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">threads</span><span class="delimiter">)</span>
			     .<span title="(f: (Int, Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]) =&gt; (Int, Int))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[Int,Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]],(Int, Int),scala.collection.immutable.Map[Int,Int]])scala.collection.immutable.Map[Int,Int]">map</span> <a href="#61929" title="(Int, Int)" class="delimiter">{</a>
			       <span class="keyword">case</span> <span title="(Int, Int)" class="delimiter">(</span><a title="Int" id="61932">threads</a>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="61933">results</a><span class="delimiter">)</span> =&gt; 
				 <span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#61932" title="Int">threads</a>, <a href="#61933" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#61954" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>
           .<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#61979" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#61980" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
           .<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">.99</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>.<a title="Seq[(Int, Int)]" id="62065">toSeq</a>,
        title = <a title="Option[java.lang.String]" id="62066" class="string">&quot;ThreadCount vs. Responsetime&quot;</a>,
        xaxis = <a title="Option[java.lang.String]" id="62067" class="string">&quot;Number of threads per application server&quot;</a>,
        yaxis = <a title="Option[java.lang.String]" id="62068" class="string">&quot;99th Percentile ResponseTime&quot;</a>,
        xunit = <a title="Option[java.lang.String]" id="62069" class="string">&quot;threads&quot;</a>,
        yunit = <a title="Option[java.lang.String]" id="62070" class="string">&quot;milliseconds&quot;</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(sizes: Seq[Int])Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]" id="61282">runDataSizes</a><span class="delimiter">(</span><a title="Seq[Int]" id="62075">sizes</a>: <span title="Seq[Int]">Seq</span><span class="delimiter">[</span>Int<span class="delimiter">]</span> = <span class="delimiter">(</span><span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">2</span> <span title="(end: Int)scala.collection.immutable.Range.Inclusive">to</span> <span title="Int(20)" class="int">20</span> <span title="(step: Int)scala.collection.immutable.Range">by</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>.<span title="(f: Int =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq[Int],Int,Seq[Int]])Seq[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq.Coll,Int,scala.collection.immutable.IndexedSeq[Int]]" class="delimiter">(</span><a href="#62288" title="Int">_</a> <span title="(x: Int)Int">*</span> <span title="Int(10000)" class="int">10000</span><span class="delimiter">)</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#62075" title="Seq[Int]">sizes</a>.<span title="(f: Int =&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[Int],edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask,Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]])Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask,Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]]" class="delimiter">(</span><a title="Int" id="62092">numUsers</a> =&gt;
        <a title="Int" id="62113">ScadrScaleTask</a><span class="delimiter">(</span><a title="Int(10)" id="62107" class="int">10</a>,
          <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;)" id="62108" class="string">&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;</a>,
          <a title="Double(0.01)" id="62109" class="double">0.01</a>,
          iterations = <a title="Int(2)" id="62110" class="int">2</a>,
          runLengthMin = <a title="Int(2)" id="62111" class="int">2</a>,
          threads = <a title="Int(20)" id="62112" class="int">20</a><span class="delimiter">)</span>
          .<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">schedule</span><a href="#50016" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a title="Int" id="62136">ScadrLoaderTask</a><span class="delimiter">(</span><a title="Int(10)" id="62131" class="int">10</a>, <a title="Int(10)" id="62132" class="int">10</a>, usersPerServer=<a href="#62092" title="Int" id="62133">numUsers</a>, replicationFactor=<a title="Int(1)" id="62134" class="int">1</a>, followingCardinality=<a title="Int(10)" id="62135" class="int">10</a><span class="delimiter">)</span>.<a href="#50016" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>,
          <a href="#50014" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(numThreads: Seq[Int])Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]" id="61283">runThreads</a><span class="delimiter">(</span><a title="Seq[Int]" id="62342">numThreads</a>: <span title="Seq[Int]">Seq</span><span class="delimiter">[</span>Int<span class="delimiter">]</span> = <span class="delimiter">(</span><span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">10</span> <span title="(end: Int)scala.collection.immutable.Range.Inclusive">to</span> <span title="Int(100)" class="int">100</span> <span title="(step: Int)scala.collection.immutable.Range">by</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#62342" title="Seq[Int]">numThreads</a>.<span title="(f: Int =&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[Int],edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask,Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]])Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask,Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]]" class="delimiter">(</span><a title="Int" id="62359">numThreads</a> =&gt;
        <a title="Int" id="62380">ScadrScaleTask</a><span class="delimiter">(</span><a title="Int(10)" id="62374" class="int">10</a>,
          <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;)" id="62375" class="string">&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;</a>,
          <a title="Double(0.01)" id="62376" class="double">0.01</a>,
          iterations = <a title="Int(2)" id="62377" class="int">2</a>,
          runLengthMin = <a title="Int(2)" id="62378" class="int">2</a>,
          threads = <a href="#62359" title="Int" id="62379">numThreads</a><span class="delimiter">)</span>
          .<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">schedule</span><a href="#50016" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a title="Int" id="62398">ScadrLoaderTask</a><span class="delimiter">(</span><a title="Int(10)" id="62393" class="int">10</a>, <a title="Int(10)" id="62394" class="int">10</a>, replicationFactor=<a title="Int(2)" id="62395" class="int">2</a>, followingCardinality=<a title="Int(10)" id="62396" class="int">10</a><span class="delimiter">)</span>.<a href="#50016" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>,
          <a href="#50014" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(dataPoints: Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])Seq[(Int, Long, Int, Int, String, Int, Int, Int, Int)]" id="61284">scaleResultsIter</a><span class="delimiter">(</span><a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="62501">dataPoints</a>: <span title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">Seq</span><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <a href="#61277" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">toSeq</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#62501" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">dataPoints</a>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62505" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">replicationFactor</span> <span title="(x: Int)Boolean">==</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62516" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">usersPerServer</span> <span title="(x: Int)Boolean">==</span> <span title="Int(60000)" class="int">60000</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62527" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">iterations</span> <span title="(x: Int)Boolean">==</span> <span title="Int(4)" class="int">4</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62538" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">threads</span> <span title="(x: Int)Boolean">==</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62549" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">runLengthMin</span> <span title="(x: Int)Boolean">==</span> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62560" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; Int">iteration</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">toSeq</span>
        .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; (String, Int))scala.collection.immutable.Map[(String, Int),Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result" id="62577">r</a> =&gt; <span title="(_1: String, _2: Int)(String, Int)" class="delimiter">(</span><a href="#62577" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; String">clusterAddress</span>, <a href="#62577" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">r</a>.<span title="=&gt; Int">iteration</span><span class="delimiter">)</span><span class="delimiter">)</span>
        .<span title="(f: ((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]) =&gt; (Int, Long, Int, Int, String, Int, Int, Int, Int))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[(String, Int),Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]],(Int, Long, Int, Int, String, Int, Int, Int, Int),scala.collection.immutable.Iterable[(Int, Long, Int, Int, String, Int, Int, Int, Int)]])scala.collection.immutable.Iterable[(Int, Long, Int, Int, String, Int, Int, Int, Int)]">map</span> <a href="#62619" title="(Int, Long, Int, Int, String, Int, Int, Int, Int)" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="(Int, Long, Int, Int, String, Int, Int, Int, Int)" class="delimiter">(</span><span class="delimiter">(</span><a title="String" id="62624">exp</a>, <a title="Int" id="62625">iter</a><span class="delimiter">)</span>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="62626">results</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.Histogram" id="62627">aggHist</a> = <a href="#62626" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#62647" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>.<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#62672" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#62673" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Int" id="62628">skips</a> = <a href="#62626" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],Int,Seq[Int]])Seq[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,Int,Seq[Int]]" class="delimiter">(</span><a href="#62684" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; Int">skips</span><span class="delimiter">)</span>.<span title="(implicit num: Numeric[Int])Int">sum</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask" id="62629">loaderConfig</a> = <a href="#62626" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask" id="62630">clientConfig</a> = <a href="#62626" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>
          <span title="(_1: Int, _2: Long, _3: Int, _4: Int, _5: String, _6: Int, _7: Int, _8: Int, _9: Int)(Int, Long, Int, Int, String, Int, Int, Int, Int)" class="delimiter">(</span><a href="#62629" title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</a>.<span title="=&gt; Int">numServers</span>, <a href="#62627" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="=&gt; Long">totalRequests</span>, <a href="#62627" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">0.99</span><span class="delimiter">)</span>, <a href="#62630" title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</a>.<span title="=&gt; Int">numClients</span>, <a href="#62630" title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</a>.<span title="=&gt; String">executorClass</span>, <a href="#62625" title="Int">iter</a>, <a href="#62627" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.9)" class="double">0.90</span><span class="delimiter">)</span>, <a href="#62628" title="Int">skips</a>, <a href="#62626" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>.<span title="=&gt; Seq[(Int, Long, Int, Int, String, Int, Int, Int, Int)]">toSeq</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(dataPoints: Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])Seq[(Int, Long, Int, Double, Int, String, Int, Int, Int)]" id="61285">scaleResults</a><span class="delimiter">(</span><a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="62796">dataPoints</a>: <span title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">Seq</span><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <a href="#61277" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">toSeq</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#62796" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">dataPoints</a>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62800" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">replicationFactor</span> <span title="(x: Int)Boolean">==</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62811" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">usersPerServer</span> <span title="(x: Int)Boolean">==</span> <span title="Int(60000)" class="int">60000</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62822" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">iterations</span> <span title="(x: Int)Boolean">==</span> <span title="Int(4)" class="int">4</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62833" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">threads</span> <span title="(x: Int)Boolean">==</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62844" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">runLengthMin</span> <span title="(x: Int)Boolean">==</span> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62855" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; Int">iteration</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">toSeq</span>
        .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Int)scala.collection.immutable.Map[Int,Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result" id="62870">r</a> =&gt; <a href="#62870" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">numServers</span><span class="delimiter">)</span>
        .<span title="(f: (Int, Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]) =&gt; (Int, Long, Int, Double, Int, String, Int, Int, Int))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[Int,Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]],(Int, Long, Int, Double, Int, String, Int, Int, Int),scala.collection.immutable.Iterable[(Int, Long, Int, Double, Int, String, Int, Int, Int)]])scala.collection.immutable.Iterable[(Int, Long, Int, Double, Int, String, Int, Int, Int)]">map</span> <a href="#62892" title="(Int, Long, Int, Double, Int, String, Int, Int, Int)" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="(Int, Long, Int, Double, Int, String, Int, Int, Int)" class="delimiter">(</span><a title="Int" id="62895">numServers</a>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="62896">results</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.Histogram" id="62897">aggHist</a> = <a href="#62896" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#62917" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>.<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#62942" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#62943" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Int" id="62898">skips</a> = <a href="#62896" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],Int,Seq[Int]])Seq[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,Int,Seq[Int]]" class="delimiter">(</span><a href="#62954" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; Int">skips</span><span class="delimiter">)</span>.<span title="(implicit num: Numeric[Int])Int">sum</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask" id="62899">loaderConfig</a> = <a href="#62896" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask" id="62900">clientConfig</a> = <a href="#62896" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>

          <span title="(_1: Int, _2: Long, _3: Int, _4: Double, _5: Int, _6: String, _7: Int, _8: Int, _9: Int)(Int, Long, Int, Double, Int, String, Int, Int, Int)" class="delimiter">(</span><a href="#62899" title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</a>.<span title="=&gt; Int">numServers</span>, <a href="#62897" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="=&gt; Long">totalRequests</span>, <a href="#62897" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">0.99</span><span class="delimiter">)</span>, <a href="#62897" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="=&gt; Double">stddev</span>, <a href="#62900" title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</a>.<span title="=&gt; Int">numClients</span>, <a href="#62900" title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</a>.<span title="=&gt; String">executorClass</span>, <a href="#62897" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.9)" class="double">0.90</span><span class="delimiter">)</span>, <a href="#62898" title="Int">skips</a>, <a href="#62896" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>.<span title="=&gt; Seq[(Int, Long, Int, Double, Int, String, Int, Int, Int)]">toSeq</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(numServers: Int, executor: String)Unit" id="61286">runScaleTest</a><span class="delimiter">(</span><a title="Int" id="63063">numServers</a>: <span title="Int">Int</span>, <a title="String" id="63064">executor</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="#63068" title="(Seq[edu.berkeley.cs.scads.comm.JvmTask], edu.berkeley.cs.scads.storage.ScadsCluster)" class="delimiter">(</a><a href="#63067" title="Seq[edu.berkeley.cs.scads.comm.JvmTask]" id="63068">engineTasks</a>, <a href="#63067" title="edu.berkeley.cs.scads.storage.ScadsCluster" id="63069">cluster</a><span class="delimiter">)</span> = <a title="Int" id="63092">ScadrLoaderTask</a><span class="delimiter">(</span><a href="#63063" title="Int" id="63087">numServers</a>, <a href="#63063" title="Int">numServers</a><a title="Int" id="63088">/</a><span title="Int(2)" class="int">2</span>, replicationFactor=<a title="Int(2)" id="63089" class="int">2</a>, followingCardinality=<a title="Int(50)" id="63090" class="int">50</a>, usersPerServer = <a title="Int(60000)" id="63091" class="int">60000</a><span class="delimiter">)</span>.<a href="#50016" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)(Seq[edu.berkeley.cs.scads.comm.JvmTask], edu.berkeley.cs.scads.storage.ScadsCluster)">delayedCluster</a>

      <span class="keyword">val</span> <a title="Seq[edu.berkeley.cs.scads.comm.JvmTask]" id="63070">workloadTasks</a> = <a title="Int" id="63127">ScadrScaleTask</a><span class="delimiter">(</span>
        <a href="#63063" title="Int">numServers</a><a title="Int" id="63121">/</a><span title="Int(2)" class="int">2</span>,
        <a href="#63064" title="String" id="63122">executor</a>,
        <a title="Double(0.01)" id="63123" class="double">0.01</a>,
        iterations = <a title="Int(4)" id="63124" class="int">4</a>,
        runLengthMin = <a title="Int(5)" id="63125" class="int">5</a>,
        threads = <a title="Int(10)" id="63126" class="int">10</a>
      <span class="delimiter">)</span>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)Seq[edu.berkeley.cs.scads.comm.JvmTask]">delayedSchedule</span><a href="#50016" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a href="#63069" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>, <a href="#50014" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span>

      <a href="#50017" title="=&gt; deploylib.mesos.RemoteServiceScheduler">serviceScheduler</a>.<span title="(processes: Seq[edu.berkeley.cs.scads.comm.JvmTask])Unit">scheduleExperiment</span><span class="delimiter">(</span><a href="#63068" title="Seq[edu.berkeley.cs.scads.comm.JvmTask]">engineTasks</a> <span title="(that: scala.collection.GenTraversableOnce[edu.berkeley.cs.scads.comm.JvmTask])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.comm.JvmTask],edu.berkeley.cs.scads.comm.JvmTask,Seq[edu.berkeley.cs.scads.comm.JvmTask]])Seq[edu.berkeley.cs.scads.comm.JvmTask]">++</span> <a href="#63070" title="Seq[edu.berkeley.cs.scads.comm.JvmTask]">workloadTasks</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.piql.scadr.ScadrClient" id="61287">test</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="63168">cluster</a> = <a title="Int" id="63186">ScadrLoaderTask</a><span class="delimiter">(</span><a title="Int(10)" id="63181" class="int">10</a>, <a title="Int(10)" id="63182" class="int">10</a>, replicationFactor = <a title="Int(2)" id="63183" class="int">2</a>, followingCardinality = <a title="Int(10)" id="63184" class="int">10</a>, usersPerServer = <a title="Int(1000)" id="63185" class="int">1000</a><span class="delimiter">)</span>.<span title="()edu.berkeley.cs.scads.storage.ScadsCluster">newTestCluster</span>
      <a title="Int" id="63207">ScadrScaleTask</a><span class="delimiter">(</span>
        <a title="Int(5)" id="63201" class="int">5</a>,
        <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;)" id="63202" class="string">&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;</a>,
        <a title="Double(0.01)" id="63203" class="double">0.01</a>,
        iterations = <a title="Int(1)" id="63204" class="int">1</a>,
        runLengthMin = <a title="Int(5)" id="63205" class="int">5</a>,
        threads=<a title="Int(10)" id="63206" class="int">10</a>
      <span class="delimiter">)</span>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)scala.collection.immutable.IndexedSeq[java.lang.Thread]">testLocally</span><span class="delimiter">(</span><a href="#63168" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a><span class="delimiter">)</span>

      <span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient" class="keyword">new</span> <span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">ScadrClient</span><span class="delimiter">(</span><a href="#63168" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>, <a href="#63208" title="edu.berkeley.cs.scads.piql.ParallelExecutor with edu.berkeley.cs.scads.piql.DebugExecutor" class="keyword">new</a> <a title="anonymous class $anon extends edu.berkeley.cs.scads.piql.ParallelExecutor with edu.berkeley.cs.scads.piql.DebugExecutor" id="63208">ParallelExecutor</a> <span class="keyword">with</span> <span title="edu.berkeley.cs.scads.piql.DebugExecutor">DebugExecutor</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; Seq[(Int, Int, Int, Int, Int, Int, Double)]" id="61288">sweetSpotResults</a> = <span class="delimiter">{</span>
      <a href="#61277" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#63218" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">numServers</span> <span title="(x: Int)Boolean">==</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#63227" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">usersPerServer</span> <span title="(x: Int)Boolean">==</span> <span title="Int(60000)" class="int">60000</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#63234" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">iterations</span> <span title="(x: Int)Boolean">==</span> <span title="Int(3)" class="int">3</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">toSeq</span>
        .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; (String, Int))scala.collection.immutable.Map[(String, Int),Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result" id="63249">r</a> =&gt; <span title="(_1: String, _2: Int)(String, Int)" class="delimiter">(</span><a href="#63249" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; String">experimentAddress</span>, <a href="#63249" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">r</a>.<span title="=&gt; Int">iteration</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Seq[((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])]">toSeq</span>
        .<span title="(f: ((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]) =&gt; (Int, Int, Int, Int, Int, Int, Double))(implicit bf: scala.collection.generic.CanBuildFrom[Seq[((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])],(Int, Int, Int, Int, Int, Int, Double),Seq[(Int, Int, Int, Int, Int, Int, Double)]])Seq[(Int, Int, Int, Int, Int, Int, Double)]">map</span> <a href="#63284" title="(Int, Int, Int, Int, Int, Int, Double)" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="(Int, Int, Int, Int, Int, Int, Double)" class="delimiter">(</span><a title="(String, Int)" id="63287">resultId</a>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="63288">perThreadData</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.Histogram" id="63289">aggregateTimes</a> = <a href="#63288" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">perThreadData</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#63308" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>.<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#63333" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#63334" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask" id="63290">clientConfig</a> = <a href="#63288" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">perThreadData</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask" id="63291">loaderConfig</a> = <a href="#63288" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">perThreadData</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>
          <span title="(_1: Int, _2: Int, _3: Int, _4: Int, _5: Int, _6: Int, _7: Double)(Int, Int, Int, Int, Int, Int, Double)" class="delimiter">(</span><a href="#63290" title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</a>.<span title="=&gt; Int">numClients</span>, <a href="#63290" title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</a>.<span title="=&gt; Int">threads</span>, <a href="#63291" title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</a>.<span title="=&gt; Int">replicationFactor</span>, <a href="#63289" title="edu.berkeley.cs.scads.perf.Histogram">aggregateTimes</a>.<span title="=&gt; Long">totalRequests</span>.<span title="=&gt; Int">toInt</span>, <a href="#63289" title="edu.berkeley.cs.scads.perf.Histogram">aggregateTimes</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.9)" class="double">0.90</span><span class="delimiter">)</span>, <a href="#63289" title="edu.berkeley.cs.scads.perf.Histogram">aggregateTimes</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">0.99</span><span class="delimiter">)</span>, <a href="#63289" title="edu.berkeley.cs.scads.perf.Histogram">aggregateTimes</a>.<span title="=&gt; Double">stddev</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.perf.ScatterPlot" id="61289">sweetSpotGraph</a> =
      <a title="Option[String]" id="63559" class="keyword">new</a> <span title="object edu.berkeley.cs.scads.perf.ScatterPlot">ScatterPlot</span><span class="delimiter">(</span>
        <a href="#61277" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>
          .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#63380" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">numServers</span> <span title="(x: Int)Boolean">==</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>
          .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#63389" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">usersPerServer</span> <span title="(x: Int)Boolean">==</span> <span title="Int(60000)" class="int">60000</span><span class="delimiter">)</span>
          .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#63396" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">iterations</span> <span title="(x: Int)Boolean">==</span> <span title="Int(3)" class="int">3</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">toSeq</span>
          .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; (String, Int))scala.collection.immutable.Map[(String, Int),Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result" id="63411">r</a> =&gt; <span title="(_1: String, _2: Int)(String, Int)" class="delimiter">(</span><a href="#63411" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; String">experimentAddress</span>, <a href="#63411" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">r</a>.<span title="=&gt; Int">iteration</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Seq[((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])]">toSeq</span>
          .<span title="(f: ((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]) =&gt; (Int, Int))(implicit bf: scala.collection.generic.CanBuildFrom[Seq[((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])],(Int, Int),Seq[(Int, Int)]])Seq[(Int, Int)]">map</span> <a href="#63449" title="Seq[(Int, Int)]" id="63553" class="delimiter">{</a>
          <span class="keyword">case</span> <span title="(Int, Int)" class="delimiter">(</span><a title="(String, Int)" id="63452">resultId</a>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="63453">perThreadData</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.Histogram" id="63454">aggregateTimes</a> = <a href="#63453" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">perThreadData</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#63471" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>.<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#63496" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#63497" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
            <span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#63454" title="edu.berkeley.cs.scads.perf.Histogram">aggregateTimes</a>.<span title="=&gt; Long">totalRequests</span>.<span title="=&gt; Int">toInt</span>, <a href="#63454" title="edu.berkeley.cs.scads.perf.Histogram">aggregateTimes</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">0.99</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>,
        title = <a title="Option[java.lang.String]" id="63554" class="string">&quot;TotalReuqests vs. 99thth percentile responsetime&quot;</a>,
        xaxis = <a title="Option[java.lang.String]" id="63555" class="string">&quot;total Scadr Requests &quot;</a>,
        yaxis = <a title="Option[java.lang.String]" id="63556" class="string">&quot;99th Percentile ResponseTime&quot;</a>,
        xunit = <a title="Option[java.lang.String]" id="63557" class="string">&quot;requests&quot;</a>,
        yunit = <a title="Option[java.lang.String]" id="63558" class="string">&quot;milliseconds&quot;</a><span class="delimiter">)</span>


    <span class="keyword">def</span> <a title="=&gt; Unit" id="61290">findSweetSpot</a>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="63562">storageNodes</a> = <span title="Int(10)" class="int">10</span>
      <span class="keyword">val</span> <a title="Int" id="63563">usersPerServer</a> = <span title="Int(60000)" class="int">60000</span>

      <span title="(xs: Int*)List[Int]">List</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="Int(5)" class="int">5</span>, <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>.<span title="(f: Int =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a title="Int" id="63604">numClients</a> =&gt; <span class="delimiter">{</span>
        <span title="(xs: Int*)List[Int]">List</span><span class="delimiter">(</span><span title="Int(10)" class="int">10</span>, <span title="Int(20)" class="int">20</span>, <span title="Int(30)" class="int">30</span><span class="delimiter">)</span>.<span title="(f: Int =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a title="Int" id="63645">numThreads</a> =&gt; <span class="delimiter">{</span>
          <span title="(xs: Int*)List[Int]">List</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>.<span title="(f: Int =&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask)Unit">foreach</span><span class="delimiter">(</span><a title="Int" id="63686">replication</a> =&gt; <span class="delimiter">{</span>
            <a title="Int" id="63707">ScadrScaleTask</a><span class="delimiter">(</span>
              <a href="#63604" title="Int" id="63701">numClients</a>,
              <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;)" id="63702" class="string">&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;</a>,
              <a title="Double(0.01)" id="63703" class="double">0.01</a>,
              iterations = <a title="Int(3)" id="63704" class="int">3</a>,
              runLengthMin = <a title="Int(3)" id="63705" class="int">3</a>,
              threads = <a href="#63645" title="Int" id="63706">numThreads</a><span class="delimiter">)</span>
              .<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">schedule</span><a href="#50016" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a>
              <a title="Int" id="63725">ScadrLoaderTask</a><span class="delimiter">(</span>
                numServers = <a title="Int(10)" id="63720" class="int">10</a>,
                numLoaders = <a title="Int(10)" id="63721" class="int">10</a>,
                usersPerServer = <a href="#63563" title="Int" id="63722">usersPerServer</a>,
                replicationFactor = <a href="#63686" title="Int" id="63723">replication</a>,
                followingCardinality = <a title="Int(10)" id="63724" class="int">10</a><span class="delimiter">)</span>.<a href="#50016" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>,
              <a href="#50014" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span>
          <span class="delimiter">}</span><span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>