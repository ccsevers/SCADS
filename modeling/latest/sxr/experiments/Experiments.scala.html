<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>experiments/Experiments.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> edu.berkeley.cs
<span class="keyword">package</span> scads
<span class="keyword">package</span> piql
<span class="keyword">package</span> modeling

<span class="keyword">import</span> comm._
<span class="keyword">import</span> storage._
<span class="keyword">import</span> perf._
<span class="keyword">import</span> deploylib.ec2._
<span class="keyword">import</span> deploylib.mesos._
<span class="keyword">import</span> piql.scadr._
<span class="keyword">import</span> perf.scadr._
<span class="keyword">import</span> avro.marker._
<span class="keyword">import</span> avro.runtime._
<span class="keyword">import</span> collection.TraversableOnce

 <span class="keyword">import</span> org.apache.avro.generic._
 <span class="keyword">import</span> org.apache.avro.file.<span class="delimiter">{</span>DataFileReader, DataFileWriter, CodecFactory<span class="delimiter">}</span>
 <span class="keyword">import</span> java.io.File

<span class="keyword">object</span> <a title="object edu.berkeley.cs.scads.piql.modeling.Experiments" id="10213">Experiments</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">var</span> <a title="edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode" id="50028">resultClusterAddress</a> = <span title="(uri: String)edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">ZooKeeperNode</span><span class="delimiter">(</span><span title="java.lang.String(&quot;zk://zoo1.millennium.berkeley.edu,zoo2.millennium.berkeley.edu,zoo3.millennium.berkeley.edu/home/marmbrus/vldb12&quot;)" class="string">&quot;zk://zoo1.millennium.berkeley.edu,zoo2.millennium.berkeley.edu,zoo3.millennium.berkeley.edu/home/marmbrus/vldb12&quot;</span><span class="delimiter">)</span>
  <span class="keyword">val</span> <a title="deploylib.mesos.Cluster" id="50030">cluster</a> = <span title="deploylib.mesos.Cluster" class="keyword">new</span> <span title="deploylib.mesos.Cluster">Cluster</span><span class="delimiter">(</span><span class="delimiter">)</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode" id="50032">zooKeeperRoot</a> = <a href="#50030" title="=&gt; deploylib.mesos.Cluster">cluster</a>.<span title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">zooKeeperRoot</span>
  <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="50033">resultsCluster</a> = <span title="edu.berkeley.cs.scads.storage.ScadsCluster" class="keyword">new</span> <span title="edu.berkeley.cs.scads.storage.ScadsCluster">ScadsCluster</span><span class="delimiter">(</span><a href="#50028" title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">resultClusterAddress</a><span class="delimiter">)</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" id="50035">classSource</a> = <a href="#50030" title="=&gt; deploylib.mesos.Cluster">cluster</a>.<span title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]">classSource</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="=&gt; deploylib.mesos.RemoteServiceScheduler" id="50036">serviceScheduler</a> = <a href="#50030" title="=&gt; deploylib.mesos.Cluster">cluster</a>.<span title="=&gt; deploylib.mesos.RemoteServiceScheduler">serviceScheduler</span>
  <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode" id="50037">traceRoot</a> = <a href="#50032" title="edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode" id="54462">zooKeeperRoot</a>.<a href="#54462" title="Int" id="54464">getOrCreate</a><span class="delimiter">(</span><a title="java.lang.String(&quot;traceCollection&quot;)" id="54463" class="string">&quot;traceCollection&quot;</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; Unit" id="50038">watchServiceScheduler</a> = <a href="#50030" title="=&gt; deploylib.mesos.Cluster">cluster</a>.<span title="=&gt; deploylib.ec2.EC2Instance">firstMaster</span>.<span title="(remoteFile: java.io.File)Unit">watch</span><span class="delimiter">(</span><span title="implicit deploylib.mesos.package.toFile : (str: String)java.io.File" class="string">&quot;/root/serviceScheduler.log&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(pkg: String)Unit" id="50039">debug</a><span class="delimiter">(</span><a title="String" id="55099">pkg</a>: <span title="String">String</span><span class="delimiter">)</span> = net.lag.logging.<span title="(name: String)net.lag.logging.Logger">Logger</span><span class="delimiter">(</span><a href="#55099" title="String">pkg</a><span class="delimiter">)</span>.<span title="(level: java.util.logging.Level)Unit">setLevel</span><span class="delimiter">(</span>java.util.logging.<span title="object java.util.logging.Level">Level</span>.<span title="java.util.logging.Level">FINEST</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="(expId: Int)edu.berkeley.cs.scads.storage.ScadsCluster" id="50040">expCluster</a><span class="delimiter">(</span><a title="Int" id="55227">expId</a>: <span title="Int">Int</span><span class="delimiter">)</span> = 
    <span title="edu.berkeley.cs.scads.storage.ScadsCluster" class="keyword">new</span> <span title="edu.berkeley.cs.scads.storage.ScadsCluster">ScadsCluster</span><span class="delimiter">(</span>
      <span title="(uri: String)edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">ZooKeeperNode</span><span class="delimiter">(</span><span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;zk://zoo.knowsql.org/home/marmbrus/scads/experimentCluster%010d&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#55227" title="Int">expId</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(expId: Int)edu.berkeley.cs.scads.piql.scadr.ScadrClient" id="50041">scadrClient</a><span class="delimiter">(</span><a title="Int" id="55233">expId</a>: <span title="Int">Int</span><span class="delimiter">)</span> = 
    <span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient" class="keyword">new</span> <span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">ScadrClient</span><span class="delimiter">(</span><a href="#50040" title="(expId: Int)edu.berkeley.cs.scads.storage.ScadsCluster">expCluster</a><span class="delimiter">(</span><a href="#55233" title="Int">expId</a><span class="delimiter">)</span>, <span title="edu.berkeley.cs.scads.piql.ParallelExecutor" class="keyword">new</span> <span title="edu.berkeley.cs.scads.piql.ParallelExecutor">ParallelExecutor</span><span class="delimiter">)</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.tpcw.TpcwClient" id="50043">testTpcwClient</a> =
    <span title="edu.berkeley.cs.scads.piql.tpcw.TpcwClient" class="keyword">new</span> piql.tpcw.<span title="edu.berkeley.cs.scads.piql.tpcw.TpcwClient">TpcwClient</span><span class="delimiter">(</span><span title="edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask" class="keyword">new</span> piql.tpcw.<span title="edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">TpcwLoaderTask</span><span class="delimiter">(</span><span title="Int(10)" class="int">10</span>,<span title="Int(5)" class="int">5</span>,<span title="Double(10.0)" class="int">10</span>,<span title="Int(10000)" class="int">10000</span>,<span title="Int(2)" class="int">2</span><span class="delimiter">)</span>.<span title="()edu.berkeley.cs.scads.storage.ScadsCluster">newTestCluster</span>, <a href="#54429" title="edu.berkeley.cs.scads.piql.ParallelExecutor with edu.berkeley.cs.scads.piql.DebugExecutor" class="keyword">new</a> <a title="anonymous class $anon extends edu.berkeley.cs.scads.piql.ParallelExecutor with edu.berkeley.cs.scads.piql.DebugExecutor" id="54429">ParallelExecutor</a> <span class="keyword">with</span> <span title="edu.berkeley.cs.scads.piql.DebugExecutor">DebugExecutor</span><span class="delimiter">)</span>

  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="50045">scadsCluster</a> = <span title="edu.berkeley.cs.scads.storage.ScadsCluster" class="keyword">new</span> <span title="edu.berkeley.cs.scads.storage.ScadsCluster">ScadsCluster</span><span class="delimiter">(</span><a href="#50037" title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">traceRoot</a><span class="delimiter">)</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.scadr.ScadrClient" id="50047">scadrClient</a> = <span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient" class="keyword">new</span> piql.scadr.<span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">ScadrClient</span><span class="delimiter">(</span><a href="#50044" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">scadsCluster</a>, <span title="edu.berkeley.cs.scads.piql.ParallelExecutor" class="keyword">new</span> <span title="edu.berkeley.cs.scads.piql.ParallelExecutor">ParallelExecutor</span><span class="delimiter">)</span>
  <span class="keyword">lazy</span> <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.scadr.ScadrClient" id="50049">testScadrClient</a> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ManagedScadsCluster" id="54467">cluster</a> = <span title="object edu.berkeley.cs.scads.storage.TestScalaEngine">TestScalaEngine</span>.<span title="(numNodes: Int)edu.berkeley.cs.scads.storage.ManagedScadsCluster">newScadsCluster</span><span class="delimiter">(</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.scadr.ScadrClient" id="54468">client</a> = <span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient" class="keyword">new</span> piql.scadr.<span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">ScadrClient</span><span class="delimiter">(</span><a href="#54467" title="edu.berkeley.cs.scads.storage.ManagedScadsCluster">cluster</a>, <a href="#54499" title="edu.berkeley.cs.scads.piql.ParallelExecutor with edu.berkeley.cs.scads.piql.DebugExecutor" class="keyword">new</a> <a title="anonymous class $anon extends edu.berkeley.cs.scads.piql.ParallelExecutor with edu.berkeley.cs.scads.piql.DebugExecutor" id="54499">ParallelExecutor</a> <span class="keyword">with</span> <span title="edu.berkeley.cs.scads.piql.DebugExecutor">DebugExecutor</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.scadr.ScadrLoader" id="54469">loader</a> = <span title="edu.berkeley.cs.scads.piql.scadr.ScadrLoader" class="keyword">new</span> piql.scadr.<span title="edu.berkeley.cs.scads.piql.scadr.ScadrLoader">ScadrLoader</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
    <a href="#54469" title="edu.berkeley.cs.scads.piql.scadr.ScadrLoader">loader</a>.<span title="(clientId: Int)loader.ScadrData">getData</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span>.<span title="(client: edu.berkeley.cs.scads.piql.scadr.ScadrClient)Unit">load</span><span class="delimiter">(</span><a href="#54468" title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">client</a><span class="delimiter">)</span>
    <a href="#54468" title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">client</a>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="=&gt; List[deploylib.ec2.EC2Instance#RemoteJavaProcess]" id="50050">clients</a> = <a href="#50030" title="=&gt; deploylib.mesos.Cluster">cluster</a>.<span title="(itr: Iterable[deploylib.ec2.EC2Instance])deploylib.ParallelSeq[deploylib.ec2.EC2Instance]">slaves</span>.<span title="(f: deploylib.ec2.EC2Instance =&gt; Iterable[deploylib.ec2.EC2Instance#RemoteJavaProcess])List[deploylib.ec2.EC2Instance#RemoteJavaProcess]">pflatMap</span><span class="delimiter">(</span><a href="#55421" title="deploylib.ec2.EC2Instance">_</a>.<span title="=&gt; Seq[x$1.RemoteJavaProcess]">jps</span><span class="delimiter">)</span>.<span title="(p: deploylib.ec2.EC2Instance#RemoteJavaProcess =&gt; Boolean)List[deploylib.ec2.EC2Instance#RemoteJavaProcess]">filter</span><span class="delimiter">(</span><a href="#55451" title="deploylib.ec2.EC2Instance#RemoteJavaProcess">_</a>.<span title="=&gt; String">main</span> <span title="(x$1: Any)Boolean">equals</span> <span title="java.lang.String(&quot;AvroTaskMain&quot;)" class="string">&quot;AvroTaskMain&quot;</span><span class="delimiter">)</span>.<span title="(p: deploylib.ec2.EC2Instance#RemoteJavaProcess =&gt; Boolean)List[deploylib.ec2.EC2Instance#RemoteJavaProcess]">filterNot</span><span class="delimiter">(</span><a href="#55457" title="deploylib.ec2.EC2Instance#RemoteJavaProcess">_</a>.<span title="=&gt; String">stack</span> <span title="(x$1: java.lang.CharSequence)Boolean">contains</span> <span title="java.lang.String(&quot;ScalaEngineTask&quot;)" class="string">&quot;ScalaEngineTask&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; List[deploylib.ec2.EC2Instance#RemoteJavaProcess]" id="50051">laggards</a> = <a href="#50050" title="(itr: Iterable[deploylib.ec2.EC2Instance#RemoteJavaProcess])deploylib.ParallelSeq[deploylib.ec2.EC2Instance#RemoteJavaProcess]">clients</a>.<span title="(f: deploylib.ec2.EC2Instance#RemoteJavaProcess =&gt; Boolean)List[deploylib.ec2.EC2Instance#RemoteJavaProcess]">pfilterNot</span><span class="delimiter">(</span><a href="#55492" title="deploylib.ec2.EC2Instance#RemoteJavaProcess">_</a>.<span title="=&gt; String">stack</span> <span title="(x$1: java.lang.CharSequence)Boolean">contains</span> <span title="java.lang.String(&quot;awaitChild&quot;)" class="string">&quot;awaitChild&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; Unit" id="50052">tagClients</a> = <a href="#50050" title="=&gt; List[deploylib.ec2.EC2Instance#RemoteJavaProcess]">clients</a>.<span title="(f: deploylib.ec2.EC2Instance#RemoteJavaProcess =&gt; deploylib.ec2.EC2Instance)(implicit bf: scala.collection.generic.CanBuildFrom[List[deploylib.ec2.EC2Instance#RemoteJavaProcess],deploylib.ec2.EC2Instance,List[deploylib.ec2.EC2Instance]])List[deploylib.ec2.EC2Instance]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,deploylib.ec2.EC2Instance,List[deploylib.ec2.EC2Instance]]" class="delimiter">(</span><a href="#55515" title="deploylib.ec2.EC2Instance#RemoteJavaProcess">_</a>.<span title="=&gt; deploylib.RemoteMachine">remoteMachine</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="deploylib.ec2.EC2Instance" class="delimiter">[</span><span title="deploylib.ec2.EC2Instance">EC2Instance</span><span class="delimiter">]</span><span class="delimiter">)</span>.<span title="(f: deploylib.ec2.EC2Instance =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#55722" title="deploylib.ec2.EC2Instance">_</a>.<span title="object x$6.tags">tags</span> <span title="(key: String, value: String)Unit">+=</span> <span class="delimiter">(</span><span title="java.lang.String(&quot;task&quot;)" class="string">&quot;task&quot;</span>, <span title="java.lang.String(&quot;client&quot;)" class="string">&quot;client&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(id: String)Unit" id="50053">killTask</a><span class="delimiter">(</span><a title="String" id="57002">id</a>: <span title="String">String</span><span class="delimiter">)</span>: <span title="Unit">Unit</span> = <a href="#50030" title="=&gt; deploylib.mesos.Cluster">cluster</a>.<a title="deploylib.mesos.RemoteServiceScheduler" id="57004">serviceScheduler</a> <a href="#57004" title="Int" id="57044">!?</a> <span title="(taskId: String)edu.berkeley.cs.scads.comm.KillTaskRequest">KillTaskRequest</span><a title="edu.berkeley.cs.scads.comm.KillTaskRequest" id="57043" class="delimiter">(</a><a href="#57002" title="String">id</a><span class="delimiter">)</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit edu.berkeley.cs.scads.piql.modeling.Experiments.productSeqToExcel : (lines: Seq[Product])java.lang.Object{def toExcel: Unit}" id="50054">productSeqToExcel</a><span class="delimiter">(</span><a title="Seq[Product]" id="57045">lines</a>: <span title="Seq[Product]">Seq</span><span class="delimiter">[</span>Product<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#57048" title="java.lang.Object{def toExcel: Unit}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object" id="57048" class="delimiter">{</a>
    <span class="keyword">import</span> java.io._
    <span class="keyword">def</span> <a title="=&gt; Unit" id="57051">toExcel</a>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.io.File" id="57053">file</a> = <span title="object java.io.File">File</span>.<span title="(x$1: java.lang.String, x$2: java.lang.String)java.io.File">createTempFile</span><span class="delimiter">(</span><span title="java.lang.String(&quot;scadsOut&quot;)" class="string">&quot;scadsOut&quot;</span>, <span title="java.lang.String(&quot;.csv&quot;)" class="string">&quot;.csv&quot;</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="java.io.FileWriter" id="57054">writer</a> = <span title="(x$1: java.io.File)java.io.FileWriter" class="keyword">new</span> <span title="java.io.FileWriter">FileWriter</span><span class="delimiter">(</span><a href="#57053" title="java.io.File">file</a><span class="delimiter">)</span>

      <a href="#57045" title="Seq[Product]">lines</a>.<span title="(f: Product =&gt; java.lang.String)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[Product],java.lang.String,Seq[java.lang.String]])Seq[java.lang.String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,java.lang.String,Seq[java.lang.String]]" class="delimiter">(</span><a href="#57165" title="Product">_</a>.<span title="=&gt; Iterator[Any]">productIterator</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;\012&quot;)" class="string">&quot;\n&quot;</span><span class="delimiter">)</span>.<span title="(f: java.lang.String =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#57054" title="java.io.FileWriter">writer</a>.<a href="#57216" title="(x$1: java.lang.String)Unit">write</a><span class="delimiter">)</span>
      <a href="#57054" title="java.io.FileWriter">writer</a>.<span title="()Unit">close</span>

      <span title="object java.lang.Runtime">Runtime</span>.<span title="()java.lang.Runtime">getRuntime</span>.<span title="(x$1: Array[java.lang.String])java.lang.Process">exec</span><span title="Unit" class="delimiter">(</span><span title="(xs: java.lang.String*)(implicit evidence$2: scala.reflect.ClassManifest[java.lang.String])Array[java.lang.String]">Array</span><span title="(clazz: java.lang.Class[_])scala.reflect.ClassManifest[java.lang.String]" class="delimiter">(</span><span title="java.lang.String(&quot;/usr/bin/open&quot;)" class="string">&quot;/usr/bin/open&quot;</span>, <a href="#57053" title="java.io.File">file</a>.<span title="()java.lang.String">getCanonicalPath</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="[RecordType &lt;: org.apache.avro.generic.GenericContainer](iter: Iterator[RecordType])java.lang.Object{def toAvroFile(file: java.io.File,codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType]): Unit; def toAvroFile$default$2: Option[org.apache.avro.file.CodecFactory]}" id="50055">avroIterWriter</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: org.apache.avro.generic.GenericContainer" id="50057">RecordType</a> &lt;: GenericContainer<span class="delimiter">]</span><span class="delimiter">(</span><a title="Iterator[RecordType]" id="57332">iter</a>: <span title="Iterator[RecordType]">Iterator</span><span class="delimiter">[</span>RecordType<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#57335" title="java.lang.Object{def toAvroFile(file: java.io.File,codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType]): Unit; def toAvroFile$default$2: Option[org.apache.avro.file.CodecFactory] @scala.annotation.unchecked.uncheckedVariance}" class="keyword">new</a> <a title="anonymous class $anon extends java.lang.Object" id="57335" class="delimiter">{</a>
     <span class="keyword">def</span> <a title="(file: java.io.File, codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType])Unit" id="57337">toAvroFile</a><span class="delimiter">(</span><a title="java.io.File" id="57338">file</a>: <span title="java.io.File">File</span>, <a title="Option[org.apache.avro.file.CodecFactory]" id="57341">codec</a>: <span title="Option[org.apache.avro.file.CodecFactory]">Option</span><span class="delimiter">[</span>CodecFactory<span class="delimiter">]</span> = <span title="object None">None</span><span class="delimiter">)</span><span class="delimiter">(</span><span class="keyword">implicit</span> <a title="edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType]" id="57340">schema</a>: <span title="edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType]">TypedSchema</span><span class="delimiter">[</span>RecordType<span class="delimiter">]</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
       <span class="keyword">val</span> <a title="org.apache.avro.file.DataFileWriter[RecordType]" id="57342">outfile</a> = <span title="[RecordType &lt;: org.apache.avro.generic.GenericContainer](file: java.io.File, codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType])org.apache.avro.file.DataFileWriter[RecordType]">AvroOutFile</span><span title="(file: java.io.File, codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType])org.apache.avro.file.DataFileWriter[RecordType]" class="delimiter">[</span><a href="#50057" title="RecordType">RecordType</a><span class="delimiter">]</span><a href="#57340" title="edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType]" class="delimiter">(</a><a href="#57338" title="java.io.File">file</a>, <a href="#57341" title="Option[org.apache.avro.file.CodecFactory]">codec</a><span class="delimiter">)</span>
       <a href="#57332" title="Iterator[RecordType]">iter</a>.<span title="(f: RecordType =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#57342" title="org.apache.avro.file.DataFileWriter[RecordType]">outfile</a>.<a href="#57369" title="(x$1: RecordType)Unit">append</a><span class="delimiter">)</span>
       <a href="#57342" title="org.apache.avro.file.DataFileWriter[RecordType]">outfile</a>.<span title="()Unit">close</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object edu.berkeley.cs.scads.piql.modeling.Experiments.QueryRunner" id="50058">QueryRunner</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Result]" id="57406">results</a> = <a href="#50033" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a>.<span title="[PairType &lt;: edu.berkeley.cs.avro.marker.AvroPair](ns: String)(implicit evidence$7: Manifest[PairType])edu.berkeley.cs.scads.storage.PairNamespace[PairType]">getNamespace</span><span title="(ns: String)(implicit evidence$7: Manifest[edu.berkeley.cs.scads.piql.modeling.Result])edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Result]" class="delimiter">[</span><a href="../collection/QueryRunnerTask.scala.html#10141" title="edu.berkeley.cs.scads.piql.modeling.Result">Result</a><span class="delimiter">]</span><span title="(clazz: Class[_])scala.reflect.Manifest[edu.berkeley.cs.scads.piql.modeling.Result]" class="delimiter">(</span><span title="java.lang.String(&quot;queryRunnerResults&quot;)" class="string">&quot;queryRunnerResults&quot;</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; Unit" id="57408">downloadResults</a>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.piql.modeling.Result]" id="57540">outfile</a> = <span title="[RecordType &lt;: org.apache.avro.generic.GenericContainer](file: java.io.File, codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType])org.apache.avro.file.DataFileWriter[RecordType]">AvroOutFile</span><span title="(file: java.io.File, codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[edu.berkeley.cs.scads.piql.modeling.Result])org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.piql.modeling.Result]" class="delimiter">[</span><a href="../collection/QueryRunnerTask.scala.html#10141" title="edu.berkeley.cs.scads.piql.modeling.Result">Result</a><span class="delimiter">]</span><span title="(implicit r: Manifest[edu.berkeley.cs.scads.piql.modeling.Result])edu.berkeley.cs.avro.runtime.package.TypedSchema[edu.berkeley.cs.scads.piql.modeling.Result]" class="delimiter">(</span><span title="implicit deploylib.mesos.package.toFile : (str: String)java.io.File" class="string">&quot;QueryRunnerResults.avro&quot;</span><span class="delimiter">)</span>
      <a href="#57406" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Result =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#57540" title="org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.piql.modeling.Result]">outfile</a>.<a href="#57573" title="(x$1: edu.berkeley.cs.scads.piql.modeling.Result)Unit">append</a><span class="delimiter">)</span>
      <a href="#57540" title="org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.piql.modeling.Result]">outfile</a>.<span title="()Unit">close</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; org.apache.avro.file.DataFileReader[edu.berkeley.cs.scads.piql.modeling.Result] with Iterator[edu.berkeley.cs.scads.piql.modeling.Result]" id="57409">allResults</a> = <span title="[RecordType &lt;: org.apache.avro.generic.GenericContainer](file: java.io.File)(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType])org.apache.avro.file.DataFileReader[RecordType] with Iterator[RecordType]">AvroInFile</span><span title="(file: java.io.File)(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[edu.berkeley.cs.scads.piql.modeling.Result])org.apache.avro.file.DataFileReader[edu.berkeley.cs.scads.piql.modeling.Result] with Iterator[edu.berkeley.cs.scads.piql.modeling.Result]" class="delimiter">[</span><a href="../collection/QueryRunnerTask.scala.html#10141" title="edu.berkeley.cs.scads.piql.modeling.Result">Result</a><span class="delimiter">]</span><span title="(implicit r: Manifest[edu.berkeley.cs.scads.piql.modeling.Result])edu.berkeley.cs.avro.runtime.package.TypedSchema[edu.berkeley.cs.scads.piql.modeling.Result]" class="delimiter">(</span><span title="implicit deploylib.mesos.package.toFile : (str: String)java.io.File" class="string">&quot;QueryRunnerResults.avro&quot;</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; Iterator[edu.berkeley.cs.scads.piql.modeling.Result]" id="57410">goodResults</a> = <a href="#57409" title="=&gt; org.apache.avro.file.DataFileReader[edu.berkeley.cs.scads.piql.modeling.Result] with Iterator[edu.berkeley.cs.scads.piql.modeling.Result]">allResults</a>.<span title="(p: edu.berkeley.cs.scads.piql.modeling.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Result]">filter</span><span class="delimiter">(</span><a href="#57601" title="edu.berkeley.cs.scads.piql.modeling.Result">_</a>.<a href="../collection/QueryRunnerTask.scala.html#37936" title="=&gt; Int">failedQueries</a> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(200)" class="int">200</span><span class="delimiter">)</span>
      .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Result]">filterNot</span><span class="delimiter">(</span><a href="#57607" title="edu.berkeley.cs.scads.piql.modeling.Result">_</a>.<a href="../collection/QueryRunnerTask.scala.html#37927" title="=&gt; Int">iteration</a> <span title="(x: Int)Boolean">==</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
      .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Result]">filter</span><span class="delimiter">(</span><a href="#57615" title="edu.berkeley.cs.scads.piql.modeling.Result">_</a>.<a href="../collection/QueryRunnerTask.scala.html#37930" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">clientConfig</a>.<a href="../collection/QueryRunnerTask.scala.html#38008" title="=&gt; Int">iterationLengthMin</a> <span title="(x: Int)Boolean">==</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>
      .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Result]">filter</span><span class="delimiter">(</span><a href="#57622" title="edu.berkeley.cs.scads.piql.modeling.Result">_</a>.<a href="../collection/QueryRunnerTask.scala.html#37930" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">clientConfig</a>.<a href="../collection/QueryRunnerTask.scala.html#37990" title="=&gt; Int">numClients</a> <span title="(x: Int)Boolean">==</span> <span title="Int(50)" class="int">50</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(results: Seq[edu.berkeley.cs.scads.piql.modeling.Result], quantile: Double)scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]" id="57411">queryTypeQuantile</a><span class="delimiter">(</span><a title="Seq[edu.berkeley.cs.scads.piql.modeling.Result]" id="57633">results</a>: <span title="Seq[edu.berkeley.cs.scads.piql.modeling.Result]">Seq</span><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <a href="#57410" title="=&gt; Iterator[edu.berkeley.cs.scads.piql.modeling.Result]">goodResults</a>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Result]">toSeq</span>, <a title="Double" id="57634">quantile</a>: <span title="Double">Double</span> = <span title="Double(0.9)" class="double">0.90</span><span class="delimiter">)</span> =
      <a href="#57633" title="Seq[edu.berkeley.cs.scads.piql.modeling.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Result =&gt; edu.berkeley.cs.scads.piql.modeling.QueryDescription)scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Seq[edu.berkeley.cs.scads.piql.modeling.Result]]">groupBy</span><span class="delimiter">(</span><a href="#57641" title="edu.berkeley.cs.scads.piql.modeling.Result">_</a>.<a href="../collection/QueryRunnerTask.scala.html#37917" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryDescription">queryDesc</a><span class="delimiter">)</span>.<span title="(f: (edu.berkeley.cs.scads.piql.modeling.QueryDescription, Seq[edu.berkeley.cs.scads.piql.modeling.Result]) =&gt; (edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int]))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Seq[edu.berkeley.cs.scads.piql.modeling.Result]],(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int]),scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]])scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]">map</span> <a href="#57662" title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])" class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.QueryDescription" id="57665">queryDesc</a>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Result]" id="57666">results</a><span class="delimiter">)</span> =&gt; <span title="(_1: edu.berkeley.cs.scads.piql.modeling.QueryDescription, _2: Option[Int])(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])" class="delimiter">(</span><a href="#57665" title="edu.berkeley.cs.scads.piql.modeling.QueryDescription">queryDesc</a>, <a href="#57666" title="Seq[edu.berkeley.cs.scads.piql.modeling.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#57687" title="edu.berkeley.cs.scads.piql.modeling.Result">_</a>.<a href="../collection/QueryRunnerTask.scala.html#37933" title="=&gt; edu.berkeley.cs.scads.perf.Histogram">responseTimes</a><span class="delimiter">)</span>
          .<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span title="(a: edu.berkeley.cs.scads.perf.Histogram)Option[edu.berkeley.cs.scads.perf.Histogram]" class="delimiter">(</span><a href="#57712" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#57713" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
          .<span title="(f: edu.berkeley.cs.scads.perf.Histogram =&gt; Int)Option[Int]">map</span><span class="delimiter">(</span><a href="#57791" title="edu.berkeley.cs.scads.perf.Histogram">_</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><a href="#57634" title="Double">quantile</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]" id="57412">thoughtstreamGraph</a> =
      <a href="#57411" title="(results: Seq[edu.berkeley.cs.scads.piql.modeling.Result], quantile: Double)scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]">queryTypeQuantile</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(p: (edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int]) =&gt; Boolean)scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]">filter</span><span class="delimiter">(</span><a href="#57845" title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryDescription">_1</span>.<a href="../collection/QueryRunnerTask.scala.html#37811" title="=&gt; String">queryName</a> <span title="(x$1: AnyRef)Boolean">==</span> <span title="java.lang.String(&quot;thoughtstream&quot;)" class="string">&quot;thoughtstream&quot;</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(queryName: String)scala.collection.immutable.Iterable[Unit]" id="57413">quantileCsv</a><span class="delimiter">(</span><a title="String" id="57851">queryName</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]" id="57854">quantiles</a> = <a href="#57411" title="(results: Seq[edu.berkeley.cs.scads.piql.modeling.Result], quantile: Double)scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]">queryTypeQuantile</a><span class="delimiter">(</span><span class="delimiter">)</span>.<span title="(p: (edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int]) =&gt; Boolean)scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]">filter</span><span class="delimiter">(</span><a href="#57860" title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryDescription">_1</span>.<a href="../collection/QueryRunnerTask.scala.html#37811" title="=&gt; String">queryName</a> <span title="(x$1: AnyRef)Boolean">==</span> <a href="#57851" title="String">queryName</a><span class="delimiter">)</span>

      <a href="#57854" title="scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]]">quantiles</a>.<span title="(f: (edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int]) =&gt; Unit)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[edu.berkeley.cs.scads.piql.modeling.QueryDescription,Option[Int]],Unit,scala.collection.immutable.Iterable[Unit]])scala.collection.immutable.Iterable[Unit]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.Iterable.Coll,Unit,scala.collection.immutable.Iterable[Unit]]" class="delimiter">(</span><a title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])" id="57882">i</a> =&gt; <span class="delimiter">{</span>
        <span class="keyword">var</span> <a title="List[String]" id="57883">line</a>: <span title="List[String]">List</span><span class="delimiter">[</span>String<span class="delimiter">]</span> = <span title="object Nil">Nil</span>
        <a href="#57883" title="List[String]">line</a> = <a href="#57882" title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])">i</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryDescription">_1</span>.<a href="../collection/QueryRunnerTask.scala.html#37811" title="=&gt; String">queryName</a> <a href="#57884" title="(x: String)List[String]">::</a> <a href="#57883" title="List[String]">line</a>

        <span class="delimiter">(</span><span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">1</span> <span title="(end: Int)scala.collection.immutable.Range.Inclusive">to</span> <a href="#57882" title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])">i</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryDescription">_1</span>.<a href="../collection/QueryRunnerTask.scala.html#37814" title="=&gt; Seq[Int]">parameters</a>.<span title="=&gt; Int">length</span><span class="delimiter">)</span>.<span title="(f: Int =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a title="Int" id="58070">j</a> =&gt;
          <a href="#57883" title="List[String]">line</a> = <a href="#57882" title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])">i</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryDescription">_1</span>.<a href="../collection/QueryRunnerTask.scala.html#37814" title="(idx: Int)Int">parameters</a><span class="delimiter">(</span><a href="#58070" title="Int">j</a> <span title="(x: Int)Int">-</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="()java.lang.String">toString</span> <a href="#58071" title="(x: String)List[String]">::</a> <a href="#57883" title="List[String]">line</a>
        <span class="delimiter">)</span>

        <a href="#57883" title="List[String]">line</a> = <a href="#57882" title="(edu.berkeley.cs.scads.piql.modeling.QueryDescription, Option[Int])">i</a>.<span title="=&gt; Option[Int]">_2</span>.<span title="=&gt; Int">get</span>.<span title="()java.lang.String">toString</span> <a href="#58088" title="(x: String)List[String]">::</a> <a href="#57883" title="List[String]">line</a>
        <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><a href="#57883" title="List[String]">line</a>.<span title="=&gt; List[String]">reverse</span>.<span title="(sep: String)String">mkString</span><span class="delimiter">(</span><span title="java.lang.String(&quot;,&quot;)" class="string">&quot;,&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Iterable[Unit]" id="57414">thoughtstreamQuantileCsv</a> = <span class="delimiter">{</span>
		  <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;queryName,numSubscriptions,numPerPage,latency&quot;)" class="string">&quot;queryName,numSubscriptions,numPerPage,latency&quot;</span><span class="delimiter">)</span>
		  <a href="#57413" title="(queryName: String)scala.collection.immutable.Iterable[Unit]">quantileCsv</a><span class="delimiter">(</span><span title="java.lang.String(&quot;thoughtstream&quot;)" class="string">&quot;thoughtstream&quot;</span><span class="delimiter">)</span>
		<span class="delimiter">}</span>
		
		<span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Iterable[Unit]" id="57415">myThoughtsQuantileCsv</a> = <span class="delimiter">{</span>
		  <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;queryName,numPerPage,latency&quot;)" class="string">&quot;queryName,numPerPage,latency&quot;</span><span class="delimiter">)</span>
		  <a href="#57413" title="(queryName: String)scala.collection.immutable.Iterable[Unit]">quantileCsv</a><span class="delimiter">(</span><span title="java.lang.String(&quot;myThoughts&quot;)" class="string">&quot;myThoughts&quot;</span><span class="delimiter">)</span>
		<span class="delimiter">}</span>

		<span class="keyword">def</span> <a title="=&gt; scala.collection.immutable.Iterable[Unit]" id="57416">usersFollowedByQuantileCsv</a> = <span class="delimiter">{</span>
		  <span title="(x: Any)Unit">println</span><span class="delimiter">(</span><span title="java.lang.String(&quot;queryName,numSubscriptions,latency&quot;)" class="string">&quot;queryName,numSubscriptions,latency&quot;</span><span class="delimiter">)</span>
		  <a href="#57413" title="(queryName: String)scala.collection.immutable.Iterable[Unit]">quantileCsv</a><span class="delimiter">(</span><span title="java.lang.String(&quot;usersFollowedBy&quot;)" class="string">&quot;usersFollowedBy&quot;</span><span class="delimiter">)</span>
		<span class="delimiter">}</span>
		
    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask" id="57417">defaultScadr</a> = <span title="(numServers: Int, numLoaders: Int, followingCardinality: Int, replicationFactor: Int, usersPerServer: Int, thoughtsPerUser: Int)edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">ScadrLoaderTask</span><span class="delimiter">(</span>numServers=<span title="Int(10)" class="int">10</span>,
				       numLoaders=<span title="Int(5)" class="int">5</span>,
				       followingCardinality=<span title="Int(500)" class="int">500</span>,
				       replicationFactor=<span title="Int(2)" class="int">2</span>,
				       usersPerServer=<span title="Int(20000)" class="int">20000</span>,
				       thoughtsPerUser=<span title="Int(100)" class="int">100</span>
				     <span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask" id="57418">testScadrCluster</a> = <span title="(numServers: Int, numLoaders: Int, followingCardinality: Int, replicationFactor: Int, usersPerServer: Int, thoughtsPerUser: Int)edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">ScadrLoaderTask</span><span class="delimiter">(</span>numServers=<span title="Int(10)" class="int">10</span>,
				  numLoaders=<span title="Int(10)" class="int">10</span>,
				  followingCardinality=<span title="Int(100)" class="int">100</span>,
				  replicationFactor=<span title="Int(2)" class="int">2</span>,
				  usersPerServer=<span title="Int(100)" class="int">100</span>,
				  thoughtsPerUser=<span title="Int(100)" class="int">100</span>
				 <span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57419">defaultRunner</a> = 
      <a href="../collection/QueryRunnerTask.scala.html#38215" title="(numClients: Int, queryProvider: String, traceIterators: Boolean, traceMessages: Boolean, traceQueries: Boolean, iterations: Int, iterationLengthMin: Int, threads: Int)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">QueryRunnerTask</a><span class="delimiter">(</span><a title="Int(5)" id="57477" class="int">5</a>,
		      <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.modeling.ScadrQueryProvider&quot;)" id="57478" class="string">&quot;edu.berkeley.cs.scads.piql.modeling.ScadrQueryProvider&quot;</a>,
		      iterations=<span class="int">10</span><a title="Int(60)" id="57479">*</a><span class="int">6</span>,
		      iterationLengthMin=<a title="Int(10)" id="57480" class="int">10</a>,
		      threads=<a title="Int(5)" id="57481" class="int">5</a>,
		      traceIterators=<a title="Boolean(false)" id="57482" class="keyword">false</a>,
		      traceMessages=<a title="Boolean(false)" id="57483" class="keyword">false</a>,
		      traceQueries=<a title="Boolean(false)" id="57484" class="keyword">false</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; Unit" id="57421">testReplicationEffect</a>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58174">rep</a> = <a href="#57417" title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask" id="58176">defaultScadr</a>.<a href="#58176" title="Int" id="58182">copy</a><span class="delimiter">(</span>replicationFactor=<a title="Int(2)" id="58177" class="int">2</a><span class="delimiter">)</span>.<a href="#50035" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58175">noRep</a> = <a href="#57417" title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">defaultScadr</a>.<a href="#50035" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>
      <a href="#57438" title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">benchmarkScadr</a><span class="delimiter">(</span><a href="#58174" title="edu.berkeley.cs.scads.storage.ScadsCluster">rep</a><span class="delimiter">)</span>
      <a href="#57438" title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">benchmarkScadr</a><span title="Unit" class="delimiter">(</span><a href="#58175" title="edu.berkeley.cs.scads.storage.ScadsCluster">noRep</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; Unit" id="57422">testGenericRunner</a>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58209">cluster</a> = <a href="../collection/GenericRelationQueryProvider.scala.html#34090" title="(numServers: Int, numLoaders: Int, replicationFactor: Int, tuplesPerServer: Int, dataSize: Int, maxCardinality: Int)edu.berkeley.cs.scads.piql.modeling.GenericRelationLoaderTask">GenericRelationLoaderTask</a><span class="delimiter">(</span><span title="Int(4)" class="int">4</span>,<span title="Int(2)" class="int">2</span>,<span title="Int(2)" class="int">2</span>,<span title="Int(10)" class="int">10</span>,<span title="Int(1)" class="int">1</span>,<span title="Int(500)" class="int">500</span><span class="delimiter">)</span>.<span title="()edu.berkeley.cs.scads.storage.ScadsCluster">newTestCluster</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="58210">runner</a> = <a href="../collection/QueryRunnerTask.scala.html#38215" title="(numClients: Int, queryProvider: String, traceIterators: Boolean, traceMessages: Boolean, traceQueries: Boolean, iterations: Int, iterationLengthMin: Int, threads: Int)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">QueryRunnerTask</a><span class="delimiter">(</span><a title="Int(1)" id="58219" class="int">1</a>,
		      <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.modeling.GenericQueryProvider&quot;)" id="58220" class="string">&quot;edu.berkeley.cs.scads.piql.modeling.GenericQueryProvider&quot;</a>,
		      iterations=<a title="Int(10)" id="58221" class="int">10</a>,
		      iterationLengthMin=<a title="Int(1)" id="58222" class="int">1</a>,
		      threads=<a title="Int(2)" id="58223" class="int">2</a>,
		      traceIterators=<a title="Boolean(false)" id="58224" class="keyword">false</a>,
		      traceMessages=<a title="Boolean(false)" id="58225" class="keyword">false</a>,
		      traceQueries=<a title="Boolean(false)" id="58226" class="keyword">false</a><span class="delimiter">)</span>
      <a href="#58210" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a>.<a href="../collection/QueryRunnerTask.scala.html#38016" title="(x$1: String)Unit">clusterAddress</a> = <a href="#58209" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">root</span>.<span title="=&gt; java.lang.String">canonicalAddress</span>
      <a href="#58210" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a>.<a href="../collection/QueryRunnerTask.scala.html#38022" title="(x$1: String)Unit">experimentAddress</a> = <a href="#58209" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">root</span>.<span title="=&gt; java.lang.String">canonicalAddress</span>
      <a href="#58210" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a>.<a href="../collection/QueryRunnerTask.scala.html#38019" title="(x$1: String)Unit">resultClusterAddress</a> = <a href="#58209" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">root</span>.<span title="=&gt; java.lang.String">canonicalAddress</span>
      <span title="Unit" class="keyword">while</span><span class="delimiter">(</span><a href="#58209" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="()List[edu.berkeley.cs.scads.comm.StorageService]">getAvailableServers</span>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="object java.lang.Thread">Thread</span>.<span title="(x$1: Long)Unit">sleep</span><a href="#58212" title="()Unit" class="delimiter">(</a><span title="Long(100L)" class="int">100</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="java.lang.Thread" id="58211">thread</a> = <span title="(x$1: java.lang.Runnable)java.lang.Thread" class="keyword">new</span> <span title="java.lang.Thread">Thread</span><span class="delimiter">(</span><a href="#58210" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a><span class="delimiter">)</span>
      <a href="#58211" title="java.lang.Thread">thread</a>.<span title="()Unit">start</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.piql.modeling.GenericRelationLoaderTask" id="57423">genericCluster</a> = 
      <a href="../collection/GenericRelationQueryProvider.scala.html#34090" title="(numServers: Int, numLoaders: Int, replicationFactor: Int, tuplesPerServer: Int, dataSize: Int, maxCardinality: Int)edu.berkeley.cs.scads.piql.modeling.GenericRelationLoaderTask">GenericRelationLoaderTask</a><span class="delimiter">(</span>
	      numServers=<span title="Int(10)" class="int">10</span>,
	      numLoaders=<span title="Int(10)" class="int">10</span>,
	      replicationFactor=<span title="Int(2)" class="int">2</span>,
	      tuplesPerServer=<span title="Int(10000)" class="int">10000</span>,
	      dataSize=<span title="Int(10)" class="int">10</span>,
	      maxCardinality=<span title="Int(500)" class="int">500</span><span class="delimiter">)</span>
    
    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57424">defaultGenericRunner</a> =
       <a href="../collection/QueryRunnerTask.scala.html#38215" title="(numClients: Int, queryProvider: String, traceIterators: Boolean, traceMessages: Boolean, traceQueries: Boolean, iterations: Int, iterationLengthMin: Int, threads: Int)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">QueryRunnerTask</a><span class="delimiter">(</span>numClients=<a title="Int(10)" id="58703" class="int">10</a>,
		      <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.modeling.GenericQueryProvider&quot;)" id="58704" class="string">&quot;edu.berkeley.cs.scads.piql.modeling.GenericQueryProvider&quot;</a>,
		      iterations=<a title="Int(30)" id="58705" class="int">30</a>,
		      iterationLengthMin=<a title="Int(10)" id="58706" class="int">10</a>,
		      threads=<a title="Int(2)" id="58707" class="int">2</a>,
		      traceIterators=<a title="Boolean(false)" id="58708" class="keyword">false</a>,
		      traceMessages=<a title="Boolean(false)" id="58709" class="keyword">false</a>,
		      traceQueries=<a title="Boolean(false)" id="58710" class="keyword">false</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57425">scadrGenericBenchmark</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58714">clust30</a> = <a href="#57423" title="edu.berkeley.cs.scads.piql.modeling.GenericRelationLoaderTask" id="58717">genericCluster</a>.<a href="../collection/GenericRelationQueryProvider.scala.html#37518" title="Int" id="58723">copy</a><span class="delimiter">(</span>dataSize=<a title="Int(30)" id="58718" class="int">30</a><span class="delimiter">)</span>.<a href="#50035" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58715">clust40</a> = <a href="#57423" title="edu.berkeley.cs.scads.piql.modeling.GenericRelationLoaderTask" id="58724">genericCluster</a>.<a href="../collection/GenericRelationQueryProvider.scala.html#37518" title="Int" id="58730">copy</a><span class="delimiter">(</span>dataSize=<a title="Int(40)" id="58725" class="int">40</a><span class="delimiter">)</span>.<a href="#50035" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58716">scadrCluster</a> = <a href="#57417" title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">defaultScadr</a>.<a href="#50035" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>

      <a href="#57437" title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">genericBenchmark</a><span class="delimiter">(</span><a href="#58714" title="edu.berkeley.cs.scads.storage.ScadsCluster">clust30</a><span class="delimiter">)</span>
      <a href="#57437" title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">genericBenchmark</a><span class="delimiter">(</span><a href="#58715" title="edu.berkeley.cs.scads.storage.ScadsCluster">clust40</a><span class="delimiter">)</span>
      <a href="#57438" title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">benchmarkScadr</a><span class="delimiter">(</span><a href="#58716" title="edu.berkeley.cs.scads.storage.ScadsCluster">scadrCluster</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">val</span> <a title="Int" id="57426">numClients</a> = <span title="Int(5)" class="int">5</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask" id="57428">tpcwCluster</a> = tpcw.<span title="(numServers: Int, numLoaders: Int, numEBs: Double, numItems: Int, replicationFactor: Int)edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">TpcwLoaderTask</span><span class="delimiter">(</span><span title="Int(10)" class="int">10</span>, <a href="#57426" title="=&gt; Int">numClients</a>, numEBs=<span title="Int(150)" class="int">150</span><span title="=&gt; Double">*</span><a href="#57426" title="=&gt; Int">numClients</a>, numItems=<span title="Int(10000)" class="int">10000</span>, <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57430">tpcwRunner</a> =
      <a href="../collection/QueryRunnerTask.scala.html#38215" title="(numClients: Int, queryProvider: String, traceIterators: Boolean, traceMessages: Boolean, traceQueries: Boolean, iterations: Int, iterationLengthMin: Int, threads: Int)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">QueryRunnerTask</a><span class="delimiter">(</span>numClients=<a title="Int(10)" id="57518" class="int">10</a>,
        <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.modeling.TpcwQueryProvider&quot;)" id="57519" class="string">&quot;edu.berkeley.cs.scads.piql.modeling.TpcwQueryProvider&quot;</a>,
        iterations=<a title="Int(30)" id="57520" class="int">30</a>,
        iterationLengthMin=<a title="Int(10)" id="57521" class="int">10</a>,
        threads=<a title="Int(2)" id="57522" class="int">2</a>,
        traceIterators=<a title="Boolean(false)" id="57523" class="keyword">false</a>,
        traceMessages=<a title="Boolean(false)" id="57524" class="keyword">false</a>,
        traceQueries=<a title="Boolean(false)" id="57525" class="keyword">false</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57432">defaultTpcwRunner</a> =
      <a href="../collection/QueryRunnerTask.scala.html#38215" title="(numClients: Int, queryProvider: String, traceIterators: Boolean, traceMessages: Boolean, traceQueries: Boolean, iterations: Int, iterationLengthMin: Int, threads: Int)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">QueryRunnerTask</a><span class="delimiter">(</span><a href="#57426" title="Int" id="57530">numClients</a>,
		      <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.modeling.TpcwQueryProvider&quot;)" id="57531" class="string">&quot;edu.berkeley.cs.scads.piql.modeling.TpcwQueryProvider&quot;</a>,
		      iterations=<span class="int">10</span><a title="Int(60)" id="57532">*</a><span class="int">6</span>,
		      iterationLengthMin=<a title="Int(10)" id="57533" class="int">10</a>,
		      threads=<a title="Int(10)" id="57534" class="int">10</a>,
		      traceIterators=<a title="Boolean(false)" id="57535" class="keyword">false</a>,
		      traceMessages=<a title="Boolean(false)" id="57536" class="keyword">false</a>,
		      traceQueries=<a title="Boolean(false)" id="57537" class="keyword">false</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57434">tpcwBenchmark</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58747">cluster</a> = <a href="#57428" title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">tpcwCluster</a>.<a href="#50035" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>
      <a href="#57432" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">defaultTpcwRunner</a>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.piql.modeling.Experiments.QueryRunner.defaultTpcwRunner.type">schedule</span><a href="#50035" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a href="#58747" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>, <a href="#50033" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; Unit" id="57435">rocTpcwBenchmark</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58751">cluster</a> = <a href="#57428" title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">tpcwCluster</a>.<a href="#50035" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>
      <span class="delimiter">(</span><span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">1</span> <span title="(end: Int)scala.collection.immutable.Range.Inclusive">to</span> <span title="Int(100)" class="int">100</span><span class="delimiter">)</span>.<span title="(f: Int =&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask)Unit">foreach</span><span class="delimiter">(</span><a title="Int" id="58864">_</a> =&gt; <a href="#57432" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">defaultTpcwRunner</a>.<a href="../collection/QueryRunnerTask.scala.html#43229" title="Int" id="58872">copy</a><span class="delimiter">(</span>iterations=<a title="Int(5)" id="58865" class="int">5</a><span class="delimiter">)</span>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">schedule</span><a href="#50035" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a href="#58751" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>,<a href="#50033" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; Unit" id="57436">testTpcwRunner</a>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58881">cluster</a> = tpcw.<span title="(numServers: Int, numLoaders: Int, numEBs: Double, numItems: Int, replicationFactor: Int)edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">TpcwLoaderTask</span><span class="delimiter">(</span><span title="Int(2)" class="int">2</span>, <span title="Int(2)" class="int">2</span>, <span title="Double(10.0)" class="int">10</span>, <span title="Int(1000)" class="int">1000</span>, <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>.<span title="()edu.berkeley.cs.scads.storage.ScadsCluster">newTestCluster</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="58882">runner</a> = <a href="../collection/QueryRunnerTask.scala.html#38215" title="(numClients: Int, queryProvider: String, traceIterators: Boolean, traceMessages: Boolean, traceQueries: Boolean, iterations: Int, iterationLengthMin: Int, threads: Int)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">QueryRunnerTask</a><span class="delimiter">(</span><a title="Int(1)" id="58885" class="int">1</a>,
		      <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.modeling.TpcwQueryProvider&quot;)" id="58886" class="string">&quot;edu.berkeley.cs.scads.piql.modeling.TpcwQueryProvider&quot;</a>,
		      iterations=<a title="Int(10)" id="58887" class="int">10</a>,
		      iterationLengthMin=<a title="Int(1)" id="58888" class="int">1</a>,
		      threads=<a title="Int(2)" id="58889" class="int">2</a>,
		      traceIterators=<a title="Boolean(false)" id="58890" class="keyword">false</a>,
		      traceMessages=<a title="Boolean(false)" id="58891" class="keyword">false</a>,
		      traceQueries=<a title="Boolean(false)" id="58892" class="keyword">false</a><span class="delimiter">)</span>
      <a href="#58882" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a>.<a href="../collection/QueryRunnerTask.scala.html#38016" title="(x$1: String)Unit">clusterAddress</a> = <a href="#58881" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">root</span>.<span title="=&gt; java.lang.String">canonicalAddress</span>
      <a href="#58882" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a>.<a href="../collection/QueryRunnerTask.scala.html#38022" title="(x$1: String)Unit">experimentAddress</a> = <a href="#58881" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">root</span>.<span title="=&gt; java.lang.String">canonicalAddress</span>
      <a href="#58882" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a>.<a href="../collection/QueryRunnerTask.scala.html#38019" title="(x$1: String)Unit">resultClusterAddress</a> = <a href="#58881" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">root</span>.<span title="=&gt; java.lang.String">canonicalAddress</span>
      <span title="Unit" class="keyword">while</span><span class="delimiter">(</span><a href="#58881" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="()List[edu.berkeley.cs.scads.comm.StorageService]">getAvailableServers</span>.<span title="=&gt; Int">size</span> <span title="(x: Int)Boolean">&lt;</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <span title="object java.lang.Thread">Thread</span>.<span title="(x$1: Long)Unit">sleep</span><a href="#58884" title="()Unit" class="delimiter">(</a><span title="Long(100L)" class="int">100</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="java.lang.Thread" id="58883">thread</a> = <span title="(x$1: java.lang.Runnable)java.lang.Thread" class="keyword">new</span> <span title="java.lang.Thread">Thread</span><span class="delimiter">(</span><a href="#58882" title="edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">runner</a><span class="delimiter">)</span>
      <a href="#58883" title="java.lang.Thread">thread</a>.<span title="()Unit">start</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57437">genericBenchmark</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58734">cluster</a>: <span title="edu.berkeley.cs.scads.storage.ScadsCluster">ScadsCluster</span> = <a href="#57423" title="=&gt; edu.berkeley.cs.scads.piql.modeling.GenericRelationLoaderTask">genericCluster</a>.<a href="#50035" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a><span class="delimiter">)</span> =
      <a href="#57424" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">defaultGenericRunner</a>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">schedule</span><a href="#50035" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a href="#58734" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>, <a href="#50033" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask" id="57438">benchmarkScadr</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58206">cluster</a>: <span title="edu.berkeley.cs.scads.storage.ScadsCluster">ScadsCluster</span> = <a href="#57417" title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">defaultScadr</a>.<a href="#50035" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a><span class="delimiter">)</span> =
      <a href="#57419" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">defaultRunner</a>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.piql.modeling.Experiments.QueryRunner.defaultRunner.type">schedule</span><a href="#50035" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a href="#58206" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>,<a href="#50033" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span>
      
    <span class="keyword">def</span> <a title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)Unit" id="57439">rocBenchmarkScadr</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="58909">cluster</a>: <span title="edu.berkeley.cs.scads.storage.ScadsCluster">ScadsCluster</span> = <a href="#57417" title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">defaultScadr</a>.<a href="#50035" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a><span class="delimiter">)</span> = 
      <span class="delimiter">(</span><span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">1</span> <span title="(end: Int)scala.collection.immutable.Range.Inclusive">to</span> <span title="Int(100)" class="int">100</span><span class="delimiter">)</span>.<span title="(f: Int =&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask)Unit">foreach</span><span class="delimiter">(</span><a title="Int" id="59022">_</a> =&gt; <a href="#57419" title="=&gt; edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">defaultRunner</a>.<a href="../collection/QueryRunnerTask.scala.html#43229" title="Int" id="59030">copy</a><span class="delimiter">(</span>iterations=<a title="Int(2)" id="59023" class="int">2</a><span class="delimiter">)</span>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.piql.modeling.QueryRunnerTask">schedule</span><a href="#50035" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a href="#58909" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>,<a href="#50033" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment" id="50060">TpcwScaleExperiment</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">import</span> piql.tpcw._
    <span class="keyword">import</span> scale._
    <span class="keyword">type</span> <a title="edu.berkeley.cs.scads.piql.tpcw.scale.Result" id="59042">Result</a> = piql.tpcw.scale.<span title="edu.berkeley.cs.scads.piql.tpcw.scale.Result">Result</span>

    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" id="59043">results</a> = <a href="#50033" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a>.<span title="[PairType &lt;: edu.berkeley.cs.avro.marker.AvroPair](ns: String)(implicit evidence$7: Manifest[PairType])edu.berkeley.cs.scads.storage.PairNamespace[PairType]">getNamespace</span><span title="(ns: String)(implicit evidence$7: Manifest[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result])edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" class="delimiter">[</span><span title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">Result</span><span class="delimiter">]</span><span title="(clazz: Class[_])scala.reflect.Manifest[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" class="delimiter">(</span><span title="java.lang.String(&quot;tpcwScaleResults&quot;)" class="string">&quot;tpcwScaleResults&quot;</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; Unit" id="59045">backup</a> = <a href="#59043" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">iterateOverRange</span><a href="#50055" title="avroIterWriter extends java.lang.Object" id="59307" class="delimiter">(</a><span title="object None">None</span>,<span title="object None">None</span><span class="delimiter">)</span>.<a href="#59306" title="Option[org.apache.avro.file.CodecFactory]" id="59313">toAvroFile</a><span title="(implicit r: Manifest[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result])edu.berkeley.cs.avro.runtime.package.TypedSchema[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" class="delimiter">(</span><a title="java.io.File" id="59312" class="keyword">new</a> java.io.<span title="java.io.File">File</span><span class="delimiter">(</span><span title="java.lang.String(&quot;tpcwScale.&quot;)" class="string">&quot;tpcwScale.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="java.lang.String(&quot;.avro&quot;)" class="string">&quot;.avro&quot;</span><span class="delimiter">)</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(dataPoints: Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result])Seq[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String)]" id="59046">scaleResultsIter</a><span class="delimiter">(</span><a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" id="59333">dataPoints</a>: <span title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">Seq</span><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <a href="#59043" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">toSeq</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#59333" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">dataPoints</a>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#59337" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</span>.<span title="=&gt; Int">replicationFactor</span> <span title="(x: Int)Boolean">==</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#59356" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; Int">iterations</span> <span title="(x: Int)Boolean">==</span> <span title="Int(4)" class="int">4</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#59453" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; Int">numThreads</span> <span title="(x: Int)Boolean">==</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#59464" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; Int">runLengthMin</span> <span title="(x: Int)Boolean">==</span> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#59475" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; Int">iteration</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">toSeq</span>
        .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; (String, Int))scala.collection.immutable.Map[(String, Int),Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result" id="59492">r</a> =&gt; <span title="(_1: String, _2: Int)(String, Int)" class="delimiter">(</span><a href="#59492" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; String">clusterAddress</span>, <a href="#59492" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">r</a>.<span title="=&gt; Int">iteration</span><span class="delimiter">)</span><span class="delimiter">)</span>
        .<span title="(f: ((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]) =&gt; (Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[(String, Int),Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]],(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String),scala.collection.immutable.Iterable[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String)]])scala.collection.immutable.Iterable[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String)]">map</span> <a href="#59534" title="(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String)" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String)" class="delimiter">(</span><span class="delimiter">(</span><a title="String" id="59539">exp</a>, <a title="Int" id="59540">iter</a><span class="delimiter">)</span>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" id="59541">results</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.Histogram" id="59542">aggHist</a> = <a href="#59541" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#59563" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>.<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#59588" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#59589" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Int" id="59543">skips</a> = <a href="#59541" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result],Int,Seq[Int]])Seq[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,Int,Seq[Int]]" class="delimiter">(</span><a href="#59600" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; Int">skips</span><span class="delimiter">)</span>.<span title="(implicit num: Numeric[Int])Int">sum</span>
          <span class="keyword">val</span> <a title="Int" id="59544">failures</a> = <a href="#59541" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result],Int,Seq[Int]])Seq[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,Int,Seq[Int]]" class="delimiter">(</span><a href="#60087" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; Int">failures</span><span class="delimiter">)</span>.<span title="(implicit num: Numeric[Int])Int">sum</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask" id="59545">loaderConfig</a> = <a href="#59541" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask" id="59546">clientConfig</a> = <a href="#59541" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>
          <span title="(_1: Int, _2: Long, _3: Int, _4: Double, _5: Int, _6: String, _7: Int, _8: Int, _9: Int, _10: Int, _11: Int, _12: String)(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String)" class="delimiter">(</span><a href="#59545" title="edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</a>.<span title="=&gt; Int">numServers</span>, <a href="#59542" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="=&gt; Long">totalRequests</span>, <a href="#59542" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">0.99</span><span class="delimiter">)</span>, <a href="#59542" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="=&gt; Double">stddev</span>, <a href="#59546" title="edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</a>.<span title="=&gt; Int">numClients</span>, <a href="#59546" title="edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</a>.<span title="=&gt; String">executorClass</span>, <a href="#59540" title="Int">iter</a>, <a href="#59542" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.9)" class="double">0.90</span><span class="delimiter">)</span>, <a href="#59543" title="Int">skips</a>, <a href="#59544" title="Int">failures</a>, <a href="#59541" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="=&gt; Int">size</span>, <a href="#59539" title="String">exp</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>.<span title="=&gt; Seq[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int, Int, String)]">toSeq</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(dataPoints: Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result])Seq[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int)]" id="59047">scaleResults</a><span class="delimiter">(</span><a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" id="60530">dataPoints</a>: <span title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">Seq</span><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <a href="#59043" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">toSeq</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#60530" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">dataPoints</a>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#60534" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</span>.<span title="=&gt; Int">replicationFactor</span> <span title="(x: Int)Boolean">==</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#60545" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; Int">iterations</span> <span title="(x: Int)Boolean">==</span> <span title="Int(4)" class="int">4</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#60556" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; Int">numThreads</span> <span title="(x: Int)Boolean">==</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#60567" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; Int">runLengthMin</span> <span title="(x: Int)Boolean">==</span> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result" id="60578">r</a> =&gt; <a href="#60578" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</span>.<span title="=&gt; Int">numServers</span> <span title="(x: Int)Int">/</span> <span title="Int(2)" class="int">2</span> <span title="(x: Int)Boolean">==</span> <a href="#60578" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>.<span title="=&gt; Int">numClients</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#60595" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; Int">iteration</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">toSeq</span>
        .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Int)scala.collection.immutable.Map[Int,Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result" id="60610">r</a> =&gt; <a href="#60610" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</span>.<span title="=&gt; Int">numServers</span><span class="delimiter">)</span>
        .<span title="(f: (Int, Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]) =&gt; (Int, Long, Int, Double, Int, String, Int, Int, Int, Int))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[Int,Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]],(Int, Long, Int, Double, Int, String, Int, Int, Int, Int),scala.collection.immutable.Iterable[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int)]])scala.collection.immutable.Iterable[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int)]">map</span> <a href="#60646" title="(Int, Long, Int, Double, Int, String, Int, Int, Int, Int)" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="(Int, Long, Int, Double, Int, String, Int, Int, Int, Int)" class="delimiter">(</span><a title="Int" id="60649">numServers</a>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]" id="60650">results</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.Histogram" id="60651">aggHist</a> = <a href="#60650" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#60672" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>.<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#60697" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#60698" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Int" id="60652">skips</a> = <a href="#60650" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result],Int,Seq[Int]])Seq[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,Int,Seq[Int]]" class="delimiter">(</span><a href="#60709" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; Int">skips</span><span class="delimiter">)</span>.<span title="(implicit num: Numeric[Int])Int">sum</span>
          <span class="keyword">val</span> <a title="Int" id="60653">failures</a> = <a href="#60650" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result],Int,Seq[Int]])Seq[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,Int,Seq[Int]]" class="delimiter">(</span><a href="#60751" title="edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">_</a>.<span title="=&gt; Int">failures</span><span class="delimiter">)</span>.<span title="(implicit num: Numeric[Int])Int">sum</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask" id="60654">loaderConfig</a> = <a href="#60650" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask" id="60655">clientConfig</a> = <a href="#60650" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</span>
          <span title="(_1: Int, _2: Long, _3: Int, _4: Double, _5: Int, _6: String, _7: Int, _8: Int, _9: Int, _10: Int)(Int, Long, Int, Double, Int, String, Int, Int, Int, Int)" class="delimiter">(</span><a href="#60654" title="edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">loaderConfig</a>.<span title="=&gt; Int">numServers</span>, <a href="#60651" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="=&gt; Long">totalRequests</span>, <a href="#60651" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">0.99</span><span class="delimiter">)</span>, <a href="#60651" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="=&gt; Double">stddev</span>, <a href="#60655" title="edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</a>.<span title="=&gt; Int">numClients</span>, <a href="#60655" title="edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">clientConfig</a>.<span title="=&gt; String">executorClass</span>, <a href="#60651" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.9)" class="double">0.90</span><span class="delimiter">)</span>, <a href="#60652" title="Int">skips</a>, <a href="#60653" title="Int">failures</a>, <a href="#60650" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.TpcwScaleExperiment.Result]">results</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>.<span title="=&gt; Seq[(Int, Long, Int, Double, Int, String, Int, Int, Int, Int)]">toSeq</span>
    <span class="delimiter">}</span>


    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster" id="59048">test</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="61118">cluster</a> = <span title="(numServers: Int, numLoaders: Int, numEBs: Double, numItems: Int, replicationFactor: Int)edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">TpcwLoaderTask</span><span class="delimiter">(</span><span title="Int(2)" class="int">2</span>,<span title="Int(2)" class="int">2</span>,<span title="Double(10.0)" class="int">10</span>, <span title="Int(1000)" class="int">1000</span><span class="delimiter">)</span>.<span title="()edu.berkeley.cs.scads.storage.ScadsCluster">newTestCluster</span>

      <span title="(numClients: Int, executorClass: String, numThreads: Int, iterations: Int, runLengthMin: Int)edu.berkeley.cs.scads.piql.tpcw.scale.TpcwWorkflowTask">TpcwWorkflowTask</span><span class="delimiter">(</span>
        numClients=<span title="Int(1)" class="int">1</span>,
        executorClass=<span title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;)" class="string">&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;</span>
      <span class="delimiter">)</span>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)scala.collection.immutable.IndexedSeq[java.lang.Thread]">testLocally</span><span class="delimiter">(</span><a href="#61118" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a><span class="delimiter">)</span>

      <a href="#61118" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(numServers: Int, executor: String)Unit" id="59049">runScaleTest</a><span class="delimiter">(</span><a title="Int" id="61139">numServers</a>: <span title="Int">Int</span>, <a title="String" id="61140">executor</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="#61144" title="(Seq[edu.berkeley.cs.scads.comm.JvmTask], edu.berkeley.cs.scads.storage.ScadsCluster)" class="delimiter">(</a><a href="#61143" title="Seq[edu.berkeley.cs.scads.comm.JvmTask]" id="61144">scadsTasks</a>, <a href="#61143" title="edu.berkeley.cs.scads.storage.ScadsCluster" id="61145">cluster</a><span class="delimiter">)</span> = <span title="(numServers: Int, numLoaders: Int, numEBs: Double, numItems: Int, replicationFactor: Int)edu.berkeley.cs.scads.piql.tpcw.TpcwLoaderTask">TpcwLoaderTask</span><span class="delimiter">(</span><a href="#61139" title="Int" id="61169">numServers</a>, <a href="#61139" title="Int">numServers</a><a title="Int" id="61170">/</a><span title="Int(2)" class="int">2</span>, replicationFactor=<a title="Int(2)" id="61171" class="int">2</a>, numEBs = <span title="Int(150)" class="int">150</span> <span title="(x: Int)Int">*</span> <a href="#61139" title="Int">numServers</a><a title="Double" id="61172">/</a><span title="Int(2)" class="int">2</span>, numItems = <a title="Int(10000)" id="61173" class="int">10000</a><span class="delimiter">)</span>.<a href="#50035" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)(Seq[edu.berkeley.cs.scads.comm.JvmTask], edu.berkeley.cs.scads.storage.ScadsCluster)">delayedCluster</a>

      <span class="keyword">val</span> <a title="Seq[edu.berkeley.cs.scads.comm.JvmTask]" id="61146">tpcwTasks</a> = <a title="Int" id="61212">TpcwWorkflowTask</a><span class="delimiter">(</span>
        <a href="#61139" title="Int">numServers</a><a title="Int" id="61208">/</a><span title="Int(2)" class="int">2</span>,
        <a href="#61140" title="String" id="61209">executor</a>,
        iterations = <a title="Int(4)" id="61210" class="int">4</a>,
        runLengthMin = <a title="Int(5)" id="61211" class="int">5</a>
      <span class="delimiter">)</span>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)Seq[edu.berkeley.cs.scads.comm.JvmTask]">delayedSchedule</span><a href="#50035" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a href="#61145" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>, <a href="#50033" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span>

      <a href="#50036" title="=&gt; deploylib.mesos.RemoteServiceScheduler">serviceScheduler</a>.<span title="(processes: Seq[edu.berkeley.cs.scads.comm.JvmTask])Unit">scheduleExperiment</span><span class="delimiter">(</span><a href="#61144" title="Seq[edu.berkeley.cs.scads.comm.JvmTask]">scadsTasks</a> <span title="(that: scala.collection.GenTraversableOnce[edu.berkeley.cs.scads.comm.JvmTask])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.comm.JvmTask],edu.berkeley.cs.scads.comm.JvmTask,Seq[edu.berkeley.cs.scads.comm.JvmTask]])Seq[edu.berkeley.cs.scads.comm.JvmTask]">++</span> <a href="#61146" title="Seq[edu.berkeley.cs.scads.comm.JvmTask]">tpcwTasks</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">object</span> <a title="object edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment" id="50062">ScadrScaleExperiment</a> <span title="ScalaObject" class="delimiter">{</span>
    <span class="keyword">import</span> perf.scadr._
    <span class="keyword">import</span> scale._
    <span class="keyword">type</span> <a title="edu.berkeley.cs.scads.perf.scadr.scale.Result" id="61260">Result</a> = perf.scadr.scale.<span title="edu.berkeley.cs.scads.perf.scadr.scale.Result">Result</span>

    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="61261">results</a> = <a href="#50033" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a>.<span title="[PairType &lt;: edu.berkeley.cs.avro.marker.AvroPair](ns: String)(implicit evidence$7: Manifest[PairType])edu.berkeley.cs.scads.storage.PairNamespace[PairType]">getNamespace</span><span title="(ns: String)(implicit evidence$7: Manifest[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" class="delimiter">[</span><span title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">Result</span><span class="delimiter">]</span><span title="(clazz: Class[_])scala.reflect.Manifest[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" class="delimiter">(</span><span title="java.lang.String(&quot;scadrScaleResults&quot;)" class="string">&quot;scadrScaleResults&quot;</span><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; Unit" id="61263">backup</a>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.perf.scadr.scale.Result]" id="61398">outfile</a> = <span title="[RecordType &lt;: org.apache.avro.generic.GenericContainer](file: java.io.File, codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[RecordType])org.apache.avro.file.DataFileWriter[RecordType]">AvroOutFile</span><span title="(file: java.io.File, codec: Option[org.apache.avro.file.CodecFactory])(implicit schema: edu.berkeley.cs.avro.runtime.package.TypedSchema[edu.berkeley.cs.scads.perf.scadr.scale.Result])org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.perf.scadr.scale.Result]" class="delimiter">[</span>perf.scadr.scale.<span title="edu.berkeley.cs.scads.perf.scadr.scale.Result">Result</span><span class="delimiter">]</span><span title="(implicit r: Manifest[edu.berkeley.cs.scads.perf.scadr.scale.Result])edu.berkeley.cs.avro.runtime.package.TypedSchema[edu.berkeley.cs.scads.perf.scadr.scale.Result]" class="delimiter">(</span><span title="java.lang.String(&quot;scadrScale.&quot;)" class="string">&quot;scadrScale.&quot;</span> <span title="(x$1: Any)java.lang.String">+</span> <span title="object java.lang.System">System</span>.<span title="()Long">currentTimeMillis</span> <span title="implicit deploylib.mesos.package.toFile : (str: String)java.io.File">+</span> <span title="java.lang.String(&quot;.avro&quot;)" class="string">&quot;.avro&quot;</span><span class="delimiter">)</span>
      <a href="#61261" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>,<span title="object None">None</span><span class="delimiter">)</span>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#61398" title="org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.perf.scadr.scale.Result]">outfile</a>.<a href="#61427" title="(x$1: edu.berkeley.cs.scads.perf.scadr.scale.Result)Unit">append</a><span class="delimiter">)</span>
      <a href="#61398" title="org.apache.avro.file.DataFileWriter[edu.berkeley.cs.scads.perf.scadr.scale.Result]">outfile</a>.<span title="()Unit">close</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.perf.ScatterPlot" id="61264">dataSizeResults</a> =
      <a title="Option[String]" id="61857" class="keyword">new</a> <span title="object edu.berkeley.cs.scads.perf.ScatterPlot">ScatterPlot</span><span class="delimiter">(</span>
        <a href="#61261" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(start: Option[org.apache.avro.generic.IndexedRecord], end: Option[org.apache.avro.generic.IndexedRecord], limit: Option[Int], offset: Option[Int], ascending: Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">getRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>
          .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#61558" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; Int">iteration</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
          .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#61569" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">threads</span> <span title="(x: Int)Boolean">==</span> <span title="Int(20)" class="int">20</span><span class="delimiter">)</span>
          .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; (Int, String))scala.collection.immutable.Map[(Int, String),Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result" id="61689">e</a> =&gt; <span title="(_1: Int, _2: String)(Int, String)" class="delimiter">(</span><a href="#61689" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">e</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">usersPerServer</span>, <a href="#61689" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">e</a>.<span title="=&gt; String">clusterAddress</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Seq[((Int, String), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])]">toSeq</span>
          .<span title="(f: ((Int, String), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]) =&gt; (Int, Int))(implicit bf: scala.collection.generic.CanBuildFrom[Seq[((Int, String), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])],(Int, Int),Seq[(Int, Int)]])Seq[(Int, Int)]">map</span> <a href="#61737" title="(Int, Int)" class="delimiter">{</a>
          <span class="keyword">case</span> <span title="(Int, Int)" class="delimiter">(</span><span class="delimiter">(</span><a title="Int" id="61742">users</a>,_<span class="delimiter">)</span>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="61743">results</a><span class="delimiter">)</span> =&gt;
            <span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#61742" title="Int">users</a>, <a href="#61743" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#61764" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>
              .<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#61789" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#61790" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
              .<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">.99</span><span class="delimiter">)</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>.<a title="Seq[(Int, Int)]" id="61851">toSeq</a>,
        title = <a title="Option[java.lang.String]" id="61852" class="string">&quot;Users/Server vs. Response Time&quot;</a>,
        xaxis = <a title="Option[java.lang.String]" id="61853" class="string">&quot;Users per server&quot;</a>,
        yaxis = <a title="Option[java.lang.String]" id="61854" class="string">&quot;99th Percentile Response Time&quot;</a>,
        xunit = <a title="Option[java.lang.String]" id="61855" class="string">&quot;users/server&quot;</a>,
        yunit = <a title="Option[java.lang.String]" id="61856" class="string">&quot;milliseconds&quot;</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.perf.ScatterPlot" id="61265">threadCountResults</a> =
      <a title="Option[String]" id="62055" class="keyword">new</a> <span title="object edu.berkeley.cs.scads.perf.ScatterPlot">ScatterPlot</span><span class="delimiter">(</span><a href="#61261" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>
			     .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#61863" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; Int">iteration</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">toSeq</span>
			     .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Int)scala.collection.immutable.Map[Int,Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a href="#61878" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">threads</span><span class="delimiter">)</span>
			     .<span title="(f: (Int, Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]) =&gt; (Int, Int))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[Int,Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]],(Int, Int),scala.collection.immutable.Map[Int,Int]])scala.collection.immutable.Map[Int,Int]">map</span> <a href="#61913" title="(Int, Int)" class="delimiter">{</a>
			       <span class="keyword">case</span> <span title="(Int, Int)" class="delimiter">(</span><a title="Int" id="61916">threads</a>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="61917">results</a><span class="delimiter">)</span> =&gt; 
				 <span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#61916" title="Int">threads</a>, <a href="#61917" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#61938" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>
           .<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#61963" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#61964" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
           .<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">.99</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>.<a title="Seq[(Int, Int)]" id="62049">toSeq</a>,
        title = <a title="Option[java.lang.String]" id="62050" class="string">&quot;ThreadCount vs. Responsetime&quot;</a>,
        xaxis = <a title="Option[java.lang.String]" id="62051" class="string">&quot;Number of threads per application server&quot;</a>,
        yaxis = <a title="Option[java.lang.String]" id="62052" class="string">&quot;99th Percentile ResponseTime&quot;</a>,
        xunit = <a title="Option[java.lang.String]" id="62053" class="string">&quot;threads&quot;</a>,
        yunit = <a title="Option[java.lang.String]" id="62054" class="string">&quot;milliseconds&quot;</a><span class="delimiter">)</span>

    <span class="keyword">def</span> <a title="(sizes: Seq[Int])Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]" id="61266">runDataSizes</a><span class="delimiter">(</span><a title="Seq[Int]" id="62059">sizes</a>: <span title="Seq[Int]">Seq</span><span class="delimiter">[</span>Int<span class="delimiter">]</span> = <span class="delimiter">(</span><span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">2</span> <span title="(end: Int)scala.collection.immutable.Range.Inclusive">to</span> <span title="Int(20)" class="int">20</span> <span title="(step: Int)scala.collection.immutable.Range">by</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>.<span title="(f: Int =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq[Int],Int,Seq[Int]])Seq[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.IndexedSeq.Coll,Int,scala.collection.immutable.IndexedSeq[Int]]" class="delimiter">(</span><a href="#62272" title="Int">_</a> <span title="(x: Int)Int">*</span> <span title="Int(10000)" class="int">10000</span><span class="delimiter">)</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#62059" title="Seq[Int]">sizes</a>.<span title="(f: Int =&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[Int],edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask,Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]])Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask,Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]]" class="delimiter">(</span><a title="Int" id="62076">numUsers</a> =&gt;
        <a title="Int" id="62097">ScadrScaleTask</a><span class="delimiter">(</span><a title="Int(10)" id="62091" class="int">10</a>,
          <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;)" id="62092" class="string">&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;</a>,
          <a title="Double(0.01)" id="62093" class="double">0.01</a>,
          iterations = <a title="Int(2)" id="62094" class="int">2</a>,
          runLengthMin = <a title="Int(2)" id="62095" class="int">2</a>,
          threads = <a title="Int(20)" id="62096" class="int">20</a><span class="delimiter">)</span>
          .<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">schedule</span><a href="#50035" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a title="Int" id="62120">ScadrLoaderTask</a><span class="delimiter">(</span><a title="Int(10)" id="62115" class="int">10</a>, <a title="Int(10)" id="62116" class="int">10</a>, usersPerServer=<a href="#62076" title="Int" id="62117">numUsers</a>, replicationFactor=<a title="Int(1)" id="62118" class="int">1</a>, followingCardinality=<a title="Int(10)" id="62119" class="int">10</a><span class="delimiter">)</span>.<a href="#50035" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>,
          <a href="#50033" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(numThreads: Seq[Int])Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]" id="61267">runThreads</a><span class="delimiter">(</span><a title="Seq[Int]" id="62326">numThreads</a>: <span title="Seq[Int]">Seq</span><span class="delimiter">[</span>Int<span class="delimiter">]</span> = <span class="delimiter">(</span><span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">10</span> <span title="(end: Int)scala.collection.immutable.Range.Inclusive">to</span> <span title="Int(100)" class="int">100</span> <span title="(step: Int)scala.collection.immutable.Range">by</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#62326" title="Seq[Int]">numThreads</a>.<span title="(f: Int =&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[Int],edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask,Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]])Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask,Seq[edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask]]" class="delimiter">(</span><a title="Int" id="62343">numThreads</a> =&gt;
        <a title="Int" id="62364">ScadrScaleTask</a><span class="delimiter">(</span><a title="Int(10)" id="62358" class="int">10</a>,
          <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;)" id="62359" class="string">&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;</a>,
          <a title="Double(0.01)" id="62360" class="double">0.01</a>,
          iterations = <a title="Int(2)" id="62361" class="int">2</a>,
          runLengthMin = <a title="Int(2)" id="62362" class="int">2</a>,
          threads = <a href="#62343" title="Int" id="62363">numThreads</a><span class="delimiter">)</span>
          .<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">schedule</span><a href="#50035" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a title="Int" id="62382">ScadrLoaderTask</a><span class="delimiter">(</span><a title="Int(10)" id="62377" class="int">10</a>, <a title="Int(10)" id="62378" class="int">10</a>, replicationFactor=<a title="Int(2)" id="62379" class="int">2</a>, followingCardinality=<a title="Int(10)" id="62380" class="int">10</a><span class="delimiter">)</span>.<a href="#50035" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>,
          <a href="#50033" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(dataPoints: Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])Seq[(Int, Long, Int, Int, String, Int, Int, Int, Int)]" id="61268">scaleResultsIter</a><span class="delimiter">(</span><a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="62485">dataPoints</a>: <span title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">Seq</span><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <a href="#61261" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">toSeq</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#62485" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">dataPoints</a>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62489" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">replicationFactor</span> <span title="(x: Int)Boolean">==</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62500" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">usersPerServer</span> <span title="(x: Int)Boolean">==</span> <span title="Int(60000)" class="int">60000</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62511" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">iterations</span> <span title="(x: Int)Boolean">==</span> <span title="Int(4)" class="int">4</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62522" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">threads</span> <span title="(x: Int)Boolean">==</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62533" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">runLengthMin</span> <span title="(x: Int)Boolean">==</span> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62544" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; Int">iteration</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">toSeq</span>
        .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; (String, Int))scala.collection.immutable.Map[(String, Int),Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result" id="62561">r</a> =&gt; <span title="(_1: String, _2: Int)(String, Int)" class="delimiter">(</span><a href="#62561" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; String">clusterAddress</span>, <a href="#62561" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">r</a>.<span title="=&gt; Int">iteration</span><span class="delimiter">)</span><span class="delimiter">)</span>
        .<span title="(f: ((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]) =&gt; (Int, Long, Int, Int, String, Int, Int, Int, Int))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[(String, Int),Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]],(Int, Long, Int, Int, String, Int, Int, Int, Int),scala.collection.immutable.Iterable[(Int, Long, Int, Int, String, Int, Int, Int, Int)]])scala.collection.immutable.Iterable[(Int, Long, Int, Int, String, Int, Int, Int, Int)]">map</span> <a href="#62603" title="(Int, Long, Int, Int, String, Int, Int, Int, Int)" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="(Int, Long, Int, Int, String, Int, Int, Int, Int)" class="delimiter">(</span><span class="delimiter">(</span><a title="String" id="62608">exp</a>, <a title="Int" id="62609">iter</a><span class="delimiter">)</span>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="62610">results</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.Histogram" id="62611">aggHist</a> = <a href="#62610" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#62631" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>.<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#62656" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#62657" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Int" id="62612">skips</a> = <a href="#62610" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],Int,Seq[Int]])Seq[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,Int,Seq[Int]]" class="delimiter">(</span><a href="#62668" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; Int">skips</span><span class="delimiter">)</span>.<span title="(implicit num: Numeric[Int])Int">sum</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask" id="62613">loaderConfig</a> = <a href="#62610" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask" id="62614">clientConfig</a> = <a href="#62610" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>
          <span title="(_1: Int, _2: Long, _3: Int, _4: Int, _5: String, _6: Int, _7: Int, _8: Int, _9: Int)(Int, Long, Int, Int, String, Int, Int, Int, Int)" class="delimiter">(</span><a href="#62613" title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</a>.<span title="=&gt; Int">numServers</span>, <a href="#62611" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="=&gt; Long">totalRequests</span>, <a href="#62611" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">0.99</span><span class="delimiter">)</span>, <a href="#62614" title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</a>.<span title="=&gt; Int">numClients</span>, <a href="#62614" title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</a>.<span title="=&gt; String">executorClass</span>, <a href="#62609" title="Int">iter</a>, <a href="#62611" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.9)" class="double">0.90</span><span class="delimiter">)</span>, <a href="#62612" title="Int">skips</a>, <a href="#62610" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>.<span title="=&gt; Seq[(Int, Long, Int, Int, String, Int, Int, Int, Int)]">toSeq</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(dataPoints: Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])Seq[(Int, Long, Int, Double, Int, String, Int, Int, Int)]" id="61269">scaleResults</a><span class="delimiter">(</span><a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="62780">dataPoints</a>: <span title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">Seq</span><span class="delimiter">[</span>Result<span class="delimiter">]</span> = <a href="#61261" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">toSeq</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <a href="#62780" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">dataPoints</a>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62784" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">replicationFactor</span> <span title="(x: Int)Boolean">==</span> <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62795" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">usersPerServer</span> <span title="(x: Int)Boolean">==</span> <span title="Int(60000)" class="int">60000</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62806" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">iterations</span> <span title="(x: Int)Boolean">==</span> <span title="Int(4)" class="int">4</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62817" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">threads</span> <span title="(x: Int)Boolean">==</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62828" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">runLengthMin</span> <span title="(x: Int)Boolean">==</span> <span title="Int(5)" class="int">5</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#62839" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; Int">iteration</span> <span title="(x: Int)Boolean">!=</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">toSeq</span>
        .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Int)scala.collection.immutable.Map[Int,Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result" id="62854">r</a> =&gt; <a href="#62854" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">numServers</span><span class="delimiter">)</span>
        .<span title="(f: (Int, Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]) =&gt; (Int, Long, Int, Double, Int, String, Int, Int, Int))(implicit bf: scala.collection.generic.CanBuildFrom[scala.collection.immutable.Map[Int,Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]],(Int, Long, Int, Double, Int, String, Int, Int, Int),scala.collection.immutable.Iterable[(Int, Long, Int, Double, Int, String, Int, Int, Int)]])scala.collection.immutable.Iterable[(Int, Long, Int, Double, Int, String, Int, Int, Int)]">map</span> <a href="#62876" title="(Int, Long, Int, Double, Int, String, Int, Int, Int)" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="(Int, Long, Int, Double, Int, String, Int, Int, Int)" class="delimiter">(</span><a title="Int" id="62879">numServers</a>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="62880">results</a><span class="delimiter">)</span> =&gt;
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.Histogram" id="62881">aggHist</a> = <a href="#62880" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#62901" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>.<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#62926" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#62927" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="Int" id="62882">skips</a> = <a href="#62880" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Int)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],Int,Seq[Int]])Seq[Int]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,Int,Seq[Int]]" class="delimiter">(</span><a href="#62938" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; Int">skips</span><span class="delimiter">)</span>.<span title="(implicit num: Numeric[Int])Int">sum</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask" id="62883">loaderConfig</a> = <a href="#62880" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask" id="62884">clientConfig</a> = <a href="#62880" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>

          <span title="(_1: Int, _2: Long, _3: Int, _4: Double, _5: Int, _6: String, _7: Int, _8: Int, _9: Int)(Int, Long, Int, Double, Int, String, Int, Int, Int)" class="delimiter">(</span><a href="#62883" title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</a>.<span title="=&gt; Int">numServers</span>, <a href="#62881" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="=&gt; Long">totalRequests</span>, <a href="#62881" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">0.99</span><span class="delimiter">)</span>, <a href="#62881" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="=&gt; Double">stddev</span>, <a href="#62884" title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</a>.<span title="=&gt; Int">numClients</span>, <a href="#62884" title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</a>.<span title="=&gt; String">executorClass</span>, <a href="#62881" title="edu.berkeley.cs.scads.perf.Histogram">aggHist</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.9)" class="double">0.90</span><span class="delimiter">)</span>, <a href="#62882" title="Int">skips</a>, <a href="#62880" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span>
      <span class="delimiter">}</span>.<span title="=&gt; Seq[(Int, Long, Int, Double, Int, String, Int, Int, Int)]">toSeq</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="(numServers: Int, executor: String)Unit" id="61270">runScaleTest</a><span class="delimiter">(</span><a title="Int" id="63047">numServers</a>: <span title="Int">Int</span>, <a title="String" id="63048">executor</a>: <span title="String">String</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a href="#63052" title="(Seq[edu.berkeley.cs.scads.comm.JvmTask], edu.berkeley.cs.scads.storage.ScadsCluster)" class="delimiter">(</a><a href="#63051" title="Seq[edu.berkeley.cs.scads.comm.JvmTask]" id="63052">engineTasks</a>, <a href="#63051" title="edu.berkeley.cs.scads.storage.ScadsCluster" id="63053">cluster</a><span class="delimiter">)</span> = <a title="Int" id="63076">ScadrLoaderTask</a><span class="delimiter">(</span><a href="#63047" title="Int" id="63071">numServers</a>, <a href="#63047" title="Int">numServers</a><a title="Int" id="63072">/</a><span title="Int(2)" class="int">2</span>, replicationFactor=<a title="Int(2)" id="63073" class="int">2</a>, followingCardinality=<a title="Int(50)" id="63074" class="int">50</a>, usersPerServer = <a title="Int(60000)" id="63075" class="int">60000</a><span class="delimiter">)</span>.<a href="#50035" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)(Seq[edu.berkeley.cs.scads.comm.JvmTask], edu.berkeley.cs.scads.storage.ScadsCluster)">delayedCluster</a>

      <span class="keyword">val</span> <a title="Seq[edu.berkeley.cs.scads.comm.JvmTask]" id="63054">workloadTasks</a> = <a title="Int" id="63111">ScadrScaleTask</a><span class="delimiter">(</span>
        <a href="#63047" title="Int">numServers</a><a title="Int" id="63105">/</a><span title="Int(2)" class="int">2</span>,
        <a href="#63048" title="String" id="63106">executor</a>,
        <a title="Double(0.01)" id="63107" class="double">0.01</a>,
        iterations = <a title="Int(4)" id="63108" class="int">4</a>,
        runLengthMin = <a title="Int(5)" id="63109" class="int">5</a>,
        threads = <a title="Int(10)" id="63110" class="int">10</a>
      <span class="delimiter">)</span>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)Seq[edu.berkeley.cs.scads.comm.JvmTask]">delayedSchedule</span><a href="#50035" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a><a href="#63053" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>, <a href="#50033" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span>

      <a href="#50036" title="=&gt; deploylib.mesos.RemoteServiceScheduler">serviceScheduler</a>.<span title="(processes: Seq[edu.berkeley.cs.scads.comm.JvmTask])Unit">scheduleExperiment</span><span class="delimiter">(</span><a href="#63052" title="Seq[edu.berkeley.cs.scads.comm.JvmTask]">engineTasks</a> <span title="(that: scala.collection.GenTraversableOnce[edu.berkeley.cs.scads.comm.JvmTask])(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.comm.JvmTask],edu.berkeley.cs.scads.comm.JvmTask,Seq[edu.berkeley.cs.scads.comm.JvmTask]])Seq[edu.berkeley.cs.scads.comm.JvmTask]">++</span> <a href="#63054" title="Seq[edu.berkeley.cs.scads.comm.JvmTask]">workloadTasks</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.piql.scadr.ScadrClient" id="61271">test</a> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="63152">cluster</a> = <a title="Int" id="63170">ScadrLoaderTask</a><span class="delimiter">(</span><a title="Int(10)" id="63165" class="int">10</a>, <a title="Int(10)" id="63166" class="int">10</a>, replicationFactor = <a title="Int(2)" id="63167" class="int">2</a>, followingCardinality = <a title="Int(10)" id="63168" class="int">10</a>, usersPerServer = <a title="Int(1000)" id="63169" class="int">1000</a><span class="delimiter">)</span>.<span title="()edu.berkeley.cs.scads.storage.ScadsCluster">newTestCluster</span>
      <a title="Int" id="63191">ScadrScaleTask</a><span class="delimiter">(</span>
        <a title="Int(5)" id="63185" class="int">5</a>,
        <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;)" id="63186" class="string">&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;</a>,
        <a title="Double(0.01)" id="63187" class="double">0.01</a>,
        iterations = <a title="Int(1)" id="63188" class="int">1</a>,
        runLengthMin = <a title="Int(5)" id="63189" class="int">5</a>,
        threads=<a title="Int(10)" id="63190" class="int">10</a>
      <span class="delimiter">)</span>.<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster)scala.collection.immutable.IndexedSeq[java.lang.Thread]">testLocally</span><span class="delimiter">(</span><a href="#63152" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a><span class="delimiter">)</span>

      <span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient" class="keyword">new</span> <span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">ScadrClient</span><span class="delimiter">(</span><a href="#63152" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>, <a href="#63192" title="edu.berkeley.cs.scads.piql.ParallelExecutor with edu.berkeley.cs.scads.piql.DebugExecutor" class="keyword">new</a> <a title="anonymous class $anon extends edu.berkeley.cs.scads.piql.ParallelExecutor with edu.berkeley.cs.scads.piql.DebugExecutor" id="63192">ParallelExecutor</a> <span class="keyword">with</span> <span title="edu.berkeley.cs.scads.piql.DebugExecutor">DebugExecutor</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; Seq[(Int, Int, Int, Int, Int, Int, Double)]" id="61272">sweetSpotResults</a> = <span class="delimiter">{</span>
      <a href="#61261" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#63202" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">numServers</span> <span title="(x: Int)Boolean">==</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#63211" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">usersPerServer</span> <span title="(x: Int)Boolean">==</span> <span title="Int(60000)" class="int">60000</span><span class="delimiter">)</span>
        .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#63218" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">iterations</span> <span title="(x: Int)Boolean">==</span> <span title="Int(3)" class="int">3</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">toSeq</span>
        .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; (String, Int))scala.collection.immutable.Map[(String, Int),Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result" id="63233">r</a> =&gt; <span title="(_1: String, _2: Int)(String, Int)" class="delimiter">(</span><a href="#63233" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; String">experimentAddress</span>, <a href="#63233" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">r</a>.<span title="=&gt; Int">iteration</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Seq[((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])]">toSeq</span>
        .<span title="(f: ((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]) =&gt; (Int, Int, Int, Int, Int, Int, Double))(implicit bf: scala.collection.generic.CanBuildFrom[Seq[((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])],(Int, Int, Int, Int, Int, Int, Double),Seq[(Int, Int, Int, Int, Int, Int, Double)]])Seq[(Int, Int, Int, Int, Int, Int, Double)]">map</span> <a href="#63268" title="(Int, Int, Int, Int, Int, Int, Double)" class="delimiter">{</a>
        <span class="keyword">case</span> <span title="(Int, Int, Int, Int, Int, Int, Double)" class="delimiter">(</span><a title="(String, Int)" id="63271">resultId</a>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="63272">perThreadData</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.Histogram" id="63273">aggregateTimes</a> = <a href="#63272" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">perThreadData</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#63292" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>.<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#63317" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#63318" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask" id="63274">clientConfig</a> = <a href="#63272" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">perThreadData</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>
          <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask" id="63275">loaderConfig</a> = <a href="#63272" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">perThreadData</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">head</span>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>
          <span title="(_1: Int, _2: Int, _3: Int, _4: Int, _5: Int, _6: Int, _7: Double)(Int, Int, Int, Int, Int, Int, Double)" class="delimiter">(</span><a href="#63274" title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</a>.<span title="=&gt; Int">numClients</span>, <a href="#63274" title="edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</a>.<span title="=&gt; Int">threads</span>, <a href="#63275" title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</a>.<span title="=&gt; Int">replicationFactor</span>, <a href="#63273" title="edu.berkeley.cs.scads.perf.Histogram">aggregateTimes</a>.<span title="=&gt; Long">totalRequests</span>.<span title="=&gt; Int">toInt</span>, <a href="#63273" title="edu.berkeley.cs.scads.perf.Histogram">aggregateTimes</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.9)" class="double">0.90</span><span class="delimiter">)</span>, <a href="#63273" title="edu.berkeley.cs.scads.perf.Histogram">aggregateTimes</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">0.99</span><span class="delimiter">)</span>, <a href="#63273" title="edu.berkeley.cs.scads.perf.Histogram">aggregateTimes</a>.<span title="=&gt; Double">stddev</span><span class="delimiter">)</span>
        <span class="delimiter">}</span>
      <span class="delimiter">}</span>
    <span class="delimiter">}</span>

    <span class="keyword">def</span> <a title="=&gt; edu.berkeley.cs.scads.perf.ScatterPlot" id="61273">sweetSpotGraph</a> =
      <a title="Option[String]" id="63543" class="keyword">new</a> <span title="object edu.berkeley.cs.scads.perf.ScatterPlot">ScatterPlot</span><span class="delimiter">(</span>
        <a href="#61261" title="=&gt; edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">results</a>.<span title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">iterateOverRange</span><span class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span>
          .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#63364" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">numServers</span> <span title="(x: Int)Boolean">==</span> <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>
          .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#63373" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</span>.<span title="=&gt; Int">usersPerServer</span> <span title="(x: Int)Boolean">==</span> <span title="Int(60000)" class="int">60000</span><span class="delimiter">)</span>
          .<span title="(p: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; Boolean)Iterator[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">filter</span><span class="delimiter">(</span><a href="#63380" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; Int">iterations</span> <span title="(x: Int)Boolean">==</span> <span title="Int(3)" class="int">3</span><span class="delimiter">)</span>.<span title="=&gt; Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">toSeq</span>
          .<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; (String, Int))scala.collection.immutable.Map[(String, Int),Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]]">groupBy</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result" id="63395">r</a> =&gt; <span title="(_1: String, _2: Int)(String, Int)" class="delimiter">(</span><a href="#63395" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">r</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">clientConfig</span>.<span title="=&gt; String">experimentAddress</span>, <a href="#63395" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">r</a>.<span title="=&gt; Int">iteration</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Seq[((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])]">toSeq</span>
          .<span title="(f: ((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]) =&gt; (Int, Int))(implicit bf: scala.collection.generic.CanBuildFrom[Seq[((String, Int), Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result])],(Int, Int),Seq[(Int, Int)]])Seq[(Int, Int)]">map</span> <a href="#63433" title="Seq[(Int, Int)]" id="63537" class="delimiter">{</a>
          <span class="keyword">case</span> <span title="(Int, Int)" class="delimiter">(</span><a title="(String, Int)" id="63436">resultId</a>, <a title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]" id="63437">perThreadData</a><span class="delimiter">)</span> =&gt; <span class="delimiter">{</span>
            <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.Histogram" id="63438">aggregateTimes</a> = <a href="#63437" title="Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result]">perThreadData</a>.<span title="(f: edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result =&gt; edu.berkeley.cs.scads.perf.Histogram)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result],edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]])Seq[edu.berkeley.cs.scads.perf.Histogram]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.perf.Histogram,Seq[edu.berkeley.cs.scads.perf.Histogram]]" class="delimiter">(</span><a href="#63455" title="edu.berkeley.cs.scads.piql.modeling.Experiments.ScadrScaleExperiment.Result">_</a>.<span title="=&gt; edu.berkeley.cs.scads.perf.Histogram">times</span><span class="delimiter">)</span>.<span title="(op: (edu.berkeley.cs.scads.perf.Histogram, edu.berkeley.cs.scads.perf.Histogram) =&gt; edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">reduceLeft</span><span class="delimiter">(</span><a href="#63480" title="edu.berkeley.cs.scads.perf.Histogram">_</a> <span title="(left: edu.berkeley.cs.scads.perf.Histogram)edu.berkeley.cs.scads.perf.Histogram">+</span> <a href="#63481" title="edu.berkeley.cs.scads.perf.Histogram">_</a><span class="delimiter">)</span>
            <span title="(_1: Int, _2: Int)(Int, Int)" class="delimiter">(</span><a href="#63438" title="edu.berkeley.cs.scads.perf.Histogram">aggregateTimes</a>.<span title="=&gt; Long">totalRequests</span>.<span title="=&gt; Int">toInt</span>, <a href="#63438" title="edu.berkeley.cs.scads.perf.Histogram">aggregateTimes</a>.<span title="(fraction: Double)Int">quantile</span><span class="delimiter">(</span><span title="Double(0.99)" class="double">0.99</span><span class="delimiter">)</span><span class="delimiter">)</span>
          <span class="delimiter">}</span>
        <span class="delimiter">}</span>,
        title = <a title="Option[java.lang.String]" id="63538" class="string">&quot;TotalReuqests vs. 99thth percentile responsetime&quot;</a>,
        xaxis = <a title="Option[java.lang.String]" id="63539" class="string">&quot;total Scadr Requests &quot;</a>,
        yaxis = <a title="Option[java.lang.String]" id="63540" class="string">&quot;99th Percentile ResponseTime&quot;</a>,
        xunit = <a title="Option[java.lang.String]" id="63541" class="string">&quot;requests&quot;</a>,
        yunit = <a title="Option[java.lang.String]" id="63542" class="string">&quot;milliseconds&quot;</a><span class="delimiter">)</span>


    <span class="keyword">def</span> <a title="=&gt; Unit" id="61274">findSweetSpot</a>: <span title="Unit">Unit</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="63546">storageNodes</a> = <span title="Int(10)" class="int">10</span>
      <span class="keyword">val</span> <a title="Int" id="63547">usersPerServer</a> = <span title="Int(60000)" class="int">60000</span>

      <span title="(xs: Int*)List[Int]">List</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="Int(5)" class="int">5</span>, <span title="Int(10)" class="int">10</span><span class="delimiter">)</span>.<span title="(f: Int =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a title="Int" id="63588">numClients</a> =&gt; <span class="delimiter">{</span>
        <span title="(xs: Int*)List[Int]">List</span><span class="delimiter">(</span><span title="Int(10)" class="int">10</span>, <span title="Int(20)" class="int">20</span>, <span title="Int(30)" class="int">30</span><span class="delimiter">)</span>.<span title="(f: Int =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a title="Int" id="63629">numThreads</a> =&gt; <span class="delimiter">{</span>
          <span title="(xs: Int*)List[Int]">List</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="Int(2)" class="int">2</span><span class="delimiter">)</span>.<span title="(f: Int =&gt; edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask)Unit">foreach</span><span class="delimiter">(</span><a title="Int" id="63670">replication</a> =&gt; <span class="delimiter">{</span>
            <a title="Int" id="63691">ScadrScaleTask</a><span class="delimiter">(</span>
              <a href="#63588" title="Int" id="63685">numClients</a>,
              <a title="java.lang.String(&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;)" id="63686" class="string">&quot;edu.berkeley.cs.scads.piql.ParallelExecutor&quot;</a>,
              <a title="Double(0.01)" id="63687" class="double">0.01</a>,
              iterations = <a title="Int(3)" id="63688" class="int">3</a>,
              runLengthMin = <a title="Int(3)" id="63689" class="int">3</a>,
              threads = <a href="#63629" title="Int" id="63690">numThreads</a><span class="delimiter">)</span>
              .<span title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, resultCluster: edu.berkeley.cs.scads.storage.ScadsCluster)(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.perf.scadr.scale.ScadrScaleTask">schedule</span><a href="#50035" title="=&gt; Seq[edu.berkeley.cs.scads.comm.S3CachedJar]" class="delimiter">(</a>
              <a title="Int" id="63709">ScadrLoaderTask</a><span class="delimiter">(</span>
                numServers = <a title="Int(10)" id="63704" class="int">10</a>,
                numLoaders = <a title="Int(10)" id="63705" class="int">10</a>,
                usersPerServer = <a href="#63547" title="Int" id="63706">usersPerServer</a>,
                replicationFactor = <a href="#63670" title="Int" id="63707">replication</a>,
                followingCardinality = <a title="Int(10)" id="63708" class="int">10</a><span class="delimiter">)</span>.<a href="#50035" title="(implicit classpath: Seq[edu.berkeley.cs.scads.comm.ClassSource], implicit scheduler: deploylib.mesos.ExperimentScheduler, implicit zookeeperRoot: edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode)edu.berkeley.cs.scads.storage.ScadsCluster">newCluster</a>,
              <a href="#50033" title="=&gt; edu.berkeley.cs.scads.storage.ScadsCluster">resultsCluster</a><span class="delimiter">)</span>
          <span class="delimiter">}</span><span class="delimiter">)</span>
        <span class="delimiter">}</span><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>