<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>collection/ScadrQueryProvider.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> edu.berkeley.cs
<span class="keyword">package</span> scads
<span class="keyword">package</span> piql
<span class="keyword">package</span> modeling

<span class="keyword">import</span> storage._
<span class="keyword">import</span> piql.opt._
<span class="keyword">import</span> piql.plans._
<span class="keyword">import</span> piql.scadr._
<span class="keyword">import</span> perf.scadr._

<span class="keyword">import</span> net.lag.logging.Logger
<span class="keyword">import</span> scala.util.Random
<span class="keyword">import</span> scala.collection.mutable.ArrayBuffer

<span class="comment">//move to scadr data</span>
<span class="keyword">abstract</span> <span class="keyword">trait</span> <a title="trait UserGenerator extends java.lang.Object with ScalaObject" id="9650">UserGenerator</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">val</span> <a title="=&gt; Int" id="43453">numUsers</a>: <span title="Int">Int</span>

  <span class="keyword">protected</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="(idx: Int)String" id="43454">toUserName</a><span class="delimiter">(</span><a title="Int" id="43458">idx</a>: <span title="Int">Int</span><span class="delimiter">)</span> = <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;User%010d&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#43458" title="Int">idx</a><span class="delimiter">)</span>
  <span class="keyword">protected</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="(rand: scala.util.Random)String" id="43455">randomUserName</a><span class="delimiter">(</span><a title="scala.util.Random" id="43468">rand</a>: <span title="scala.util.Random">Random</span><span class="delimiter">)</span> = <a href="#43454" title="(idx: Int)String">toUserName</a><span class="delimiter">(</span><a href="#43468" title="scala.util.Random">rand</a>.<span title="(n: Int)Int">nextInt</span><span class="delimiter">(</span><a href="#43453" title="=&gt; Int">numUsers</a><span class="delimiter">)</span> <span title="(x: Int)Int">+</span> <span title="Int(1)" class="int">1</span><span class="delimiter">)</span>
<span class="delimiter">}</span>

<span class="keyword">class</span> <a title="class ScadrQueryProvider extends edu.berkeley.cs.scads.piql.modeling.QueryProvider with ScalaObject" id="9651">ScadrQueryProvider</a> <a href="#9651" title="ScalaObject" class="keyword">extends</a> <a href="QueryRunnerTask.scala.html#9635" title="edu.berkeley.cs.scads.piql.modeling.QueryProvider">QueryProvider</a> <span class="delimiter">{</span>
  <span class="keyword">val</span> <a title="net.lag.logging.Logger" id="43478">logger</a> = <span title="()net.lag.logging.Logger">Logger</span><span class="delimiter">(</span><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="(cluster: edu.berkeley.cs.scads.storage.ScadsCluster, executor: edu.berkeley.cs.scads.piql.package.QueryExecutor)IndexedSeq[edu.berkeley.cs.scads.piql.modeling.QuerySpec]" id="43480">getQueryList</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.ScadsCluster" id="43588">cluster</a>: <span title="edu.berkeley.cs.scads.storage.ScadsCluster">ScadsCluster</span>, <a title="edu.berkeley.cs.scads.piql.package.QueryExecutor" id="43589">executor</a>: <span title="edu.berkeley.cs.scads.piql.package.QueryExecutor">QueryExecutor</span><span class="delimiter">)</span>: <span title="IndexedSeq[edu.berkeley.cs.scads.piql.modeling.QuerySpec]">IndexedSeq</span><span class="delimiter">[</span>QuerySpec<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">implicit</span> <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.package.QueryExecutor" id="43591">exec</a> = <a href="#43589" title="edu.berkeley.cs.scads.piql.package.QueryExecutor">executor</a>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode" id="43592">clusterConfig</a> = <a href="#43588" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>.<span title="=&gt; edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">root</span>.<span title="(name: String, seqNumber: Option[Int], timeout: Long, unit: java.util.concurrent.TimeUnit)edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">awaitChild</span><span class="delimiter">(</span><span title="java.lang.String(&quot;clusterReady&quot;)" class="string">&quot;clusterReady&quot;</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.scadr.ScadrClient" id="43593">scadrClient</a> = <span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient" class="keyword">new</span> <span title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">ScadrClient</span><span class="delimiter">(</span><a href="#43588" title="edu.berkeley.cs.scads.storage.ScadsCluster">cluster</a>, <a href="#43589" title="edu.berkeley.cs.scads.piql.package.QueryExecutor">executor</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask" id="43594">loaderConfig</a> = classOf<span title="java.lang.Class[edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask](classOf[edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask])" class="delimiter">[</span>ScadrLoaderTask<span class="delimiter">]</span>.<span title="()edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">newInstance</span>.<span title="(data: Array[Byte])edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">parse</span><span class="delimiter">(</span><a href="#43592" title="edu.berkeley.cs.scads.comm.ZooKeeperProxy#ZooKeeperNode">clusterConfig</a>.<span title="=&gt; Array[Byte]">data</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="Int" id="43595">maxUser</a> = <span class="delimiter">(</span><a href="#43594" title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</a>.<span title="=&gt; Int">numServers</span> <span title="(x: Int)Int">/</span> <a href="#43594" title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</a>.<span title="=&gt; Int">replicationFactor</span><span class="delimiter">)</span> <span title="(x: Int)Int">*</span> <a href="#43594" title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</a>.<span title="=&gt; Int">usersPerServer</span>
    <a href="#43478" title="=&gt; net.lag.logging.Logger">logger</a>.<span title="(msg: String, items: Any*)Unit">info</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Initalizing ScadrQueryProvider with %d users&quot;)" class="string">&quot;Initalizing ScadrQueryProvider with %d users&quot;</span>, <a href="#43595" title="Int">maxUser</a><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="ScadrQueryProvider.this.RandomUser" id="43596">randomUser</a> = <a href="#43751" title="(numUsers: Int)ScadrQueryProvider.this.RandomUser">RandomUser</a><span class="delimiter">(</span><a href="#43595" title="Int">maxUser</a><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.modeling.CardinalityList" id="43597">perPage</a> = <a href="QueryRunnerTask.scala.html#30952" title="(values: IndexedSeq[Int])edu.berkeley.cs.scads.piql.modeling.CardinalityList">CardinalityList</a><span class="delimiter">(</span><span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">10</span> <span title="(end: Int)scala.collection.immutable.Range.Inclusive">to</span> <span title="Int(50)" class="int">50</span> <span title="(step: Int)scala.collection.immutable.Range">by</span> <span title="Int(10)" class="int">10</span> <span title="scala.collection.immutable.IndexedSeq[Int]">toIndexedSeq</span><span class="delimiter">)</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.modeling.CardinalityList" id="43598">numSubscriptions</a> = <a href="QueryRunnerTask.scala.html#30952" title="(values: IndexedSeq[Int])edu.berkeley.cs.scads.piql.modeling.CardinalityList">CardinalityList</a><span class="delimiter">(</span><span title="implicit scala.LowPriorityImplicits.intWrapper : (x: Int)scala.runtime.RichInt" class="int">10</span> <span title="(end: Int)scala.collection.immutable.Range.Inclusive">to</span> <span title="Int(50)" class="int">50</span> <span title="(step: Int)scala.collection.immutable.Range">by</span> <span title="Int(10)" class="int">10</span> <span title="scala.collection.immutable.IndexedSeq[Int]">toIndexedSeq</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="ScadrQueryProvider.this.RandomSubscriptionList" id="43599">localSubscriptionList</a> = <a href="#43989" title="(numUsers: Int, cardinalityList: IndexedSeq[Int])ScadrQueryProvider.this.RandomSubscriptionList">RandomSubscriptionList</a><span class="delimiter">(</span><a href="#43595" title="Int">maxUser</a>, <a href="#43598" title="edu.berkeley.cs.scads.piql.modeling.CardinalityList">numSubscriptions</a>.<a href="QueryRunnerTask.scala.html#30954" title="=&gt; IndexedSeq[Int]">values</a><span class="delimiter">)</span>

    <span class="comment">// index lookup</span>
    <span class="comment">/*
    val findSubscription = (
      subscriptions.where(&quot;subscriptions.owner&quot;.a === (0.?))
  		 .where(&quot;subscriptions.target&quot;.a === (1.?))
      ).toPiql(&quot;findSubscription&quot;)
    */</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.opt.OptimizedQuery" id="43600">indexLookupSubscriptions</a> = <span title="edu.berkeley.cs.scads.piql.opt.OptimizedQuery" class="keyword">new</span> <span title="edu.berkeley.cs.scads.piql.opt.OptimizedQuery">OptimizedQuery</span><span class="delimiter">(</span>
      <span title="(a: java.lang.String)Option[java.lang.String]" class="string">&quot;indexLookupSubscriptions&quot;</span>,
      <span title="(namespace: edu.berkeley.cs.scads.piql.package.Namespace, key: edu.berkeley.cs.scads.piql.package.KeyGenerator)edu.berkeley.cs.scads.piql.plans.IndexLookup">IndexLookup</span><span class="delimiter">(</span>
        <a href="#43593" title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">scadrClient</a>.<span title="(ns: edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.scadr.Subscription])edu.berkeley.cs.scads.piql.package#Namespace">subscriptions</span>,
        <span class="delimiter">(</span><span title="implicit edu.berkeley.cs.scads.piql.package.toParameter : (o: Double)java.lang.Object{def ?: edu.berkeley.cs.scads.piql.plans.ParameterValue}" class="double">0.</span><span title="=&gt; edu.berkeley.cs.scads.piql.plans.ParameterValue">?</span><span class="delimiter">)</span> <a href="#44161" title="(x: edu.berkeley.cs.scads.piql.plans.ParameterValue)List[edu.berkeley.cs.scads.piql.plans.ParameterValue]">::</a> <span title="object Nil">Nil</span>
      <span class="delimiter">)</span>,
      <a href="#43589" title="edu.berkeley.cs.scads.piql.package.QueryExecutor">executor</a>
    <span class="delimiter">)</span>
    
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.opt.OptimizedQuery" id="43601">indexLookupUsers</a> = <span title="edu.berkeley.cs.scads.piql.opt.OptimizedQuery" class="keyword">new</span> <span title="edu.berkeley.cs.scads.piql.opt.OptimizedQuery">OptimizedQuery</span><span class="delimiter">(</span>
      <span title="(a: java.lang.String)Option[java.lang.String]" class="string">&quot;indexLookupUsers&quot;</span>,
      <span title="(namespace: edu.berkeley.cs.scads.piql.package.Namespace, key: edu.berkeley.cs.scads.piql.package.KeyGenerator)edu.berkeley.cs.scads.piql.plans.IndexLookup">IndexLookup</span><span class="delimiter">(</span>
        <a href="#43593" title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">scadrClient</a>.<span title="(ns: edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.scadr.User])edu.berkeley.cs.scads.piql.package#Namespace">users</span>,
        <span class="delimiter">(</span><span title="implicit edu.berkeley.cs.scads.piql.package.toParameter : (o: Double)java.lang.Object{def ?: edu.berkeley.cs.scads.piql.plans.ParameterValue}" class="double">0.</span><span title="=&gt; edu.berkeley.cs.scads.piql.plans.ParameterValue">?</span><span class="delimiter">)</span> <a href="#44286" title="(x: edu.berkeley.cs.scads.piql.plans.ParameterValue)List[edu.berkeley.cs.scads.piql.plans.ParameterValue]">::</a> <span title="object Nil">Nil</span>
      <span class="delimiter">)</span>,
      <a href="#43589" title="edu.berkeley.cs.scads.piql.package.QueryExecutor">executor</a>
    <span class="delimiter">)</span>
    
    <span class="comment">// index scan</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.opt.OptimizedQuery" id="43602">indexScanSubscriptions</a> = <a href="#43593" title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">scadrClient</a>.<span title="(ns: edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.scadr.Subscription])edu.berkeley.cs.scads.piql.plans.Relation">subscriptions</span>.<span title="(predicate: edu.berkeley.cs.scads.piql.plans.Predicate)edu.berkeley.cs.scads.piql.plans.Selection">where</span><span class="delimiter">(</span><span title="implicit edu.berkeley.cs.scads.piql.package.toAttr : (s: String)java.lang.Object{def a: edu.berkeley.cs.scads.piql.plans.UnboundAttributeValue}" class="string">&quot;owner&quot;</span>.<span title="=&gt; edu.berkeley.cs.scads.piql.plans.UnboundAttributeValue">a</span> <span title="(value: edu.berkeley.cs.scads.piql.plans.Value)edu.berkeley.cs.scads.piql.plans.EqualityPredicate">===</span> <span class="delimiter">(</span><span title="implicit edu.berkeley.cs.scads.piql.package.toParameter : (o: Double)java.lang.Object{def ?: edu.berkeley.cs.scads.piql.plans.ParameterValue}" class="double">0.</span><span title="=&gt; edu.berkeley.cs.scads.piql.plans.ParameterValue">?</span><span class="delimiter">)</span><span class="delimiter">)</span>
						  .<span title="(parameter: edu.berkeley.cs.scads.piql.plans.ParameterValue, max: Int)edu.berkeley.cs.scads.piql.plans.StopAfter">limit</span><a href="#43591" title="implicit edu.berkeley.cs.scads.piql.package.toPiql : (logicalPlan: edu.berkeley.cs.scads.piql.plans.LogicalPlan)(implicit executor: edu.berkeley.cs.scads.piql.package#QueryExecutor)java.lang.Object{def toPiql(queryName: Option[String]): edu.berkeley.cs.scads.piql.opt.OptimizedQuery; def toPiql$default$1: Option[String]}" class="delimiter">(</a><span title="implicit edu.berkeley.cs.scads.piql.package.toParameter : (o: Double)java.lang.Object{def ?: edu.berkeley.cs.scads.piql.plans.ParameterValue}" class="double">1.</span><span title="=&gt; edu.berkeley.cs.scads.piql.plans.ParameterValue">?</span>, <span title="Int(10000)" class="int">10000</span><span class="delimiter">)</span>
						  .<span title="(queryName: Option[String])edu.berkeley.cs.scads.piql.opt.OptimizedQuery">toPiql</span><span class="delimiter">(</span><span title="(a: java.lang.String)Option[java.lang.String]" class="string">&quot;indexScanSubscriptions&quot;</span><span class="delimiter">)</span>

    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.opt.OptimizedQuery" id="43603">indexScanThoughts</a> = <a href="#43593" title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">scadrClient</a>.<span title="(ns: edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.scadr.Thought])edu.berkeley.cs.scads.piql.plans.Relation">thoughts</span>.<span title="(predicate: edu.berkeley.cs.scads.piql.plans.Predicate)edu.berkeley.cs.scads.piql.plans.Selection">where</span><span class="delimiter">(</span><span title="implicit edu.berkeley.cs.scads.piql.package.toAttr : (s: String)java.lang.Object{def a: edu.berkeley.cs.scads.piql.plans.UnboundAttributeValue}" class="string">&quot;owner&quot;</span>.<span title="=&gt; edu.berkeley.cs.scads.piql.plans.UnboundAttributeValue">a</span> <span title="(value: edu.berkeley.cs.scads.piql.plans.Value)edu.berkeley.cs.scads.piql.plans.EqualityPredicate">===</span> <span class="delimiter">(</span><span title="implicit edu.berkeley.cs.scads.piql.package.toParameter : (o: Double)java.lang.Object{def ?: edu.berkeley.cs.scads.piql.plans.ParameterValue}" class="double">0.</span><span title="=&gt; edu.berkeley.cs.scads.piql.plans.ParameterValue">?</span><span class="delimiter">)</span><span class="delimiter">)</span>
						  .<span title="(parameter: edu.berkeley.cs.scads.piql.plans.ParameterValue, max: Int)edu.berkeley.cs.scads.piql.plans.StopAfter">limit</span><a href="#43591" title="implicit edu.berkeley.cs.scads.piql.package.toPiql : (logicalPlan: edu.berkeley.cs.scads.piql.plans.LogicalPlan)(implicit executor: edu.berkeley.cs.scads.piql.package#QueryExecutor)java.lang.Object{def toPiql(queryName: Option[String]): edu.berkeley.cs.scads.piql.opt.OptimizedQuery; def toPiql$default$1: Option[String]}" class="delimiter">(</a><span title="implicit edu.berkeley.cs.scads.piql.package.toParameter : (o: Double)java.lang.Object{def ?: edu.berkeley.cs.scads.piql.plans.ParameterValue}" class="double">1.</span><span title="=&gt; edu.berkeley.cs.scads.piql.plans.ParameterValue">?</span>, <span title="Int(10000)" class="int">10000</span><span class="delimiter">)</span>
						  .<span title="(queryName: Option[String])edu.berkeley.cs.scads.piql.opt.OptimizedQuery">toPiql</span><span class="delimiter">(</span><span title="(a: java.lang.String)Option[java.lang.String]" class="string">&quot;indexScanThoughts&quot;</span><span class="delimiter">)</span>


    <span class="comment">// index lookup join</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.opt.OptimizedQuery" id="43604">indexLookupJoinUsers</a> = <span title="edu.berkeley.cs.scads.piql.opt.OptimizedQuery" class="keyword">new</span> <span title="edu.berkeley.cs.scads.piql.opt.OptimizedQuery">OptimizedQuery</span><span class="delimiter">(</span><span title="(a: java.lang.String)Option[java.lang.String]" class="string">&quot;indexLookupJoinUsers&quot;</span>,
					      <span title="(namespace: edu.berkeley.cs.scads.piql.package.Namespace, key: edu.berkeley.cs.scads.piql.package.KeyGenerator, child: edu.berkeley.cs.scads.piql.plans.QueryPlan)edu.berkeley.cs.scads.piql.plans.IndexLookupJoin">IndexLookupJoin</span><span class="delimiter">(</span>
						      <a href="#43593" title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">scadrClient</a>.<span title="(ns: edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.scadr.User])edu.berkeley.cs.scads.piql.package#Namespace">users</span>,
						      <span title="(recordPosition: Int, fieldPosition: Int)edu.berkeley.cs.scads.piql.plans.AttributeValue">AttributeValue</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>,<span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#44583" title="(x: edu.berkeley.cs.scads.piql.plans.AttributeValue)List[edu.berkeley.cs.scads.piql.plans.AttributeValue]">::</a> <span title="object Nil">Nil</span>,
						      <span title="(parameterOrdinal: Int, wrap: Boolean)edu.berkeley.cs.scads.piql.plans.LocalIterator">LocalIterator</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span>,
					      <a href="#43589" title="edu.berkeley.cs.scads.piql.package.QueryExecutor">executor</a><span class="delimiter">)</span>

    <span class="comment">// index merge join</span>
    <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.opt.OptimizedQuery" id="43605">indexMergeJoinThoughts</a> = <span title="edu.berkeley.cs.scads.piql.opt.OptimizedQuery" class="keyword">new</span> <span title="edu.berkeley.cs.scads.piql.opt.OptimizedQuery">OptimizedQuery</span><span class="delimiter">(</span><span title="(a: java.lang.String)Option[java.lang.String]" class="string">&quot;indexMergeJoinThoughts&quot;</span>,
					     <span title="(count: edu.berkeley.cs.scads.piql.plans.Limit, child: edu.berkeley.cs.scads.piql.plans.QueryPlan)edu.berkeley.cs.scads.piql.plans.LocalStopAfter">LocalStopAfter</span><span class="delimiter">(</span>
					       <span title="(ordinal: Int, max: Int)edu.berkeley.cs.scads.piql.plans.ParameterLimit">ParameterLimit</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="Int(10000)" class="int">10000</span><span class="delimiter">)</span>,
					       <span title="(namespace: edu.berkeley.cs.scads.piql.package.Namespace, keyPrefix: edu.berkeley.cs.scads.piql.package.KeyGenerator, sortFields: Seq[edu.berkeley.cs.scads.piql.plans.Value], limit: edu.berkeley.cs.scads.piql.plans.Limit, ascending: Boolean, child: edu.berkeley.cs.scads.piql.plans.QueryPlan)edu.berkeley.cs.scads.piql.plans.IndexMergeJoin">IndexMergeJoin</span><span class="delimiter">(</span>
						       <a href="#43593" title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">scadrClient</a>.<span title="(ns: edu.berkeley.cs.scads.storage.PairNamespace[edu.berkeley.cs.scads.piql.scadr.Thought])edu.berkeley.cs.scads.piql.package#Namespace">thoughts</span>,
						       <span title="(recordPosition: Int, fieldPosition: Int)edu.berkeley.cs.scads.piql.plans.AttributeValue">AttributeValue</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span>,<span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#44681" title="(x: edu.berkeley.cs.scads.piql.plans.AttributeValue)List[edu.berkeley.cs.scads.piql.plans.AttributeValue]">::</a> <span title="object Nil">Nil</span>,
						       <span title="(recordPosition: Int, fieldPosition: Int)edu.berkeley.cs.scads.piql.plans.AttributeValue">AttributeValue</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>,<span title="Int(1)" class="int">1</span><span class="delimiter">)</span> <a href="#44689" title="(x: edu.berkeley.cs.scads.piql.plans.AttributeValue)List[edu.berkeley.cs.scads.piql.plans.AttributeValue]">::</a> <span title="object Nil">Nil</span>,
						       <span title="(ordinal: Int, max: Int)edu.berkeley.cs.scads.piql.plans.ParameterLimit">ParameterLimit</span><span class="delimiter">(</span><span title="Int(1)" class="int">1</span>, <span title="Int(10000)" class="int">10000</span><span class="delimiter">)</span>,
						       <span title="Boolean(false)" class="keyword">false</span>,
						       <span title="(parameterOrdinal: Int, wrap: Boolean)edu.berkeley.cs.scads.piql.plans.LocalIterator">LocalIterator</span><span class="delimiter">(</span><span title="Int(0)" class="int">0</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>,
					     <a href="#43589" title="edu.berkeley.cs.scads.piql.package.QueryExecutor">executor</a><span class="delimiter">)</span>

    <span class="comment">/*
    QuerySpec(indexLookupJoinQuery, localSubscriptionList :: Nil) ::
    QuerySpec(indexMergeQuery, localSubscriptionList :: perPage :: Nil) ::
    QuerySpec(indexScanQuery, randomUser :: numSubscriptions :: Nil) ::
    QuerySpec(indexScanQuery, randomUser :: perPage :: Nil) ::
    */</span>
    <span class="comment">// iterators</span>
    <span class="comment">//QuerySpec(indexLookupSubscriptions, randomUser :: randomUser :: Nil) :: // findSubscription</span>
    <a href="QueryRunnerTask.scala.html#32789" title="(query: edu.berkeley.cs.scads.piql.opt.OptimizedQuery, paramGenerators: Seq[edu.berkeley.cs.scads.piql.modeling.ParameterGenerator])edu.berkeley.cs.scads.piql.modeling.QuerySpec">QuerySpec</a><span class="delimiter">(</span><a href="#43601" title="edu.berkeley.cs.scads.piql.opt.OptimizedQuery">indexLookupUsers</a>, <a href="#43596" title="ScadrQueryProvider.this.RandomUser">randomUser</a> <a href="#44708" title="(x: ScadrQueryProvider.this.RandomUser)List[ScadrQueryProvider.this.RandomUser]">::</a> <span title="object Nil">Nil</span><span class="delimiter">)</span> <a href="#44705" title="(x: edu.berkeley.cs.scads.piql.modeling.QuerySpec)List[edu.berkeley.cs.scads.piql.modeling.QuerySpec]">::</a> <span class="comment">// findUser</span>
    <a href="QueryRunnerTask.scala.html#32789" title="(query: edu.berkeley.cs.scads.piql.opt.OptimizedQuery, paramGenerators: Seq[edu.berkeley.cs.scads.piql.modeling.ParameterGenerator])edu.berkeley.cs.scads.piql.modeling.QuerySpec">QuerySpec</a><span class="delimiter">(</span><a href="#43602" title="edu.berkeley.cs.scads.piql.opt.OptimizedQuery">indexScanSubscriptions</a>, <a href="#43596" title="ScadrQueryProvider.this.RandomUser">randomUser</a> <a href="#44713" title="(x: Product with Serializable with edu.berkeley.cs.scads.piql.modeling.ParameterGenerator)List[Product with Serializable with edu.berkeley.cs.scads.piql.modeling.ParameterGenerator]">::</a> <a href="#43597" title="edu.berkeley.cs.scads.piql.modeling.CardinalityList">perPage</a> <a href="#44714" title="(x: edu.berkeley.cs.scads.piql.modeling.CardinalityList)List[edu.berkeley.cs.scads.piql.modeling.CardinalityList]">::</a> <span title="object Nil">Nil</span><span class="delimiter">)</span> <a href="#44712" title="(x: edu.berkeley.cs.scads.piql.modeling.QuerySpec)List[edu.berkeley.cs.scads.piql.modeling.QuerySpec]">::</a> <span class="comment">// usersFollowedBy, thoughtstream</span>
    <a href="QueryRunnerTask.scala.html#32789" title="(query: edu.berkeley.cs.scads.piql.opt.OptimizedQuery, paramGenerators: Seq[edu.berkeley.cs.scads.piql.modeling.ParameterGenerator])edu.berkeley.cs.scads.piql.modeling.QuerySpec">QuerySpec</a><span class="delimiter">(</span><a href="#43603" title="edu.berkeley.cs.scads.piql.opt.OptimizedQuery">indexScanThoughts</a>, <a href="#43596" title="ScadrQueryProvider.this.RandomUser">randomUser</a> <a href="#44751" title="(x: Product with Serializable with edu.berkeley.cs.scads.piql.modeling.ParameterGenerator)List[Product with Serializable with edu.berkeley.cs.scads.piql.modeling.ParameterGenerator]">::</a> <a href="#43597" title="edu.berkeley.cs.scads.piql.modeling.CardinalityList">perPage</a> <a href="#44752" title="(x: edu.berkeley.cs.scads.piql.modeling.CardinalityList)List[edu.berkeley.cs.scads.piql.modeling.CardinalityList]">::</a> <span title="object Nil">Nil</span><span class="delimiter">)</span> <a href="#44750" title="(x: edu.berkeley.cs.scads.piql.modeling.QuerySpec)List[edu.berkeley.cs.scads.piql.modeling.QuerySpec]">::</a> <span class="comment">// myThoughts</span>
    <a href="QueryRunnerTask.scala.html#32789" title="(query: edu.berkeley.cs.scads.piql.opt.OptimizedQuery, paramGenerators: Seq[edu.berkeley.cs.scads.piql.modeling.ParameterGenerator])edu.berkeley.cs.scads.piql.modeling.QuerySpec">QuerySpec</a><span class="delimiter">(</span><a href="#43604" title="edu.berkeley.cs.scads.piql.opt.OptimizedQuery">indexLookupJoinUsers</a>, <a href="#43599" title="ScadrQueryProvider.this.RandomSubscriptionList">localSubscriptionList</a> <a href="#44782" title="(x: ScadrQueryProvider.this.RandomSubscriptionList)List[ScadrQueryProvider.this.RandomSubscriptionList]">::</a> <span title="object Nil">Nil</span><span class="delimiter">)</span> <a href="#44781" title="(x: edu.berkeley.cs.scads.piql.modeling.QuerySpec)List[edu.berkeley.cs.scads.piql.modeling.QuerySpec]">::</a> <span class="comment">// usersFollowedBy</span>
    <a href="QueryRunnerTask.scala.html#32789" title="(query: edu.berkeley.cs.scads.piql.opt.OptimizedQuery, paramGenerators: Seq[edu.berkeley.cs.scads.piql.modeling.ParameterGenerator])edu.berkeley.cs.scads.piql.modeling.QuerySpec">QuerySpec</a><span class="delimiter">(</span><a href="#43605" title="edu.berkeley.cs.scads.piql.opt.OptimizedQuery">indexMergeJoinThoughts</a>, <a href="#43599" title="ScadrQueryProvider.this.RandomSubscriptionList">localSubscriptionList</a> <a href="#44789" title="(x: Product with Serializable with edu.berkeley.cs.scads.piql.modeling.ParameterGenerator)List[Product with Serializable with edu.berkeley.cs.scads.piql.modeling.ParameterGenerator]">::</a> <a href="#43597" title="edu.berkeley.cs.scads.piql.modeling.CardinalityList">perPage</a> <a href="#44790" title="(x: edu.berkeley.cs.scads.piql.modeling.CardinalityList)List[edu.berkeley.cs.scads.piql.modeling.CardinalityList]">::</a> <span title="object Nil">Nil</span><span class="delimiter">)</span> <a href="#44788" title="(x: edu.berkeley.cs.scads.piql.modeling.QuerySpec)List[edu.berkeley.cs.scads.piql.modeling.QuerySpec]">::</a> <span class="comment">// thoughtstream</span>
    <span class="comment">// queries</span>
    <span class="comment">//QuerySpec(scadrClient.findSubscription, randomUser :: randomUser :: Nil) :: // MA says:  don't include</span>
    <a href="QueryRunnerTask.scala.html#32789" title="(query: edu.berkeley.cs.scads.piql.opt.OptimizedQuery, paramGenerators: Seq[edu.berkeley.cs.scads.piql.modeling.ParameterGenerator])edu.berkeley.cs.scads.piql.modeling.QuerySpec">QuerySpec</a><span class="delimiter">(</span><a href="#43593" title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">scadrClient</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.opt.OptimizedQuery">findUser</span>, <a href="#43596" title="ScadrQueryProvider.this.RandomUser">randomUser</a> <a href="#44905" title="(x: ScadrQueryProvider.this.RandomUser)List[ScadrQueryProvider.this.RandomUser]">::</a> <span title="object Nil">Nil</span><span class="delimiter">)</span> <a href="#44904" title="(x: edu.berkeley.cs.scads.piql.modeling.QuerySpec)List[edu.berkeley.cs.scads.piql.modeling.QuerySpec]">::</a>
    <a href="QueryRunnerTask.scala.html#32789" title="(query: edu.berkeley.cs.scads.piql.opt.OptimizedQuery, paramGenerators: Seq[edu.berkeley.cs.scads.piql.modeling.ParameterGenerator])edu.berkeley.cs.scads.piql.modeling.QuerySpec">QuerySpec</a><span class="delimiter">(</span><a href="#43593" title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">scadrClient</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.opt.OptimizedQuery">myThoughts</span>, <a href="#43596" title="ScadrQueryProvider.this.RandomUser">randomUser</a> <a href="#44912" title="(x: Product with Serializable with edu.berkeley.cs.scads.piql.modeling.ParameterGenerator)List[Product with Serializable with edu.berkeley.cs.scads.piql.modeling.ParameterGenerator]">::</a> <a href="#43597" title="edu.berkeley.cs.scads.piql.modeling.CardinalityList">perPage</a> <a href="#44913" title="(x: edu.berkeley.cs.scads.piql.modeling.CardinalityList)List[edu.berkeley.cs.scads.piql.modeling.CardinalityList]">::</a> <span title="object Nil">Nil</span><span class="delimiter">)</span> <a href="#44911" title="(x: edu.berkeley.cs.scads.piql.modeling.QuerySpec)List[edu.berkeley.cs.scads.piql.modeling.QuerySpec]">::</a>
    <a href="QueryRunnerTask.scala.html#32789" title="(query: edu.berkeley.cs.scads.piql.opt.OptimizedQuery, paramGenerators: Seq[edu.berkeley.cs.scads.piql.modeling.ParameterGenerator])edu.berkeley.cs.scads.piql.modeling.QuerySpec">QuerySpec</a><span class="delimiter">(</span><a href="#43593" title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">scadrClient</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.opt.OptimizedQuery">thoughtstream</span>,
	      <a href="#44944" title="(numUsers: Int, maxCardinality: Int, cardinalityList: IndexedSeq[Int])ScadrQueryProvider.this.RandomUserWithSubscriptionCardinality">RandomUserWithSubscriptionCardinality</a><span class="delimiter">(</span><a href="#43595" title="Int">maxUser</a>,
						    <a href="#43594" title="edu.berkeley.cs.scads.perf.scadr.ScadrLoaderTask">loaderConfig</a>.<span title="=&gt; Int">followingCardinality</span>,
						    <a href="#43598" title="edu.berkeley.cs.scads.piql.modeling.CardinalityList">numSubscriptions</a>.<a href="QueryRunnerTask.scala.html#30954" title="=&gt; IndexedSeq[Int]">values</a><span class="delimiter">)</span> <a href="#44941" title="(x: Product with Serializable with edu.berkeley.cs.scads.piql.modeling.ParameterGenerator)List[Product with Serializable with edu.berkeley.cs.scads.piql.modeling.ParameterGenerator]">::</a> <a href="#43597" title="edu.berkeley.cs.scads.piql.modeling.CardinalityList">perPage</a> <a href="#44968" title="(x: edu.berkeley.cs.scads.piql.modeling.CardinalityList)List[edu.berkeley.cs.scads.piql.modeling.CardinalityList]">::</a> <span title="object Nil">Nil</span><span class="delimiter">)</span> <a href="#44940" title="(x: edu.berkeley.cs.scads.piql.modeling.QuerySpec)List[edu.berkeley.cs.scads.piql.modeling.QuerySpec]">::</a>
    <a href="QueryRunnerTask.scala.html#32789" title="(query: edu.berkeley.cs.scads.piql.opt.OptimizedQuery, paramGenerators: Seq[edu.berkeley.cs.scads.piql.modeling.ParameterGenerator])edu.berkeley.cs.scads.piql.modeling.QuerySpec">QuerySpec</a><span class="delimiter">(</span><a href="#43593" title="edu.berkeley.cs.scads.piql.scadr.ScadrClient">scadrClient</a>.<span title="=&gt; edu.berkeley.cs.scads.piql.opt.OptimizedQuery">usersFollowedBy</span>, <a href="#43596" title="ScadrQueryProvider.this.RandomUser">randomUser</a> <a href="#45035" title="(x: Product with Serializable with edu.berkeley.cs.scads.piql.modeling.ParameterGenerator)List[Product with Serializable with edu.berkeley.cs.scads.piql.modeling.ParameterGenerator]">::</a> <a href="#43597" title="edu.berkeley.cs.scads.piql.modeling.CardinalityList">perPage</a> <a href="#45036" title="(x: edu.berkeley.cs.scads.piql.modeling.CardinalityList)List[edu.berkeley.cs.scads.piql.modeling.CardinalityList]">::</a> <span title="object Nil">Nil</span><span class="delimiter">)</span> <a href="#45034" title="(x: edu.berkeley.cs.scads.piql.modeling.QuerySpec)List[edu.berkeley.cs.scads.piql.modeling.QuerySpec]">::</a> <span title="object Nil">Nil</span> <span title="scala.collection.immutable.IndexedSeq[edu.berkeley.cs.scads.piql.modeling.QuerySpec]">toIndexedSeq</span>
    <span class="comment">//QuerySpec(scadrClient.usersFollowing, randomUser :: perPage :: Nil) :: // commented out by MA b/c doesn't work</span>
  <span class="delimiter">}</span>

  <span class="comment">//todo objects?</span>
  case <span class="keyword">class</span> <a title="class RandomUser extends edu.berkeley.cs.scads.piql.modeling.ParameterGenerator with edu.berkeley.cs.scads.piql.modeling.UserGenerator with ScalaObject with Product with Serializable" id="43751">RandomUser</a><a href="#43751" title="ScalaObject" class="delimiter">(</a><a title="Int" id="43759">numUsers</a>: <span title="Int">Int</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="QueryRunnerTask.scala.html#9622" title="edu.berkeley.cs.scads.piql.modeling.ParameterGenerator">ParameterGenerator</a> <span class="keyword">with</span> <a href="#9650" title="edu.berkeley.cs.scads.piql.modeling.UserGenerator">UserGenerator</a> <span class="delimiter">{</span>
    <span class="comment">// must be + 1 since users are indexed startin g from 1</span>
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(rand: scala.util.Random)(String, None.type)" id="43756">getValue</a><span class="delimiter">(</span><a title="scala.util.Random" id="44734">rand</a>: <span title="scala.util.Random">Random</span><span class="delimiter">)</span> = <span title="(_1: String, _2: None.type)(String, None.type)" class="delimiter">(</span><a href="#43455" title="(rand: scala.util.Random)String">randomUserName</a><span class="delimiter">(</span><a href="#44734" title="scala.util.Random">rand</a><span class="delimiter">)</span>, <span title="object None">None</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  case <span class="keyword">class</span> <a title="class RandomUserWithSubscriptionCardinality extends edu.berkeley.cs.scads.piql.modeling.ParameterGenerator with edu.berkeley.cs.scads.piql.modeling.UserGenerator with ScalaObject with Product with Serializable" id="44944">RandomUserWithSubscriptionCardinality</a><a href="#44944" title="ScalaObject" class="delimiter">(</a><a title="Int" id="44958">numUsers</a>: <span title="Int">Int</span>, <a title="Int" id="44959">maxCardinality</a>: <span title="Int">Int</span>, <a title="IndexedSeq[Int]" id="44960">cardinalityList</a>: <span title="IndexedSeq[Int]">IndexedSeq</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="QueryRunnerTask.scala.html#9622" title="edu.berkeley.cs.scads.piql.modeling.ParameterGenerator">ParameterGenerator</a> <span class="keyword">with</span> <a href="#9650" title="edu.berkeley.cs.scads.piql.modeling.UserGenerator">UserGenerator</a> <span class="delimiter">{</span>
    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(rand: scala.util.Random)(String, Some[Int])" id="44955">getValue</a><span class="delimiter">(</span><a title="scala.util.Random" id="44990">rand</a>: <span title="scala.util.Random">Random</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="44993">cardinality</a> = <a href="#44960" title="(idx: Int)Int">cardinalityList</a><span class="delimiter">(</span><a href="#44990" title="scala.util.Random">rand</a>.<span title="(n: Int)Int">nextInt</span><span class="delimiter">(</span><a href="#44960" title="=&gt; IndexedSeq[Int]">cardinalityList</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">val</span> <a title="Int" id="44994">userId</a> = scala.util.<span title="object scala.util.Random">Random</span>.<span title="(n: Int)Int">nextInt</span><span class="delimiter">(</span><a href="#44958" title="=&gt; Int">numUsers</a><span class="delimiter">)</span> <span title="(x: Int)Int">/</span> <a href="#44959" title="=&gt; Int">maxCardinality</a> <span title="(x: Int)Int">*</span> <a href="#44959" title="=&gt; Int">maxCardinality</a> <span title="(x: Int)Int">+</span> <a href="#44993" title="Int">cardinality</a>
      <span title="(_1: String, _2: Some[Int])(String, Some[Int])" class="delimiter">(</span><a href="#43454" title="(idx: Int)String">toUserName</a><span class="delimiter">(</span><a href="#44994" title="Int">userId</a><span class="delimiter">)</span>, <span title="(x: Int)Some[Int]">Some</span><span class="delimiter">(</span><a href="#44993" title="Int">cardinality</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  case <span class="keyword">class</span> <a title="class RandomSubscriptionList extends edu.berkeley.cs.scads.piql.modeling.ParameterGenerator with edu.berkeley.cs.scads.piql.modeling.UserGenerator with ScalaObject with Product with Serializable" id="43989">RandomSubscriptionList</a><a href="#43989" title="ScalaObject" class="delimiter">(</a><a title="Int" id="44001">numUsers</a>: <span title="Int">Int</span>, <a title="IndexedSeq[Int]" id="44002">cardinalityList</a>: <span title="IndexedSeq[Int]">IndexedSeq</span><span class="delimiter">[</span>Int<span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="QueryRunnerTask.scala.html#9622" title="edu.berkeley.cs.scads.piql.modeling.ParameterGenerator">ParameterGenerator</a> <span class="keyword">with</span> <a href="#9650" title="edu.berkeley.cs.scads.piql.modeling.UserGenerator">UserGenerator</a> <span class="delimiter">{</span>
    <span class="keyword">protected</span> <span class="keyword">final</span> <span class="keyword">def</span> <a title="(rand: scala.util.Random)edu.berkeley.cs.scads.piql.scadr.Subscription" id="43997">randSubscription</a><span class="delimiter">(</span><a title="scala.util.Random" id="44847">rand</a>: <span title="scala.util.Random">Random</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="edu.berkeley.cs.scads.piql.scadr.Subscription" id="44850">s</a> = <span title="edu.berkeley.cs.scads.piql.scadr.Subscription" class="keyword">new</span> <span title="edu.berkeley.cs.scads.piql.scadr.Subscription">Subscription</span><span class="delimiter">(</span><a href="#43455" title="(rand: scala.util.Random)String">randomUserName</a><span class="delimiter">(</span><a href="#44847" title="scala.util.Random">rand</a><span class="delimiter">)</span>, <a href="#43455" title="(rand: scala.util.Random)String">randomUserName</a><span class="delimiter">(</span><a href="#44847" title="scala.util.Random">rand</a><span class="delimiter">)</span><span class="delimiter">)</span>
      <a href="#44850" title="edu.berkeley.cs.scads.piql.scadr.Subscription">s</a>.<span title="(x$1: Boolean)Unit">approved</span> = <span title="Boolean(true)" class="keyword">true</span>
      <a href="#44850" title="edu.berkeley.cs.scads.piql.scadr.Subscription">s</a>
    <span class="delimiter">}</span>

    <span class="keyword">final</span> <span class="keyword">def</span> <a title="(rand: scala.util.Random)(scala.collection.mutable.ArrayBuffer[scala.collection.mutable.ArrayBuffer[edu.berkeley.cs.scads.piql.scadr.Subscription]], Some[Int])" id="43998">getValue</a><span class="delimiter">(</span><a title="scala.util.Random" id="44810">rand</a>: <span title="scala.util.Random">Random</span><span class="delimiter">)</span> = <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="Int" id="44813">numTuples</a> = <a href="#44002" title="(idx: Int)Int">cardinalityList</a><span class="delimiter">(</span><a href="#44810" title="scala.util.Random">rand</a>.<span title="(n: Int)Int">nextInt</span><span class="delimiter">(</span><a href="#44002" title="=&gt; IndexedSeq[Int]">cardinalityList</a>.<span title="=&gt; Int">size</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span title="(_1: scala.collection.mutable.ArrayBuffer[scala.collection.mutable.ArrayBuffer[edu.berkeley.cs.scads.piql.scadr.Subscription]], _2: Some[Int])(scala.collection.mutable.ArrayBuffer[scala.collection.mutable.ArrayBuffer[edu.berkeley.cs.scads.piql.scadr.Subscription]], Some[Int])" class="delimiter">(</span><span title="object scala.collection.mutable.ArrayBuffer">ArrayBuffer</span>.<span title="(n: Int)(elem: =&gt; scala.collection.mutable.ArrayBuffer[edu.berkeley.cs.scads.piql.scadr.Subscription])scala.collection.mutable.ArrayBuffer[scala.collection.mutable.ArrayBuffer[edu.berkeley.cs.scads.piql.scadr.Subscription]]">fill</span><span class="delimiter">(</span><a href="#44813" title="Int">numTuples</a><span class="delimiter">)</span><span class="delimiter">(</span><span title="(elems: edu.berkeley.cs.scads.piql.scadr.Subscription*)scala.collection.mutable.ArrayBuffer[edu.berkeley.cs.scads.piql.scadr.Subscription]">ArrayBuffer</span><span class="delimiter">(</span><a href="#43997" title="(rand: scala.util.Random)edu.berkeley.cs.scads.piql.scadr.Subscription">randSubscription</a><span class="delimiter">(</span><a href="#44810" title="scala.util.Random">rand</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>, <span title="(x: Int)Some[Int]">Some</span><span class="delimiter">(</span><a href="#44813" title="Int">numTuples</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>




        </pre>
    </body>
</html>