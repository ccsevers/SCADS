<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>client/NamespaceIterator.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> edu.berkeley.cs
<span class="keyword">package</span> scads
<span class="keyword">package</span> storage

<span class="keyword">import</span> comm._
<span class="keyword">import</span> org.apache.avro.generic.IndexedRecord
 
<span class="keyword">trait</span> <a title="trait NamespaceIterator[BulkType] extends java.lang.Object with ScalaObject" id="9879">NamespaceIterator</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="9880">BulkType</a><span class="delimiter">]</span> <span title="ScalaObject" class="delimiter">{</span>
  self: Namespace 
    <span class="keyword">with</span> KeyRangeRoutable
    <span class="keyword">with</span> RecordMetadata
    <span class="keyword">with</span> Serializer<span class="delimiter">[</span>IndexedRecord, IndexedRecord, BulkType<span class="delimiter">]</span> =&gt;

  <span class="keyword">def</span> <a title="(startKey: Option[org.apache.avro.generic.IndexedRecord], endKey: Option[org.apache.avro.generic.IndexedRecord])Iterator[BulkType]" id="44666">iterateOverRange</a><span class="delimiter">(</span><a title="Option[org.apache.avro.generic.IndexedRecord]" id="54143">startKey</a>: <span title="Option[org.apache.avro.generic.IndexedRecord]">Option</span><span class="delimiter">[</span>IndexedRecord<span class="delimiter">]</span>, <a title="Option[org.apache.avro.generic.IndexedRecord]" id="54144">endKey</a>: <span title="Option[org.apache.avro.generic.IndexedRecord]">Option</span><span class="delimiter">[</span>IndexedRecord<span class="delimiter">]</span><span class="delimiter">)</span>: <span title="Iterator[BulkType]">Iterator</span><span class="delimiter">[</span>BulkType<span class="delimiter">]</span> = <span class="delimiter">{</span>
    <span class="keyword">val</span> <a title="Seq[edu.berkeley.cs.scads.storage.RangeDesc]" id="54146">partitions</a> = <a href="Interfaces.scala.html#27961" title="(start: Option[Array[Byte]], end: Option[Array[Byte]])Seq[edu.berkeley.cs.scads.storage.RangeDesc]">serversForKeyRange</a><span class="delimiter">(</span><a href="#54143" title="Option[org.apache.avro.generic.IndexedRecord]">startKey</a>.<span title="(f: org.apache.avro.generic.IndexedRecord =&gt; Array[Byte])Option[Array[Byte]]">map</span><span class="delimiter">(</span><a href="Interfaces.scala.html#36273" title="(key: org.apache.avro.generic.IndexedRecord)Array[Byte]">keyToBytes</a><span class="delimiter">)</span>, <a href="#54144" title="Option[org.apache.avro.generic.IndexedRecord]">endKey</a>.<span title="(f: org.apache.avro.generic.IndexedRecord =&gt; Array[Byte])Option[Array[Byte]]">map</span><span class="delimiter">(</span><a href="Interfaces.scala.html#36273" title="(key: org.apache.avro.generic.IndexedRecord)Array[Byte]">keyToBytes</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <a href="#54146" title="Seq[edu.berkeley.cs.scads.storage.RangeDesc]">partitions</a>.<span title="(f: edu.berkeley.cs.scads.storage.RangeDesc =&gt; edu.berkeley.cs.scads.storage.ActorlessPartitionIterator)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[edu.berkeley.cs.scads.storage.RangeDesc],edu.berkeley.cs.scads.storage.ActorlessPartitionIterator,Seq[edu.berkeley.cs.scads.storage.ActorlessPartitionIterator]])Seq[edu.berkeley.cs.scads.storage.ActorlessPartitionIterator]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,edu.berkeley.cs.scads.storage.ActorlessPartitionIterator,Seq[edu.berkeley.cs.scads.storage.ActorlessPartitionIterator]]" class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.RangeDesc" id="54176">p</a> =&gt; <a href="../server/Iterator.scala.html#54426" title="edu.berkeley.cs.scads.storage.ActorlessPartitionIterator" class="keyword">new</a> <a href="../server/Iterator.scala.html#10039" title="edu.berkeley.cs.scads.storage.ActorlessPartitionIterator">ActorlessPartitionIterator</a><span class="delimiter">(</span><a href="#54176" title="edu.berkeley.cs.scads.storage.RangeDesc">p</a>.<a href="Interfaces.scala.html#31379" title="=&gt; Seq[edu.berkeley.cs.scads.storage.PartitionService]">servers</a>.<span title="=&gt; edu.berkeley.cs.scads.storage.PartitionService">head</span>, <a href="#54176" title="edu.berkeley.cs.scads.storage.RangeDesc">p</a>.<a href="Interfaces.scala.html#31375" title="=&gt; Option[Array[Byte]]">startKey</a>, <a href="#54176" title="edu.berkeley.cs.scads.storage.RangeDesc">p</a>.<a href="Interfaces.scala.html#31377" title="=&gt; Option[Array[Byte]]">endKey</a><span class="delimiter">)</span><span class="delimiter">)</span>
	      .<span title="(z: Iterator[edu.berkeley.cs.scads.storage.Record])(op: (Iterator[edu.berkeley.cs.scads.storage.Record], edu.berkeley.cs.scads.storage.ActorlessPartitionIterator) =&gt; Iterator[edu.berkeley.cs.scads.storage.Record])Iterator[edu.berkeley.cs.scads.storage.Record]">foldLeft</span><span class="delimiter">(</span><span title="=&gt; collection.Iterator.type">Iterator</span>.<span title="=&gt; java.lang.Object with Iterator[Nothing]">empty</span>.<span title="[T0]=&gt; T0">asInstanceOf</span><span title="Iterator[edu.berkeley.cs.scads.storage.Record]" class="delimiter">[</span><span title="Iterator[edu.berkeley.cs.scads.storage.Record]">Iterator</span><span class="delimiter">[</span>Record<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span><span class="delimiter">(</span><a href="#54469" title="Iterator[edu.berkeley.cs.scads.storage.Record]">_</a> <span title="(that: =&gt; scala.collection.GenTraversableOnce[edu.berkeley.cs.scads.storage.Record])Iterator[edu.berkeley.cs.scads.storage.Record]">++</span> <a href="#54470" title="edu.berkeley.cs.scads.storage.ActorlessPartitionIterator">_</a><span class="delimiter">)</span>
	      .<span title="(f: edu.berkeley.cs.scads.storage.Record =&gt; BulkType)Iterator[BulkType]">map</span><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.Record" id="54480">r</a> =&gt; <a href="Interfaces.scala.html#36272" title="(k: Array[Byte], v: Array[Byte])BulkType">bytesToBulk</a><span class="delimiter">(</span><a href="#54480" title="edu.berkeley.cs.scads.storage.Record">r</a>.<a href="../Messages.scala.html#22202" title="=&gt; Array[Byte]">key</a>, <a href="Interfaces.scala.html#27938" title="(value: Array[Byte])Array[Byte]">extractRecordFromValue</a><span class="delimiter">(</span><a href="#54480" title="edu.berkeley.cs.scads.storage.Record">r</a>.<a href="../Messages.scala.html#22205" title="=&gt; Option[Array[Byte]]">value</a>.<span title="=&gt; Array[Byte]">get</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>