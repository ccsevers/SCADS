<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>util/Slices.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> edu.berkeley.cs.scads
<span class="keyword">package</span> storage

<span class="keyword">object</span> <a title="object edu.berkeley.cs.scads.storage.Slice" id="9989">Slice</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[A](start: Option[A], end: Option[A])(implicit evidence$1: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.Slice[A]" id="83589">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="83586">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="Option[A]" id="83587">start</a>: <span title="Option[A]">Option</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Option[A]" id="83588">end</a>: <span title="Option[A]">Option</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#9991" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#83587" title="Option[A]">start</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.Slice[A]">Some</span><span class="delimiter">(</span><a title="A" id="96316">startKey</a><span class="delimiter">)</span> =&gt; <a href="#83588" title="Option[A]">end</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">Some</span><span class="delimiter">(</span><a title="A" id="96318">endKey</a><span class="delimiter">)</span> =&gt; <a href="#98737" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#83589" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96316" title="A">startKey</a>, <a href="#96318" title="A">endKey</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.ToRight[A]">None</span> =&gt; <a href="#98743" title="(startKey: A)(implicit evidence$7: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.ToRight[A]">ToRight</a><a href="#83589" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96316" title="A">startKey</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.Slice[A]">None</span> =&gt; <a href="#83588" title="Option[A]">end</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.FromLeft[A]">Some</span><span class="delimiter">(</span><a title="A" id="96401">endKey</a><span class="delimiter">)</span> =&gt; <a href="#98749" title="(endKey: A)(implicit evidence$6: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.FromLeft[A]">FromLeft</a><a href="#83589" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96401" title="A">endKey</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EntireRange[A]">None</span> =&gt; <a href="#98759" title="()(implicit evidence$3: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EntireRange[A]">EntireRange</a><a href="#83589" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Slice[A] extends java.lang.Object with ScalaObject" id="9991">Slice</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="9992">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="comment">/**
   * Removes slice out of this slice. Returns a new slice which result
   * from this operation
   */</span>
  <span class="keyword">def</span> <a title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.Slice[A]" id="83594">remove</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.Slice[A]" id="83646">slice</a>: <a href="#9991" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#9991" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span>

  <span class="keyword">def</span> <a title="[U](f: (Option[A], Option[A]) =&gt; U)Unit" id="83595">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="83597">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Option[A], Option[A]) =&gt; U" id="83652">f</a>: <span class="delimiter">(</span>Option<span class="delimiter">[</span>A<span class="delimiter">]</span>, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span>: <span title="Unit">Unit</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(a: A, b: A)A" id="83598">max</a><span class="delimiter">(</span><a title="A" id="96467">a</a>: <a href="#9992" title="A">A</a>, <a title="A" id="96468">b</a>: <a href="#9992" title="A">A</a><span class="delimiter">)</span> = <span title="A" class="keyword">if</span> <span class="delimiter">(</span><a href="#83592" title="(v1: A)Ordered[A]">a</a> <span title="(that: A)Boolean">&lt;</span> <a href="#96468" title="A">b</a><span class="delimiter">)</span> <a href="#96468" title="A">b</a> <span class="keyword">else</span> <a href="#96467" title="A">a</a>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(a: A, b: A)A" id="83599">min</a><span class="delimiter">(</span><a title="A" id="96513">a</a>: <a href="#9992" title="A">A</a>, <a title="A" id="96514">b</a>: <a href="#9992" title="A">A</a><span class="delimiter">)</span> = <span title="A" class="keyword">if</span> <span class="delimiter">(</span><a href="#83592" title="(v1: A)Ordered[A]">a</a> <span title="(that: A)Boolean">&gt;</span> <a href="#96514" title="A">b</a><span class="delimiter">)</span> <a href="#96514" title="A">b</a> <span class="keyword">else</span> <a href="#96513" title="A">a</a>
<span class="delimiter">}</span>

<span class="comment">/**
 * Not an object so we can capture implicit evidence for view bound on A
 */</span>
case <span class="keyword">class</span> <a title="class EntireRange[A] extends edu.berkeley.cs.scads.storage.Slice[A] with ScalaObject with Product with Serializable" id="98759">EntireRange</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96441">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9991" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.Slice[A]" id="96445">remove</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.Slice[A]" id="96565">slice</a>: <a href="#9991" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#96565" title="edu.berkeley.cs.scads.storage.Slice[A]">slice</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">EntireRange</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#98754" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96443" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EntireRange[A]">EmptyRange</span><span class="delimiter">(</span><span class="delimiter">)</span>  =&gt; <a href="#98759" title="edu.berkeley.cs.scads.storage.EntireRange[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.ToRight[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="96630">endKey</a><span class="delimiter">)</span> =&gt; <a href="#98743" title="(startKey: A)(implicit evidence$7: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.ToRight[A]">ToRight</a><a href="#96443" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96630" title="A">endKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.FromLeft[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="96663">startKey</a><span class="delimiter">)</span> =&gt; <a href="#98749" title="(endKey: A)(implicit evidence$6: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.FromLeft[A]">FromLeft</a><a href="#96443" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96663" title="A">startKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.CompositeSlice[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="96704">startKey</a>, <a title="A" id="96705">endKey</a><span class="delimiter">)</span> =&gt;
      <a href="#98730" title="(slices: List[edu.berkeley.cs.scads.storage.Slice[A]])(implicit evidence$9: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.CompositeSlice[A]">CompositeSlice</a><a href="#96443" title="A =&gt; Ordered[A]" class="delimiter">(</a><span title="(xs: Product with edu.berkeley.cs.scads.storage.CustomSlice[A] with Serializable*)List[Product with edu.berkeley.cs.scads.storage.CustomSlice[A] with Serializable]">List</span><span class="delimiter">(</span><a href="#98749" title="(endKey: A)(implicit evidence$6: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.FromLeft[A]">FromLeft</a><a href="#96443" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96704" title="A">startKey</a><span class="delimiter">)</span>, <a href="#98743" title="(startKey: A)(implicit evidence$7: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.ToRight[A]">ToRight</a><a href="#96443" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96705" title="A">endKey</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Nothing">CompositeSlice</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.UnsupportedOperationException" class="keyword">new</span> <span title="java.lang.UnsupportedOperationException">UnsupportedOperationException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot remove composite for now&quot;)" class="string">&quot;Cannot remove composite for now&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[U](f: (Option[A], Option[A]) =&gt; U)Unit" id="96446">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96448">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Option[A], Option[A]) =&gt; U" id="97178">f</a>: <span class="delimiter">(</span>Option<span class="delimiter">[</span>A<span class="delimiter">]</span>, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#97178" title="(v1: Option[A], v2: Option[A])U">f</a><span title="Unit" class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span> <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Not an object so we can capture implicit evidence for view bound on A
 */</span>
case <span class="keyword">class</span> <a title="class EmptyRange[A] extends edu.berkeley.cs.scads.storage.Slice[A] with ScalaObject with Product with Serializable" id="98754">EmptyRange</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96577">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9991" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="comment">/** 
   * Remove from the EmptyRange is still the EmptyRange
   */</span>
  <span class="keyword">def</span> <a title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.EmptyRange[A]" id="96581">remove</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.Slice[A]" id="97213">slice</a>: <a href="#9991" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#98754" title="edu.berkeley.cs.scads.storage.EmptyRange[A]" class="keyword">this</a>
  <span class="keyword">def</span> <a title="[U](f: (Option[A], Option[A]) =&gt; U)Unit" id="96582">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96584">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Option[A], Option[A]) =&gt; U" id="97217">f</a>: <span class="delimiter">(</span>Option<span class="delimiter">[</span>A<span class="delimiter">]</span>, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class CustomSlice[A] extends edu.berkeley.cs.scads.storage.Slice[A] with ScalaObject" id="10001">CustomSlice</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="10002">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> <span class="keyword">extends</span> <a href="#9991" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span>

case <span class="keyword">class</span> <a title="class FromLeft[A] extends edu.berkeley.cs.scads.storage.CustomSlice[A] with ScalaObject with Product with Serializable" id="98749">FromLeft</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96406">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="96423">endKey</a>: <a href="#96406" title="A">A</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10001" title="edu.berkeley.cs.scads.storage.CustomSlice[A]">CustomSlice</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.Slice[A]" id="96413">remove</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.Slice[A]" id="97256">slice</a>: <a href="#9991" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#97256" title="edu.berkeley.cs.scads.storage.Slice[A]">slice</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">EntireRange</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#98754" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96411" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.FromLeft[A]">EmptyRange</span><span class="delimiter">(</span><span class="delimiter">)</span>  =&gt; <a href="#98749" title="edu.berkeley.cs.scads.storage.FromLeft[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="97270">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96411" title="(v1: A)Ordered[A]">endKey</a> <span title="(that: A)Boolean">&lt;=</span> <a href="#97270" title="A">thatEndKey</a> =&gt; <a href="#98754" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96411" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="97320">thatEndKey</a><span class="delimiter">)</span> =&gt;
      <a href="#98737" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#96411" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#83599" title="(a: A, b: A)A">min</a><span class="delimiter">(</span><a href="#96423" title="=&gt; A">endKey</a>, <a href="#97320" title="A">thatEndKey</a><span class="delimiter">)</span>, <a href="#83598" title="(a: A, b: A)A">max</a><span class="delimiter">(</span><a href="#96423" title="=&gt; A">endKey</a>, <a href="#97320" title="A">thatEndKey</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.FromLeft[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="97339">startKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96411" title="(v1: A)Ordered[A]">startKey</a> <span title="(that: A)Boolean">&gt;=</span> <a href="#96423" title="=&gt; A">endKey</a> =&gt; <a href="#98749" title="edu.berkeley.cs.scads.storage.FromLeft[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.FromLeft[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="97382">startKey</a><span class="delimiter">)</span> =&gt; <a href="#98749" title="(endKey: A)(implicit evidence$6: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.FromLeft[A]">FromLeft</a><a href="#96411" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#97382" title="A">startKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.FromLeft[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="97396">thatStartKey</a>, <a title="A" id="97397">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96411" title="(v1: A)Ordered[A]">thatStartKey</a> <span title="(that: A)Boolean">&gt;=</span> <a href="#96423" title="=&gt; A">endKey</a> =&gt; <a href="#98749" title="edu.berkeley.cs.scads.storage.FromLeft[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.FromLeft[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="97440">thatStartKey</a>, <a title="A" id="97441">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96411" title="(v1: A)Ordered[A]">thatEndKey</a> <span title="(that: A)Boolean">&gt;=</span> <a href="#96423" title="=&gt; A">endKey</a> =&gt; <a href="#98749" title="(endKey: A)(implicit evidence$6: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.FromLeft[A]">FromLeft</a><a href="#96411" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#97440" title="A">thatStartKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.CompositeSlice[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="97494">thatStartKey</a>, <a title="A" id="97495">thatEndKey</a><span class="delimiter">)</span> =&gt;
      <a href="#98730" title="(slices: List[edu.berkeley.cs.scads.storage.Slice[A]])(implicit evidence$9: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.CompositeSlice[A]">CompositeSlice</a><a href="#96411" title="A =&gt; Ordered[A]" class="delimiter">(</a><span title="(xs: Product with edu.berkeley.cs.scads.storage.CustomSlice[A] with Serializable*)List[Product with edu.berkeley.cs.scads.storage.CustomSlice[A] with Serializable]">List</span><span class="delimiter">(</span><a href="#98749" title="(endKey: A)(implicit evidence$6: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.FromLeft[A]">FromLeft</a><a href="#96411" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#97494" title="A">thatStartKey</a><span class="delimiter">)</span>, <a href="#98737" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#96411" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#97495" title="A">thatEndKey</a>, <a href="#96423" title="=&gt; A">endKey</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Nothing">CompositeSlice</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.UnsupportedOperationException" class="keyword">new</span> <span title="java.lang.UnsupportedOperationException">UnsupportedOperationException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot remove composite for now&quot;)" class="string">&quot;Cannot remove composite for now&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[U](f: (Option[A], Option[A]) =&gt; U)Unit" id="96414">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96416">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Option[A], Option[A]) =&gt; U" id="98208">f</a>: <span class="delimiter">(</span>Option<span class="delimiter">[</span>A<span class="delimiter">]</span>, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#98208" title="(v1: Option[A], v2: Option[A])U">f</a><span title="Unit" class="delimiter">(</span><span title="object None">None</span>, <span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#96423" title="=&gt; A">endKey</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>
<span class="delimiter">}</span>

case <span class="keyword">class</span> <a title="class ToRight[A] extends edu.berkeley.cs.scads.storage.CustomSlice[A] with ScalaObject with Product with Serializable" id="98743">ToRight</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96369">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="96386">startKey</a>: <a href="#96369" title="A">A</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10001" title="edu.berkeley.cs.scads.storage.CustomSlice[A]">CustomSlice</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.Slice[A]" id="96376">remove</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.Slice[A]" id="96789">slice</a>: <a href="#9991" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#96789" title="edu.berkeley.cs.scads.storage.Slice[A]">slice</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">EntireRange</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#98754" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96374" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.ToRight[A]">EmptyRange</span><span class="delimiter">(</span><span class="delimiter">)</span>  =&gt; <a href="#98743" title="edu.berkeley.cs.scads.storage.ToRight[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.ToRight[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="96805">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96374" title="(v1: A)Ordered[A]">startKey</a> <span title="(that: A)Boolean">&gt;=</span> <a href="#96805" title="A">thatEndKey</a> =&gt; <a href="#98743" title="edu.berkeley.cs.scads.storage.ToRight[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.ToRight[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="96851">thatEndKey</a><span class="delimiter">)</span> =&gt; <a href="#98743" title="(startKey: A)(implicit evidence$7: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.ToRight[A]">ToRight</a><a href="#96374" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96851" title="A">thatEndKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="96862">thatStartKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96374" title="(v1: A)Ordered[A]">startKey</a> <span title="(that: A)Boolean">&gt;=</span> <a href="#96862" title="A">thatStartKey</a> =&gt; <a href="#98754" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96374" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="96910">thatStartKey</a><span class="delimiter">)</span> =&gt;
      <a href="#98737" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#96374" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#83599" title="(a: A, b: A)A">min</a><span class="delimiter">(</span><a href="#96386" title="=&gt; A">startKey</a>, <a href="#96910" title="A">thatStartKey</a><span class="delimiter">)</span>, <a href="#83598" title="(a: A, b: A)A">max</a><span class="delimiter">(</span><a href="#96386" title="=&gt; A">startKey</a>, <a href="#96910" title="A">thatStartKey</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.ToRight[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="96930">thatStartKey</a>, <a title="A" id="96931">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96374" title="(v1: A)Ordered[A]">thatEndKey</a> <span title="(that: A)Boolean">&lt;=</span> <a href="#96386" title="=&gt; A">startKey</a> =&gt; <a href="#98743" title="edu.berkeley.cs.scads.storage.ToRight[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.ToRight[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="96977">thatStartKey</a>, <a title="A" id="96978">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96374" title="(v1: A)Ordered[A]">thatStartKey</a> <span title="(that: A)Boolean">&lt;=</span> <a href="#96386" title="=&gt; A">startKey</a> =&gt; <a href="#98743" title="(startKey: A)(implicit evidence$7: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.ToRight[A]">ToRight</a><a href="#96374" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96978" title="A">thatEndKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.CompositeSlice[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="97031">thatStartKey</a>, <a title="A" id="97032">thatEndKey</a><span class="delimiter">)</span> =&gt;
      <a href="#98730" title="(slices: List[edu.berkeley.cs.scads.storage.Slice[A]])(implicit evidence$9: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.CompositeSlice[A]">CompositeSlice</a><a href="#96374" title="A =&gt; Ordered[A]" class="delimiter">(</a><span title="(xs: Product with edu.berkeley.cs.scads.storage.CustomSlice[A] with Serializable*)List[Product with edu.berkeley.cs.scads.storage.CustomSlice[A] with Serializable]">List</span><span class="delimiter">(</span><a href="#98737" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#96374" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96386" title="=&gt; A">startKey</a>, <a href="#97031" title="A">thatStartKey</a><span class="delimiter">)</span>, <a href="#98743" title="(startKey: A)(implicit evidence$7: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.ToRight[A]">ToRight</a><a href="#96374" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#97032" title="A">thatEndKey</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Nothing">CompositeSlice</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.UnsupportedOperationException" class="keyword">new</span> <span title="java.lang.UnsupportedOperationException">UnsupportedOperationException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot remove composite for now&quot;)" class="string">&quot;Cannot remove composite for now&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[U](f: (Option[A], Option[A]) =&gt; U)Unit" id="96377">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96379">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Option[A], Option[A]) =&gt; U" id="96777">f</a>: <span class="delimiter">(</span>Option<span class="delimiter">[</span>A<span class="delimiter">]</span>, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#96777" title="(v1: Option[A], v2: Option[A])U">f</a><span title="Unit" class="delimiter">(</span><span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#96386" title="=&gt; A">startKey</a><span class="delimiter">)</span>, <span title="object None">None</span><span class="delimiter">)</span> <span class="delimiter">}</span>
<span class="delimiter">}</span>

case <span class="keyword">class</span> <a title="class BoundedSlice[A] extends edu.berkeley.cs.scads.storage.CustomSlice[A] with ScalaObject with Product with Serializable" id="98737">BoundedSlice</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96323">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="96346">startKey</a>: <a href="#96323" title="A">A</a>, <a title="A" id="96347">endKey</a>: <a href="#96323" title="A">A</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10001" title="edu.berkeley.cs.scads.storage.CustomSlice[A]">CustomSlice</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#96334" title="(v1: A)Ordered[A]">endKey</a> <span title="(that: A)Boolean">&gt;</span> <a href="#96346" title="=&gt; A">startKey</a><span class="delimiter">)</span>                                    

  <span class="keyword">def</span> <a title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.Slice[A]" id="96336">remove</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.Slice[A]" id="97554">slice</a>: <a href="#9991" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#97554" title="edu.berkeley.cs.scads.storage.Slice[A]">slice</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">EntireRange</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#98754" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96334" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">EmptyRange</span><span class="delimiter">(</span><span class="delimiter">)</span>  =&gt; <a href="#98737" title="edu.berkeley.cs.scads.storage.BoundedSlice[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="97570">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96334" title="(v1: A)Ordered[A]">thatEndKey</a> <span title="(that: A)Boolean">&lt;=</span> <a href="#96346" title="=&gt; A">startKey</a> =&gt; <a href="#98737" title="edu.berkeley.cs.scads.storage.BoundedSlice[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="97614">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96334" title="(v1: A)Ordered[A]">thatEndKey</a> <span title="(that: A)Boolean">&lt;</span> <a href="#96347" title="=&gt; A">endKey</a> =&gt; <a href="#98737" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#96334" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#97614" title="A">thatEndKey</a>, <a href="#96347" title="=&gt; A">endKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="97669">thatEndKey</a><span class="delimiter">)</span> =&gt; <a href="#98754" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96334" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="97680">thatStartKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96334" title="(v1: A)Ordered[A]">thatStartKey</a> <span title="(that: A)Boolean">&gt;=</span> <a href="#96347" title="=&gt; A">endKey</a> =&gt; <a href="#98737" title="edu.berkeley.cs.scads.storage.BoundedSlice[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="97723">thatStartKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96334" title="(v1: A)Ordered[A]">thatStartKey</a> <span title="(that: A)Boolean">&gt;</span> <a href="#96346" title="=&gt; A">startKey</a> =&gt; <a href="#98737" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#96334" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96346" title="=&gt; A">startKey</a>, <a href="#97723" title="A">thatStartKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="97778">thatStartKey</a><span class="delimiter">)</span> =&gt; <a href="#98754" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96334" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="97787">thatStartKey</a>, <a title="A" id="97788">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96334" title="(v1: A)Ordered[A]">thatStartKey</a>.<span title="(that: A)Int">compare</span><span class="delimiter">(</span><a href="#96346" title="=&gt; A">startKey</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#96334" title="(v1: A)Ordered[A]">thatEndKey</a>.<span title="(that: A)Int">compare</span><span class="delimiter">(</span><a href="#96347" title="=&gt; A">endKey</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span> =&gt; <a href="#98754" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96334" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="97879">thatStartKey</a>, <a title="A" id="97880">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96334" title="(v1: A)Ordered[A]">endKey</a> <span title="(that: A)Boolean">&lt;=</span> <a href="#97879" title="A">thatStartKey</a> <span title="(x: Boolean)Boolean">||</span> <a href="#96334" title="(v1: A)Ordered[A]">thatEndKey</a> <span title="(that: A)Boolean">&lt;=</span> <a href="#96346" title="=&gt; A">startKey</a> =&gt; <a href="#98737" title="edu.berkeley.cs.scads.storage.BoundedSlice[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.Slice[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="97959">thatStartKey</a>, <a title="A" id="97960">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96334" title="(v1: A)Ordered[A]">thatStartKey</a> <span title="(that: A)Boolean">&lt;=</span> <a href="#96346" title="=&gt; A">startKey</a> =&gt;
      <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">if</span> <span class="delimiter">(</span><a href="#96334" title="(v1: A)Ordered[A]">thatEndKey</a> <span title="(that: A)Boolean">&lt;</span> <a href="#96347" title="=&gt; A">endKey</a><span class="delimiter">)</span> <a href="#98737" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#96334" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#97960" title="A">thatEndKey</a>, <a href="#96347" title="=&gt; A">endKey</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#98754" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96334" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.Slice[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="98059">thatStartKey</a>, <a title="A" id="98060">thatEndKey</a><span class="delimiter">)</span> =&gt;
      <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">if</span> <span class="delimiter">(</span><a href="#96334" title="(v1: A)Ordered[A]">thatEndKey</a> <span title="(that: A)Boolean">&lt;</span> <a href="#96347" title="=&gt; A">endKey</a><span class="delimiter">)</span> <a href="#98730" title="(slices: List[edu.berkeley.cs.scads.storage.Slice[A]])(implicit evidence$9: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.CompositeSlice[A]">CompositeSlice</a><a href="#96334" title="A =&gt; Ordered[A]" class="delimiter">(</a><span title="(xs: edu.berkeley.cs.scads.storage.BoundedSlice[A]*)List[edu.berkeley.cs.scads.storage.BoundedSlice[A]]">List</span><span class="delimiter">(</span><a href="#98737" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#96334" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96346" title="=&gt; A">startKey</a>, <a href="#98059" title="A">thatStartKey</a><span class="delimiter">)</span>, <a href="#98737" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#96334" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#98060" title="A">thatEndKey</a>, <a href="#96347" title="=&gt; A">endKey</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#98737" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#96334" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96346" title="=&gt; A">startKey</a>, <a href="#98059" title="A">thatStartKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Nothing">CompositeSlice</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.UnsupportedOperationException" class="keyword">new</span> <span title="java.lang.UnsupportedOperationException">UnsupportedOperationException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot remove composite for now&quot;)" class="string">&quot;Cannot remove composite for now&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[U](f: (Option[A], Option[A]) =&gt; U)Unit" id="96337">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96339">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Option[A], Option[A]) =&gt; U" id="97542">f</a>: <span class="delimiter">(</span>Option<span class="delimiter">[</span>A<span class="delimiter">]</span>, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#97542" title="(v1: Option[A], v2: Option[A])U">f</a><span title="Unit" class="delimiter">(</span><span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#96346" title="=&gt; A">startKey</a><span class="delimiter">)</span>, <span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#96347" title="=&gt; A">endKey</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>
<span class="delimiter">}</span>

case <span class="keyword">class</span> <a title="class CompositeSlice[A] extends edu.berkeley.cs.scads.storage.CustomSlice[A] with ScalaObject with Product with Serializable" id="98730">CompositeSlice</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96710">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[edu.berkeley.cs.scads.storage.Slice[A]]" id="96727">slices</a>: <span title="List[edu.berkeley.cs.scads.storage.Slice[A]]">List</span><span class="delimiter">[</span>Slice<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10001" title="edu.berkeley.cs.scads.storage.CustomSlice[A]">CustomSlice</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="comment">// TODO: assert that all slices are in order and do not overlap! </span>

  <span class="keyword">def</span> <a title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.Slice[A]" id="96717">remove</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.Slice[A]" id="98408">slice</a>: <a href="#9991" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#98408" title="edu.berkeley.cs.scads.storage.Slice[A]">slice</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Nothing">CompositeSlice</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.UnsupportedOperationException" class="keyword">new</span> <span title="java.lang.UnsupportedOperationException">UnsupportedOperationException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot remove composite for now&quot;)" class="string">&quot;Cannot remove composite for now&quot;</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.Slice[A]">_</span> =&gt;
      <a href="#96727" title="=&gt; List[edu.berkeley.cs.scads.storage.Slice[A]]">slices</a>.<span title="(f: edu.berkeley.cs.scads.storage.Slice[A] =&gt; scala.collection.GenTraversableOnce[edu.berkeley.cs.scads.storage.Slice[A]])(implicit bf: scala.collection.generic.CanBuildFrom[List[edu.berkeley.cs.scads.storage.Slice[A]],edu.berkeley.cs.scads.storage.Slice[A],List[edu.berkeley.cs.scads.storage.Slice[A]]])List[edu.berkeley.cs.scads.storage.Slice[A]]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,edu.berkeley.cs.scads.storage.Slice[A],List[edu.berkeley.cs.scads.storage.Slice[A]]]" class="delimiter">(</span><a href="#98432" title="edu.berkeley.cs.scads.storage.Slice[A]">_</a>.<a href="#83594" title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.Slice[A]">remove</a><span class="delimiter">(</span><a href="#98408" title="edu.berkeley.cs.scads.storage.Slice[A]">slice</a><span class="delimiter">)</span> <span title="List[edu.berkeley.cs.scads.storage.Slice[A]]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="List[edu.berkeley.cs.scads.storage.Slice[A]]">CompositeSlice</span><span class="delimiter">(</span><a title="List[edu.berkeley.cs.scads.storage.Slice[A]]" id="98434">xs</a><span class="delimiter">)</span> =&gt; <a href="#98434" title="List[edu.berkeley.cs.scads.storage.Slice[A]]">xs</a>
        <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">EmptyRange</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span title="object Nil">Nil</span>
        <span class="keyword">case</span> <a title="List[edu.berkeley.cs.scads.storage.Slice[A]]" id="98436">x</a> =&gt; <span title="(xs: edu.berkeley.cs.scads.storage.Slice[A]*)List[edu.berkeley.cs.scads.storage.Slice[A]]">List</span><span class="delimiter">(</span><a href="#98436" title="edu.berkeley.cs.scads.storage.Slice[A]">x</a><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">Nil</span> =&gt; <a href="#98754" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96715" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="edu.berkeley.cs.scads.storage.Slice[A]" id="98632">x</a> :: <span title="object Nil">Nil</span> =&gt; <a href="#98632" title="edu.berkeley.cs.scads.storage.Slice[A]">x</a>
        <span class="keyword">case</span> <a title="edu.berkeley.cs.scads.storage.CompositeSlice[A]" id="98633">xs</a> =&gt; <a href="#98730" title="(slices: List[edu.berkeley.cs.scads.storage.Slice[A]])(implicit evidence$9: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.CompositeSlice[A]">CompositeSlice</a><a href="#96715" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#98633" title="List[edu.berkeley.cs.scads.storage.Slice[A]]">xs</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[U](f: (Option[A], Option[A]) =&gt; U)Unit" id="96718">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96720">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Option[A], Option[A]) =&gt; U" id="98655">f</a>: <span class="delimiter">(</span>Option<span class="delimiter">[</span>A<span class="delimiter">]</span>, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span> <span class="delimiter">{</span> 
    <a href="#96727" title="=&gt; List[edu.berkeley.cs.scads.storage.Slice[A]]">slices</a>.<span title="(f: edu.berkeley.cs.scads.storage.Slice[A] =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#98680" title="edu.berkeley.cs.scads.storage.Slice[A]">_</a>.<a href="#83595" title="(f: (Option[A], Option[A]) =&gt; U)Unit">foreach</a><span class="delimiter">(</span><a href="#98655" title="(Option[A], Option[A]) =&gt; U">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>