<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>util/Slices.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> edu.berkeley.cs.scads
<span class="keyword">package</span> storage

<span class="keyword">object</span> <a title="object edu.berkeley.cs.scads.storage.Slice" id="9997">Slice</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[A](start: Option[A], end: Option[A])(implicit evidence$1: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.Slice[A]" id="83577">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="83574">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="Option[A]" id="83575">start</a>: <span title="Option[A]">Option</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Option[A]" id="83576">end</a>: <span title="Option[A]">Option</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#9999" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#83575" title="Option[A]">start</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.Slice[A]">Some</span><span class="delimiter">(</span><a title="A" id="96304">startKey</a><span class="delimiter">)</span> =&gt; <a href="#83576" title="Option[A]">end</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">Some</span><span class="delimiter">(</span><a title="A" id="96306">endKey</a><span class="delimiter">)</span> =&gt; <a href="#98725" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#83577" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96304" title="A">startKey</a>, <a href="#96306" title="A">endKey</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.ToRight[A]">None</span> =&gt; <a href="#98731" title="(startKey: A)(implicit evidence$7: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.ToRight[A]">ToRight</a><a href="#83577" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96304" title="A">startKey</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.Slice[A]">None</span> =&gt; <a href="#83576" title="Option[A]">end</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.FromLeft[A]">Some</span><span class="delimiter">(</span><a title="A" id="96389">endKey</a><span class="delimiter">)</span> =&gt; <a href="#98737" title="(endKey: A)(implicit evidence$6: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.FromLeft[A]">FromLeft</a><a href="#83577" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96389" title="A">endKey</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EntireRange[A]">None</span> =&gt; <a href="#98747" title="()(implicit evidence$3: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EntireRange[A]">EntireRange</a><a href="#83577" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Slice[A] extends java.lang.Object with ScalaObject" id="9999">Slice</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="10000">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="comment">/**
   * Removes slice out of this slice. Returns a new slice which result
   * from this operation
   */</span>
  <span class="keyword">def</span> <a title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.Slice[A]" id="83582">remove</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.Slice[A]" id="83634">slice</a>: <a href="#9999" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#9999" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span>

  <span class="keyword">def</span> <a title="[U](f: (Option[A], Option[A]) =&gt; U)Unit" id="83583">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="83585">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Option[A], Option[A]) =&gt; U" id="83640">f</a>: <span class="delimiter">(</span>Option<span class="delimiter">[</span>A<span class="delimiter">]</span>, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span>: <span title="Unit">Unit</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(a: A, b: A)A" id="83586">max</a><span class="delimiter">(</span><a title="A" id="96455">a</a>: <a href="#10000" title="A">A</a>, <a title="A" id="96456">b</a>: <a href="#10000" title="A">A</a><span class="delimiter">)</span> = <span title="A" class="keyword">if</span> <span class="delimiter">(</span><a href="#83580" title="(v1: A)Ordered[A]">a</a> <span title="(that: A)Boolean">&lt;</span> <a href="#96456" title="A">b</a><span class="delimiter">)</span> <a href="#96456" title="A">b</a> <span class="keyword">else</span> <a href="#96455" title="A">a</a>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(a: A, b: A)A" id="83587">min</a><span class="delimiter">(</span><a title="A" id="96501">a</a>: <a href="#10000" title="A">A</a>, <a title="A" id="96502">b</a>: <a href="#10000" title="A">A</a><span class="delimiter">)</span> = <span title="A" class="keyword">if</span> <span class="delimiter">(</span><a href="#83580" title="(v1: A)Ordered[A]">a</a> <span title="(that: A)Boolean">&gt;</span> <a href="#96502" title="A">b</a><span class="delimiter">)</span> <a href="#96502" title="A">b</a> <span class="keyword">else</span> <a href="#96501" title="A">a</a>
<span class="delimiter">}</span>

<span class="comment">/**
 * Not an object so we can capture implicit evidence for view bound on A
 */</span>
case <span class="keyword">class</span> <a title="class EntireRange[A] extends edu.berkeley.cs.scads.storage.Slice[A] with ScalaObject with Product with Serializable" id="98747">EntireRange</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96429">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9999" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.Slice[A]" id="96433">remove</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.Slice[A]" id="96553">slice</a>: <a href="#9999" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#96553" title="edu.berkeley.cs.scads.storage.Slice[A]">slice</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">EntireRange</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#98742" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96431" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EntireRange[A]">EmptyRange</span><span class="delimiter">(</span><span class="delimiter">)</span>  =&gt; <a href="#98747" title="edu.berkeley.cs.scads.storage.EntireRange[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.ToRight[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="96618">endKey</a><span class="delimiter">)</span> =&gt; <a href="#98731" title="(startKey: A)(implicit evidence$7: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.ToRight[A]">ToRight</a><a href="#96431" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96618" title="A">endKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.FromLeft[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="96651">startKey</a><span class="delimiter">)</span> =&gt; <a href="#98737" title="(endKey: A)(implicit evidence$6: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.FromLeft[A]">FromLeft</a><a href="#96431" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96651" title="A">startKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.CompositeSlice[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="96692">startKey</a>, <a title="A" id="96693">endKey</a><span class="delimiter">)</span> =&gt;
      <a href="#98718" title="(slices: List[edu.berkeley.cs.scads.storage.Slice[A]])(implicit evidence$9: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.CompositeSlice[A]">CompositeSlice</a><a href="#96431" title="A =&gt; Ordered[A]" class="delimiter">(</a><span title="(xs: Product with edu.berkeley.cs.scads.storage.CustomSlice[A] with Serializable*)List[Product with edu.berkeley.cs.scads.storage.CustomSlice[A] with Serializable]">List</span><span class="delimiter">(</span><a href="#98737" title="(endKey: A)(implicit evidence$6: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.FromLeft[A]">FromLeft</a><a href="#96431" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96692" title="A">startKey</a><span class="delimiter">)</span>, <a href="#98731" title="(startKey: A)(implicit evidence$7: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.ToRight[A]">ToRight</a><a href="#96431" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96693" title="A">endKey</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Nothing">CompositeSlice</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.UnsupportedOperationException" class="keyword">new</span> <span title="java.lang.UnsupportedOperationException">UnsupportedOperationException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot remove composite for now&quot;)" class="string">&quot;Cannot remove composite for now&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[U](f: (Option[A], Option[A]) =&gt; U)Unit" id="96434">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96436">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Option[A], Option[A]) =&gt; U" id="97166">f</a>: <span class="delimiter">(</span>Option<span class="delimiter">[</span>A<span class="delimiter">]</span>, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#97166" title="(v1: Option[A], v2: Option[A])U">f</a><span title="Unit" class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span> <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Not an object so we can capture implicit evidence for view bound on A
 */</span>
case <span class="keyword">class</span> <a title="class EmptyRange[A] extends edu.berkeley.cs.scads.storage.Slice[A] with ScalaObject with Product with Serializable" id="98742">EmptyRange</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96565">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9999" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="comment">/** 
   * Remove from the EmptyRange is still the EmptyRange
   */</span>
  <span class="keyword">def</span> <a title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.EmptyRange[A]" id="96569">remove</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.Slice[A]" id="97201">slice</a>: <a href="#9999" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#98742" title="edu.berkeley.cs.scads.storage.EmptyRange[A]" class="keyword">this</a>
  <span class="keyword">def</span> <a title="[U](f: (Option[A], Option[A]) =&gt; U)Unit" id="96570">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96572">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Option[A], Option[A]) =&gt; U" id="97205">f</a>: <span class="delimiter">(</span>Option<span class="delimiter">[</span>A<span class="delimiter">]</span>, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class CustomSlice[A] extends edu.berkeley.cs.scads.storage.Slice[A] with ScalaObject" id="10009">CustomSlice</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="10010">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> <span class="keyword">extends</span> <a href="#9999" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span>

case <span class="keyword">class</span> <a title="class FromLeft[A] extends edu.berkeley.cs.scads.storage.CustomSlice[A] with ScalaObject with Product with Serializable" id="98737">FromLeft</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96394">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="96411">endKey</a>: <a href="#96394" title="A">A</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10009" title="edu.berkeley.cs.scads.storage.CustomSlice[A]">CustomSlice</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.Slice[A]" id="96401">remove</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.Slice[A]" id="97244">slice</a>: <a href="#9999" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#97244" title="edu.berkeley.cs.scads.storage.Slice[A]">slice</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">EntireRange</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#98742" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96399" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.FromLeft[A]">EmptyRange</span><span class="delimiter">(</span><span class="delimiter">)</span>  =&gt; <a href="#98737" title="edu.berkeley.cs.scads.storage.FromLeft[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="97258">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96399" title="(v1: A)Ordered[A]">endKey</a> <span title="(that: A)Boolean">&lt;=</span> <a href="#97258" title="A">thatEndKey</a> =&gt; <a href="#98742" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96399" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="97308">thatEndKey</a><span class="delimiter">)</span> =&gt;
      <a href="#98725" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#96399" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#83587" title="(a: A, b: A)A">min</a><span class="delimiter">(</span><a href="#96411" title="=&gt; A">endKey</a>, <a href="#97308" title="A">thatEndKey</a><span class="delimiter">)</span>, <a href="#83586" title="(a: A, b: A)A">max</a><span class="delimiter">(</span><a href="#96411" title="=&gt; A">endKey</a>, <a href="#97308" title="A">thatEndKey</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.FromLeft[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="97327">startKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96399" title="(v1: A)Ordered[A]">startKey</a> <span title="(that: A)Boolean">&gt;=</span> <a href="#96411" title="=&gt; A">endKey</a> =&gt; <a href="#98737" title="edu.berkeley.cs.scads.storage.FromLeft[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.FromLeft[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="97370">startKey</a><span class="delimiter">)</span> =&gt; <a href="#98737" title="(endKey: A)(implicit evidence$6: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.FromLeft[A]">FromLeft</a><a href="#96399" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#97370" title="A">startKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.FromLeft[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="97384">thatStartKey</a>, <a title="A" id="97385">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96399" title="(v1: A)Ordered[A]">thatStartKey</a> <span title="(that: A)Boolean">&gt;=</span> <a href="#96411" title="=&gt; A">endKey</a> =&gt; <a href="#98737" title="edu.berkeley.cs.scads.storage.FromLeft[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.FromLeft[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="97428">thatStartKey</a>, <a title="A" id="97429">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96399" title="(v1: A)Ordered[A]">thatEndKey</a> <span title="(that: A)Boolean">&gt;=</span> <a href="#96411" title="=&gt; A">endKey</a> =&gt; <a href="#98737" title="(endKey: A)(implicit evidence$6: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.FromLeft[A]">FromLeft</a><a href="#96399" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#97428" title="A">thatStartKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.CompositeSlice[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="97482">thatStartKey</a>, <a title="A" id="97483">thatEndKey</a><span class="delimiter">)</span> =&gt;
      <a href="#98718" title="(slices: List[edu.berkeley.cs.scads.storage.Slice[A]])(implicit evidence$9: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.CompositeSlice[A]">CompositeSlice</a><a href="#96399" title="A =&gt; Ordered[A]" class="delimiter">(</a><span title="(xs: Product with edu.berkeley.cs.scads.storage.CustomSlice[A] with Serializable*)List[Product with edu.berkeley.cs.scads.storage.CustomSlice[A] with Serializable]">List</span><span class="delimiter">(</span><a href="#98737" title="(endKey: A)(implicit evidence$6: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.FromLeft[A]">FromLeft</a><a href="#96399" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#97482" title="A">thatStartKey</a><span class="delimiter">)</span>, <a href="#98725" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#96399" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#97483" title="A">thatEndKey</a>, <a href="#96411" title="=&gt; A">endKey</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Nothing">CompositeSlice</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.UnsupportedOperationException" class="keyword">new</span> <span title="java.lang.UnsupportedOperationException">UnsupportedOperationException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot remove composite for now&quot;)" class="string">&quot;Cannot remove composite for now&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[U](f: (Option[A], Option[A]) =&gt; U)Unit" id="96402">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96404">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Option[A], Option[A]) =&gt; U" id="98196">f</a>: <span class="delimiter">(</span>Option<span class="delimiter">[</span>A<span class="delimiter">]</span>, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#98196" title="(v1: Option[A], v2: Option[A])U">f</a><span title="Unit" class="delimiter">(</span><span title="object None">None</span>, <span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#96411" title="=&gt; A">endKey</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>
<span class="delimiter">}</span>

case <span class="keyword">class</span> <a title="class ToRight[A] extends edu.berkeley.cs.scads.storage.CustomSlice[A] with ScalaObject with Product with Serializable" id="98731">ToRight</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96357">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="96374">startKey</a>: <a href="#96357" title="A">A</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10009" title="edu.berkeley.cs.scads.storage.CustomSlice[A]">CustomSlice</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.Slice[A]" id="96364">remove</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.Slice[A]" id="96777">slice</a>: <a href="#9999" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#96777" title="edu.berkeley.cs.scads.storage.Slice[A]">slice</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">EntireRange</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#98742" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96362" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.ToRight[A]">EmptyRange</span><span class="delimiter">(</span><span class="delimiter">)</span>  =&gt; <a href="#98731" title="edu.berkeley.cs.scads.storage.ToRight[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.ToRight[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="96793">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96362" title="(v1: A)Ordered[A]">startKey</a> <span title="(that: A)Boolean">&gt;=</span> <a href="#96793" title="A">thatEndKey</a> =&gt; <a href="#98731" title="edu.berkeley.cs.scads.storage.ToRight[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.ToRight[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="96839">thatEndKey</a><span class="delimiter">)</span> =&gt; <a href="#98731" title="(startKey: A)(implicit evidence$7: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.ToRight[A]">ToRight</a><a href="#96362" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96839" title="A">thatEndKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="96850">thatStartKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96362" title="(v1: A)Ordered[A]">startKey</a> <span title="(that: A)Boolean">&gt;=</span> <a href="#96850" title="A">thatStartKey</a> =&gt; <a href="#98742" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96362" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="96898">thatStartKey</a><span class="delimiter">)</span> =&gt;
      <a href="#98725" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#96362" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#83587" title="(a: A, b: A)A">min</a><span class="delimiter">(</span><a href="#96374" title="=&gt; A">startKey</a>, <a href="#96898" title="A">thatStartKey</a><span class="delimiter">)</span>, <a href="#83586" title="(a: A, b: A)A">max</a><span class="delimiter">(</span><a href="#96374" title="=&gt; A">startKey</a>, <a href="#96898" title="A">thatStartKey</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.ToRight[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="96918">thatStartKey</a>, <a title="A" id="96919">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96362" title="(v1: A)Ordered[A]">thatEndKey</a> <span title="(that: A)Boolean">&lt;=</span> <a href="#96374" title="=&gt; A">startKey</a> =&gt; <a href="#98731" title="edu.berkeley.cs.scads.storage.ToRight[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.ToRight[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="96965">thatStartKey</a>, <a title="A" id="96966">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96362" title="(v1: A)Ordered[A]">thatStartKey</a> <span title="(that: A)Boolean">&lt;=</span> <a href="#96374" title="=&gt; A">startKey</a> =&gt; <a href="#98731" title="(startKey: A)(implicit evidence$7: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.ToRight[A]">ToRight</a><a href="#96362" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96966" title="A">thatEndKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.CompositeSlice[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="97019">thatStartKey</a>, <a title="A" id="97020">thatEndKey</a><span class="delimiter">)</span> =&gt;
      <a href="#98718" title="(slices: List[edu.berkeley.cs.scads.storage.Slice[A]])(implicit evidence$9: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.CompositeSlice[A]">CompositeSlice</a><a href="#96362" title="A =&gt; Ordered[A]" class="delimiter">(</a><span title="(xs: Product with edu.berkeley.cs.scads.storage.CustomSlice[A] with Serializable*)List[Product with edu.berkeley.cs.scads.storage.CustomSlice[A] with Serializable]">List</span><span class="delimiter">(</span><a href="#98725" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#96362" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96374" title="=&gt; A">startKey</a>, <a href="#97019" title="A">thatStartKey</a><span class="delimiter">)</span>, <a href="#98731" title="(startKey: A)(implicit evidence$7: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.ToRight[A]">ToRight</a><a href="#96362" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#97020" title="A">thatEndKey</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Nothing">CompositeSlice</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.UnsupportedOperationException" class="keyword">new</span> <span title="java.lang.UnsupportedOperationException">UnsupportedOperationException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot remove composite for now&quot;)" class="string">&quot;Cannot remove composite for now&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[U](f: (Option[A], Option[A]) =&gt; U)Unit" id="96365">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96367">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Option[A], Option[A]) =&gt; U" id="96765">f</a>: <span class="delimiter">(</span>Option<span class="delimiter">[</span>A<span class="delimiter">]</span>, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#96765" title="(v1: Option[A], v2: Option[A])U">f</a><span title="Unit" class="delimiter">(</span><span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#96374" title="=&gt; A">startKey</a><span class="delimiter">)</span>, <span title="object None">None</span><span class="delimiter">)</span> <span class="delimiter">}</span>
<span class="delimiter">}</span>

case <span class="keyword">class</span> <a title="class BoundedSlice[A] extends edu.berkeley.cs.scads.storage.CustomSlice[A] with ScalaObject with Product with Serializable" id="98725">BoundedSlice</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96311">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="96334">startKey</a>: <a href="#96311" title="A">A</a>, <a title="A" id="96335">endKey</a>: <a href="#96311" title="A">A</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10009" title="edu.berkeley.cs.scads.storage.CustomSlice[A]">CustomSlice</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#96322" title="(v1: A)Ordered[A]">endKey</a> <span title="(that: A)Boolean">&gt;</span> <a href="#96334" title="=&gt; A">startKey</a><span class="delimiter">)</span>                                    

  <span class="keyword">def</span> <a title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.Slice[A]" id="96324">remove</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.Slice[A]" id="97542">slice</a>: <a href="#9999" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#97542" title="edu.berkeley.cs.scads.storage.Slice[A]">slice</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">EntireRange</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#98742" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96322" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">EmptyRange</span><span class="delimiter">(</span><span class="delimiter">)</span>  =&gt; <a href="#98725" title="edu.berkeley.cs.scads.storage.BoundedSlice[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="97558">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96322" title="(v1: A)Ordered[A]">thatEndKey</a> <span title="(that: A)Boolean">&lt;=</span> <a href="#96334" title="=&gt; A">startKey</a> =&gt; <a href="#98725" title="edu.berkeley.cs.scads.storage.BoundedSlice[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="97602">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96322" title="(v1: A)Ordered[A]">thatEndKey</a> <span title="(that: A)Boolean">&lt;</span> <a href="#96335" title="=&gt; A">endKey</a> =&gt; <a href="#98725" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#96322" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#97602" title="A">thatEndKey</a>, <a href="#96335" title="=&gt; A">endKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="97657">thatEndKey</a><span class="delimiter">)</span> =&gt; <a href="#98742" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96322" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="97668">thatStartKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96322" title="(v1: A)Ordered[A]">thatStartKey</a> <span title="(that: A)Boolean">&gt;=</span> <a href="#96335" title="=&gt; A">endKey</a> =&gt; <a href="#98725" title="edu.berkeley.cs.scads.storage.BoundedSlice[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="97711">thatStartKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96322" title="(v1: A)Ordered[A]">thatStartKey</a> <span title="(that: A)Boolean">&gt;</span> <a href="#96334" title="=&gt; A">startKey</a> =&gt; <a href="#98725" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#96322" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96334" title="=&gt; A">startKey</a>, <a href="#97711" title="A">thatStartKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="97766">thatStartKey</a><span class="delimiter">)</span> =&gt; <a href="#98742" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96322" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="97775">thatStartKey</a>, <a title="A" id="97776">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96322" title="(v1: A)Ordered[A]">thatStartKey</a>.<span title="(that: A)Int">compare</span><span class="delimiter">(</span><a href="#96334" title="=&gt; A">startKey</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#96322" title="(v1: A)Ordered[A]">thatEndKey</a>.<span title="(that: A)Int">compare</span><span class="delimiter">(</span><a href="#96335" title="=&gt; A">endKey</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span> =&gt; <a href="#98742" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96322" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="97867">thatStartKey</a>, <a title="A" id="97868">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96322" title="(v1: A)Ordered[A]">endKey</a> <span title="(that: A)Boolean">&lt;=</span> <a href="#97867" title="A">thatStartKey</a> <span title="(x: Boolean)Boolean">||</span> <a href="#96322" title="(v1: A)Ordered[A]">thatEndKey</a> <span title="(that: A)Boolean">&lt;=</span> <a href="#96334" title="=&gt; A">startKey</a> =&gt; <a href="#98725" title="edu.berkeley.cs.scads.storage.BoundedSlice[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.Slice[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="97947">thatStartKey</a>, <a title="A" id="97948">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96322" title="(v1: A)Ordered[A]">thatStartKey</a> <span title="(that: A)Boolean">&lt;=</span> <a href="#96334" title="=&gt; A">startKey</a> =&gt;
      <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">if</span> <span class="delimiter">(</span><a href="#96322" title="(v1: A)Ordered[A]">thatEndKey</a> <span title="(that: A)Boolean">&lt;</span> <a href="#96335" title="=&gt; A">endKey</a><span class="delimiter">)</span> <a href="#98725" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#96322" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#97948" title="A">thatEndKey</a>, <a href="#96335" title="=&gt; A">endKey</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#98742" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96322" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.Slice[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="98047">thatStartKey</a>, <a title="A" id="98048">thatEndKey</a><span class="delimiter">)</span> =&gt;
      <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">if</span> <span class="delimiter">(</span><a href="#96322" title="(v1: A)Ordered[A]">thatEndKey</a> <span title="(that: A)Boolean">&lt;</span> <a href="#96335" title="=&gt; A">endKey</a><span class="delimiter">)</span> <a href="#98718" title="(slices: List[edu.berkeley.cs.scads.storage.Slice[A]])(implicit evidence$9: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.CompositeSlice[A]">CompositeSlice</a><a href="#96322" title="A =&gt; Ordered[A]" class="delimiter">(</a><span title="(xs: edu.berkeley.cs.scads.storage.BoundedSlice[A]*)List[edu.berkeley.cs.scads.storage.BoundedSlice[A]]">List</span><span class="delimiter">(</span><a href="#98725" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#96322" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96334" title="=&gt; A">startKey</a>, <a href="#98047" title="A">thatStartKey</a><span class="delimiter">)</span>, <a href="#98725" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#96322" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#98048" title="A">thatEndKey</a>, <a href="#96335" title="=&gt; A">endKey</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#98725" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#96322" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96334" title="=&gt; A">startKey</a>, <a href="#98047" title="A">thatStartKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Nothing">CompositeSlice</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.UnsupportedOperationException" class="keyword">new</span> <span title="java.lang.UnsupportedOperationException">UnsupportedOperationException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot remove composite for now&quot;)" class="string">&quot;Cannot remove composite for now&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[U](f: (Option[A], Option[A]) =&gt; U)Unit" id="96325">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96327">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Option[A], Option[A]) =&gt; U" id="97530">f</a>: <span class="delimiter">(</span>Option<span class="delimiter">[</span>A<span class="delimiter">]</span>, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#97530" title="(v1: Option[A], v2: Option[A])U">f</a><span title="Unit" class="delimiter">(</span><span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#96334" title="=&gt; A">startKey</a><span class="delimiter">)</span>, <span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#96335" title="=&gt; A">endKey</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>
<span class="delimiter">}</span>

case <span class="keyword">class</span> <a title="class CompositeSlice[A] extends edu.berkeley.cs.scads.storage.CustomSlice[A] with ScalaObject with Product with Serializable" id="98718">CompositeSlice</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96698">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[edu.berkeley.cs.scads.storage.Slice[A]]" id="96715">slices</a>: <span title="List[edu.berkeley.cs.scads.storage.Slice[A]]">List</span><span class="delimiter">[</span>Slice<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10009" title="edu.berkeley.cs.scads.storage.CustomSlice[A]">CustomSlice</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="comment">// TODO: assert that all slices are in order and do not overlap! </span>

  <span class="keyword">def</span> <a title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.Slice[A]" id="96705">remove</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.Slice[A]" id="98396">slice</a>: <a href="#9999" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#98396" title="edu.berkeley.cs.scads.storage.Slice[A]">slice</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Nothing">CompositeSlice</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.UnsupportedOperationException" class="keyword">new</span> <span title="java.lang.UnsupportedOperationException">UnsupportedOperationException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot remove composite for now&quot;)" class="string">&quot;Cannot remove composite for now&quot;</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.Slice[A]">_</span> =&gt;
      <a href="#96715" title="=&gt; List[edu.berkeley.cs.scads.storage.Slice[A]]">slices</a>.<span title="(f: edu.berkeley.cs.scads.storage.Slice[A] =&gt; scala.collection.GenTraversableOnce[edu.berkeley.cs.scads.storage.Slice[A]])(implicit bf: scala.collection.generic.CanBuildFrom[List[edu.berkeley.cs.scads.storage.Slice[A]],edu.berkeley.cs.scads.storage.Slice[A],List[edu.berkeley.cs.scads.storage.Slice[A]]])List[edu.berkeley.cs.scads.storage.Slice[A]]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,edu.berkeley.cs.scads.storage.Slice[A],List[edu.berkeley.cs.scads.storage.Slice[A]]]" class="delimiter">(</span><a href="#98420" title="edu.berkeley.cs.scads.storage.Slice[A]">_</a>.<a href="#83582" title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.Slice[A]">remove</a><span class="delimiter">(</span><a href="#98396" title="edu.berkeley.cs.scads.storage.Slice[A]">slice</a><span class="delimiter">)</span> <span title="List[edu.berkeley.cs.scads.storage.Slice[A]]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="List[edu.berkeley.cs.scads.storage.Slice[A]]">CompositeSlice</span><span class="delimiter">(</span><a title="List[edu.berkeley.cs.scads.storage.Slice[A]]" id="98422">xs</a><span class="delimiter">)</span> =&gt; <a href="#98422" title="List[edu.berkeley.cs.scads.storage.Slice[A]]">xs</a>
        <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">EmptyRange</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span title="object Nil">Nil</span>
        <span class="keyword">case</span> <a title="List[edu.berkeley.cs.scads.storage.Slice[A]]" id="98424">x</a> =&gt; <span title="(xs: edu.berkeley.cs.scads.storage.Slice[A]*)List[edu.berkeley.cs.scads.storage.Slice[A]]">List</span><span class="delimiter">(</span><a href="#98424" title="edu.berkeley.cs.scads.storage.Slice[A]">x</a><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">Nil</span> =&gt; <a href="#98742" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96703" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="edu.berkeley.cs.scads.storage.Slice[A]" id="98620">x</a> :: <span title="object Nil">Nil</span> =&gt; <a href="#98620" title="edu.berkeley.cs.scads.storage.Slice[A]">x</a>
        <span class="keyword">case</span> <a title="edu.berkeley.cs.scads.storage.CompositeSlice[A]" id="98621">xs</a> =&gt; <a href="#98718" title="(slices: List[edu.berkeley.cs.scads.storage.Slice[A]])(implicit evidence$9: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.CompositeSlice[A]">CompositeSlice</a><a href="#96703" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#98621" title="List[edu.berkeley.cs.scads.storage.Slice[A]]">xs</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[U](f: (Option[A], Option[A]) =&gt; U)Unit" id="96706">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96708">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Option[A], Option[A]) =&gt; U" id="98643">f</a>: <span class="delimiter">(</span>Option<span class="delimiter">[</span>A<span class="delimiter">]</span>, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span> <span class="delimiter">{</span> 
    <a href="#96715" title="=&gt; List[edu.berkeley.cs.scads.storage.Slice[A]]">slices</a>.<span title="(f: edu.berkeley.cs.scads.storage.Slice[A] =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#98668" title="edu.berkeley.cs.scads.storage.Slice[A]">_</a>.<a href="#83583" title="(f: (Option[A], Option[A]) =&gt; U)Unit">foreach</a><span class="delimiter">(</span><a href="#98643" title="(Option[A], Option[A]) =&gt; U">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>