<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>util/Slices.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> edu.berkeley.cs.scads
<span class="keyword">package</span> storage

<span class="keyword">object</span> <a title="object edu.berkeley.cs.scads.storage.Slice" id="9991">Slice</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[A](start: Option[A], end: Option[A])(implicit evidence$1: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.Slice[A]" id="83593">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="83590">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="Option[A]" id="83591">start</a>: <span title="Option[A]">Option</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Option[A]" id="83592">end</a>: <span title="Option[A]">Option</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#9993" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#83591" title="Option[A]">start</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.Slice[A]">Some</span><span class="delimiter">(</span><a title="A" id="96320">startKey</a><span class="delimiter">)</span> =&gt; <a href="#83592" title="Option[A]">end</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">Some</span><span class="delimiter">(</span><a title="A" id="96322">endKey</a><span class="delimiter">)</span> =&gt; <a href="#98741" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#83593" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96320" title="A">startKey</a>, <a href="#96322" title="A">endKey</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.ToRight[A]">None</span> =&gt; <a href="#98747" title="(startKey: A)(implicit evidence$7: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.ToRight[A]">ToRight</a><a href="#83593" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96320" title="A">startKey</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.Slice[A]">None</span> =&gt; <a href="#83592" title="Option[A]">end</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.FromLeft[A]">Some</span><span class="delimiter">(</span><a title="A" id="96405">endKey</a><span class="delimiter">)</span> =&gt; <a href="#98753" title="(endKey: A)(implicit evidence$6: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.FromLeft[A]">FromLeft</a><a href="#83593" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96405" title="A">endKey</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EntireRange[A]">None</span> =&gt; <a href="#98763" title="()(implicit evidence$3: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EntireRange[A]">EntireRange</a><a href="#83593" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Slice[A] extends java.lang.Object with ScalaObject" id="9993">Slice</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="9994">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="comment">/**
   * Removes slice out of this slice. Returns a new slice which result
   * from this operation
   */</span>
  <span class="keyword">def</span> <a title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.Slice[A]" id="83598">remove</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.Slice[A]" id="83650">slice</a>: <a href="#9993" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#9993" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span>

  <span class="keyword">def</span> <a title="[U](f: (Option[A], Option[A]) =&gt; U)Unit" id="83599">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="83601">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Option[A], Option[A]) =&gt; U" id="83656">f</a>: <span class="delimiter">(</span>Option<span class="delimiter">[</span>A<span class="delimiter">]</span>, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span>: <span title="Unit">Unit</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(a: A, b: A)A" id="83602">max</a><span class="delimiter">(</span><a title="A" id="96471">a</a>: <a href="#9994" title="A">A</a>, <a title="A" id="96472">b</a>: <a href="#9994" title="A">A</a><span class="delimiter">)</span> = <span title="A" class="keyword">if</span> <span class="delimiter">(</span><a href="#83596" title="(v1: A)Ordered[A]">a</a> <span title="(that: A)Boolean">&lt;</span> <a href="#96472" title="A">b</a><span class="delimiter">)</span> <a href="#96472" title="A">b</a> <span class="keyword">else</span> <a href="#96471" title="A">a</a>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(a: A, b: A)A" id="83603">min</a><span class="delimiter">(</span><a title="A" id="96517">a</a>: <a href="#9994" title="A">A</a>, <a title="A" id="96518">b</a>: <a href="#9994" title="A">A</a><span class="delimiter">)</span> = <span title="A" class="keyword">if</span> <span class="delimiter">(</span><a href="#83596" title="(v1: A)Ordered[A]">a</a> <span title="(that: A)Boolean">&gt;</span> <a href="#96518" title="A">b</a><span class="delimiter">)</span> <a href="#96518" title="A">b</a> <span class="keyword">else</span> <a href="#96517" title="A">a</a>
<span class="delimiter">}</span>

<span class="comment">/**
 * Not an object so we can capture implicit evidence for view bound on A
 */</span>
case <span class="keyword">class</span> <a title="class EntireRange[A] extends edu.berkeley.cs.scads.storage.Slice[A] with ScalaObject with Product with Serializable" id="98763">EntireRange</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96445">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9993" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.Slice[A]" id="96449">remove</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.Slice[A]" id="96569">slice</a>: <a href="#9993" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#96569" title="edu.berkeley.cs.scads.storage.Slice[A]">slice</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">EntireRange</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#98758" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96447" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EntireRange[A]">EmptyRange</span><span class="delimiter">(</span><span class="delimiter">)</span>  =&gt; <a href="#98763" title="edu.berkeley.cs.scads.storage.EntireRange[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.ToRight[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="96634">endKey</a><span class="delimiter">)</span> =&gt; <a href="#98747" title="(startKey: A)(implicit evidence$7: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.ToRight[A]">ToRight</a><a href="#96447" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96634" title="A">endKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.FromLeft[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="96667">startKey</a><span class="delimiter">)</span> =&gt; <a href="#98753" title="(endKey: A)(implicit evidence$6: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.FromLeft[A]">FromLeft</a><a href="#96447" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96667" title="A">startKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.CompositeSlice[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="96708">startKey</a>, <a title="A" id="96709">endKey</a><span class="delimiter">)</span> =&gt;
      <a href="#98734" title="(slices: List[edu.berkeley.cs.scads.storage.Slice[A]])(implicit evidence$9: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.CompositeSlice[A]">CompositeSlice</a><a href="#96447" title="A =&gt; Ordered[A]" class="delimiter">(</a><span title="(xs: Product with edu.berkeley.cs.scads.storage.CustomSlice[A] with Serializable*)List[Product with edu.berkeley.cs.scads.storage.CustomSlice[A] with Serializable]">List</span><span class="delimiter">(</span><a href="#98753" title="(endKey: A)(implicit evidence$6: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.FromLeft[A]">FromLeft</a><a href="#96447" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96708" title="A">startKey</a><span class="delimiter">)</span>, <a href="#98747" title="(startKey: A)(implicit evidence$7: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.ToRight[A]">ToRight</a><a href="#96447" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96709" title="A">endKey</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Nothing">CompositeSlice</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.UnsupportedOperationException" class="keyword">new</span> <span title="java.lang.UnsupportedOperationException">UnsupportedOperationException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot remove composite for now&quot;)" class="string">&quot;Cannot remove composite for now&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[U](f: (Option[A], Option[A]) =&gt; U)Unit" id="96450">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96452">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Option[A], Option[A]) =&gt; U" id="97182">f</a>: <span class="delimiter">(</span>Option<span class="delimiter">[</span>A<span class="delimiter">]</span>, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#97182" title="(v1: Option[A], v2: Option[A])U">f</a><span title="Unit" class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span> <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Not an object so we can capture implicit evidence for view bound on A
 */</span>
case <span class="keyword">class</span> <a title="class EmptyRange[A] extends edu.berkeley.cs.scads.storage.Slice[A] with ScalaObject with Product with Serializable" id="98758">EmptyRange</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96581">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#9993" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="comment">/** 
   * Remove from the EmptyRange is still the EmptyRange
   */</span>
  <span class="keyword">def</span> <a title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.EmptyRange[A]" id="96585">remove</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.Slice[A]" id="97217">slice</a>: <a href="#9993" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#98758" title="edu.berkeley.cs.scads.storage.EmptyRange[A]" class="keyword">this</a>
  <span class="keyword">def</span> <a title="[U](f: (Option[A], Option[A]) =&gt; U)Unit" id="96586">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96588">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Option[A], Option[A]) =&gt; U" id="97221">f</a>: <span class="delimiter">(</span>Option<span class="delimiter">[</span>A<span class="delimiter">]</span>, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class CustomSlice[A] extends edu.berkeley.cs.scads.storage.Slice[A] with ScalaObject" id="10003">CustomSlice</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="10004">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> <span class="keyword">extends</span> <a href="#9993" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span>

case <span class="keyword">class</span> <a title="class FromLeft[A] extends edu.berkeley.cs.scads.storage.CustomSlice[A] with ScalaObject with Product with Serializable" id="98753">FromLeft</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96410">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="96427">endKey</a>: <a href="#96410" title="A">A</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10003" title="edu.berkeley.cs.scads.storage.CustomSlice[A]">CustomSlice</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.Slice[A]" id="96417">remove</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.Slice[A]" id="97260">slice</a>: <a href="#9993" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#97260" title="edu.berkeley.cs.scads.storage.Slice[A]">slice</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">EntireRange</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#98758" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96415" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.FromLeft[A]">EmptyRange</span><span class="delimiter">(</span><span class="delimiter">)</span>  =&gt; <a href="#98753" title="edu.berkeley.cs.scads.storage.FromLeft[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="97274">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96415" title="(v1: A)Ordered[A]">endKey</a> <span title="(that: A)Boolean">&lt;=</span> <a href="#97274" title="A">thatEndKey</a> =&gt; <a href="#98758" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96415" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="97324">thatEndKey</a><span class="delimiter">)</span> =&gt;
      <a href="#98741" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#96415" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#83603" title="(a: A, b: A)A">min</a><span class="delimiter">(</span><a href="#96427" title="=&gt; A">endKey</a>, <a href="#97324" title="A">thatEndKey</a><span class="delimiter">)</span>, <a href="#83602" title="(a: A, b: A)A">max</a><span class="delimiter">(</span><a href="#96427" title="=&gt; A">endKey</a>, <a href="#97324" title="A">thatEndKey</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.FromLeft[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="97343">startKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96415" title="(v1: A)Ordered[A]">startKey</a> <span title="(that: A)Boolean">&gt;=</span> <a href="#96427" title="=&gt; A">endKey</a> =&gt; <a href="#98753" title="edu.berkeley.cs.scads.storage.FromLeft[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.FromLeft[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="97386">startKey</a><span class="delimiter">)</span> =&gt; <a href="#98753" title="(endKey: A)(implicit evidence$6: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.FromLeft[A]">FromLeft</a><a href="#96415" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#97386" title="A">startKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.FromLeft[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="97400">thatStartKey</a>, <a title="A" id="97401">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96415" title="(v1: A)Ordered[A]">thatStartKey</a> <span title="(that: A)Boolean">&gt;=</span> <a href="#96427" title="=&gt; A">endKey</a> =&gt; <a href="#98753" title="edu.berkeley.cs.scads.storage.FromLeft[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.FromLeft[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="97444">thatStartKey</a>, <a title="A" id="97445">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96415" title="(v1: A)Ordered[A]">thatEndKey</a> <span title="(that: A)Boolean">&gt;=</span> <a href="#96427" title="=&gt; A">endKey</a> =&gt; <a href="#98753" title="(endKey: A)(implicit evidence$6: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.FromLeft[A]">FromLeft</a><a href="#96415" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#97444" title="A">thatStartKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.CompositeSlice[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="97498">thatStartKey</a>, <a title="A" id="97499">thatEndKey</a><span class="delimiter">)</span> =&gt;
      <a href="#98734" title="(slices: List[edu.berkeley.cs.scads.storage.Slice[A]])(implicit evidence$9: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.CompositeSlice[A]">CompositeSlice</a><a href="#96415" title="A =&gt; Ordered[A]" class="delimiter">(</a><span title="(xs: Product with edu.berkeley.cs.scads.storage.CustomSlice[A] with Serializable*)List[Product with edu.berkeley.cs.scads.storage.CustomSlice[A] with Serializable]">List</span><span class="delimiter">(</span><a href="#98753" title="(endKey: A)(implicit evidence$6: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.FromLeft[A]">FromLeft</a><a href="#96415" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#97498" title="A">thatStartKey</a><span class="delimiter">)</span>, <a href="#98741" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#96415" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#97499" title="A">thatEndKey</a>, <a href="#96427" title="=&gt; A">endKey</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Nothing">CompositeSlice</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.UnsupportedOperationException" class="keyword">new</span> <span title="java.lang.UnsupportedOperationException">UnsupportedOperationException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot remove composite for now&quot;)" class="string">&quot;Cannot remove composite for now&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[U](f: (Option[A], Option[A]) =&gt; U)Unit" id="96418">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96420">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Option[A], Option[A]) =&gt; U" id="98212">f</a>: <span class="delimiter">(</span>Option<span class="delimiter">[</span>A<span class="delimiter">]</span>, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#98212" title="(v1: Option[A], v2: Option[A])U">f</a><span title="Unit" class="delimiter">(</span><span title="object None">None</span>, <span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#96427" title="=&gt; A">endKey</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>
<span class="delimiter">}</span>

case <span class="keyword">class</span> <a title="class ToRight[A] extends edu.berkeley.cs.scads.storage.CustomSlice[A] with ScalaObject with Product with Serializable" id="98747">ToRight</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96373">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="96390">startKey</a>: <a href="#96373" title="A">A</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10003" title="edu.berkeley.cs.scads.storage.CustomSlice[A]">CustomSlice</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.Slice[A]" id="96380">remove</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.Slice[A]" id="96793">slice</a>: <a href="#9993" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#96793" title="edu.berkeley.cs.scads.storage.Slice[A]">slice</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">EntireRange</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#98758" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96378" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.ToRight[A]">EmptyRange</span><span class="delimiter">(</span><span class="delimiter">)</span>  =&gt; <a href="#98747" title="edu.berkeley.cs.scads.storage.ToRight[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.ToRight[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="96809">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96378" title="(v1: A)Ordered[A]">startKey</a> <span title="(that: A)Boolean">&gt;=</span> <a href="#96809" title="A">thatEndKey</a> =&gt; <a href="#98747" title="edu.berkeley.cs.scads.storage.ToRight[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.ToRight[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="96855">thatEndKey</a><span class="delimiter">)</span> =&gt; <a href="#98747" title="(startKey: A)(implicit evidence$7: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.ToRight[A]">ToRight</a><a href="#96378" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96855" title="A">thatEndKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="96866">thatStartKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96378" title="(v1: A)Ordered[A]">startKey</a> <span title="(that: A)Boolean">&gt;=</span> <a href="#96866" title="A">thatStartKey</a> =&gt; <a href="#98758" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96378" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="96914">thatStartKey</a><span class="delimiter">)</span> =&gt;
      <a href="#98741" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#96378" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#83603" title="(a: A, b: A)A">min</a><span class="delimiter">(</span><a href="#96390" title="=&gt; A">startKey</a>, <a href="#96914" title="A">thatStartKey</a><span class="delimiter">)</span>, <a href="#83602" title="(a: A, b: A)A">max</a><span class="delimiter">(</span><a href="#96390" title="=&gt; A">startKey</a>, <a href="#96914" title="A">thatStartKey</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.ToRight[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="96934">thatStartKey</a>, <a title="A" id="96935">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96378" title="(v1: A)Ordered[A]">thatEndKey</a> <span title="(that: A)Boolean">&lt;=</span> <a href="#96390" title="=&gt; A">startKey</a> =&gt; <a href="#98747" title="edu.berkeley.cs.scads.storage.ToRight[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.ToRight[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="96981">thatStartKey</a>, <a title="A" id="96982">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96378" title="(v1: A)Ordered[A]">thatStartKey</a> <span title="(that: A)Boolean">&lt;=</span> <a href="#96390" title="=&gt; A">startKey</a> =&gt; <a href="#98747" title="(startKey: A)(implicit evidence$7: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.ToRight[A]">ToRight</a><a href="#96378" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96982" title="A">thatEndKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.CompositeSlice[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="97035">thatStartKey</a>, <a title="A" id="97036">thatEndKey</a><span class="delimiter">)</span> =&gt;
      <a href="#98734" title="(slices: List[edu.berkeley.cs.scads.storage.Slice[A]])(implicit evidence$9: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.CompositeSlice[A]">CompositeSlice</a><a href="#96378" title="A =&gt; Ordered[A]" class="delimiter">(</a><span title="(xs: Product with edu.berkeley.cs.scads.storage.CustomSlice[A] with Serializable*)List[Product with edu.berkeley.cs.scads.storage.CustomSlice[A] with Serializable]">List</span><span class="delimiter">(</span><a href="#98741" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#96378" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96390" title="=&gt; A">startKey</a>, <a href="#97035" title="A">thatStartKey</a><span class="delimiter">)</span>, <a href="#98747" title="(startKey: A)(implicit evidence$7: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.ToRight[A]">ToRight</a><a href="#96378" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#97036" title="A">thatEndKey</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Nothing">CompositeSlice</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.UnsupportedOperationException" class="keyword">new</span> <span title="java.lang.UnsupportedOperationException">UnsupportedOperationException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot remove composite for now&quot;)" class="string">&quot;Cannot remove composite for now&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[U](f: (Option[A], Option[A]) =&gt; U)Unit" id="96381">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96383">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Option[A], Option[A]) =&gt; U" id="96781">f</a>: <span class="delimiter">(</span>Option<span class="delimiter">[</span>A<span class="delimiter">]</span>, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#96781" title="(v1: Option[A], v2: Option[A])U">f</a><span title="Unit" class="delimiter">(</span><span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#96390" title="=&gt; A">startKey</a><span class="delimiter">)</span>, <span title="object None">None</span><span class="delimiter">)</span> <span class="delimiter">}</span>
<span class="delimiter">}</span>

case <span class="keyword">class</span> <a title="class BoundedSlice[A] extends edu.berkeley.cs.scads.storage.CustomSlice[A] with ScalaObject with Product with Serializable" id="98741">BoundedSlice</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96327">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="96350">startKey</a>: <a href="#96327" title="A">A</a>, <a title="A" id="96351">endKey</a>: <a href="#96327" title="A">A</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10003" title="edu.berkeley.cs.scads.storage.CustomSlice[A]">CustomSlice</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#96338" title="(v1: A)Ordered[A]">endKey</a> <span title="(that: A)Boolean">&gt;</span> <a href="#96350" title="=&gt; A">startKey</a><span class="delimiter">)</span>                                    

  <span class="keyword">def</span> <a title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.Slice[A]" id="96340">remove</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.Slice[A]" id="97558">slice</a>: <a href="#9993" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#97558" title="edu.berkeley.cs.scads.storage.Slice[A]">slice</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">EntireRange</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#98758" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96338" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">EmptyRange</span><span class="delimiter">(</span><span class="delimiter">)</span>  =&gt; <a href="#98741" title="edu.berkeley.cs.scads.storage.BoundedSlice[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="97574">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96338" title="(v1: A)Ordered[A]">thatEndKey</a> <span title="(that: A)Boolean">&lt;=</span> <a href="#96350" title="=&gt; A">startKey</a> =&gt; <a href="#98741" title="edu.berkeley.cs.scads.storage.BoundedSlice[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="97618">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96338" title="(v1: A)Ordered[A]">thatEndKey</a> <span title="(that: A)Boolean">&lt;</span> <a href="#96351" title="=&gt; A">endKey</a> =&gt; <a href="#98741" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#96338" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#97618" title="A">thatEndKey</a>, <a href="#96351" title="=&gt; A">endKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="97673">thatEndKey</a><span class="delimiter">)</span> =&gt; <a href="#98758" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96338" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="97684">thatStartKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96338" title="(v1: A)Ordered[A]">thatStartKey</a> <span title="(that: A)Boolean">&gt;=</span> <a href="#96351" title="=&gt; A">endKey</a> =&gt; <a href="#98741" title="edu.berkeley.cs.scads.storage.BoundedSlice[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="97727">thatStartKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96338" title="(v1: A)Ordered[A]">thatStartKey</a> <span title="(that: A)Boolean">&gt;</span> <a href="#96350" title="=&gt; A">startKey</a> =&gt; <a href="#98741" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#96338" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96350" title="=&gt; A">startKey</a>, <a href="#97727" title="A">thatStartKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="97782">thatStartKey</a><span class="delimiter">)</span> =&gt; <a href="#98758" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96338" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="97791">thatStartKey</a>, <a title="A" id="97792">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96338" title="(v1: A)Ordered[A]">thatStartKey</a>.<span title="(that: A)Int">compare</span><span class="delimiter">(</span><a href="#96350" title="=&gt; A">startKey</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#96338" title="(v1: A)Ordered[A]">thatEndKey</a>.<span title="(that: A)Int">compare</span><span class="delimiter">(</span><a href="#96351" title="=&gt; A">endKey</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span> =&gt; <a href="#98758" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96338" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="97883">thatStartKey</a>, <a title="A" id="97884">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96338" title="(v1: A)Ordered[A]">endKey</a> <span title="(that: A)Boolean">&lt;=</span> <a href="#97883" title="A">thatStartKey</a> <span title="(x: Boolean)Boolean">||</span> <a href="#96338" title="(v1: A)Ordered[A]">thatEndKey</a> <span title="(that: A)Boolean">&lt;=</span> <a href="#96350" title="=&gt; A">startKey</a> =&gt; <a href="#98741" title="edu.berkeley.cs.scads.storage.BoundedSlice[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.Slice[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="97963">thatStartKey</a>, <a title="A" id="97964">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#96338" title="(v1: A)Ordered[A]">thatStartKey</a> <span title="(that: A)Boolean">&lt;=</span> <a href="#96350" title="=&gt; A">startKey</a> =&gt;
      <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">if</span> <span class="delimiter">(</span><a href="#96338" title="(v1: A)Ordered[A]">thatEndKey</a> <span title="(that: A)Boolean">&lt;</span> <a href="#96351" title="=&gt; A">endKey</a><span class="delimiter">)</span> <a href="#98741" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#96338" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#97964" title="A">thatEndKey</a>, <a href="#96351" title="=&gt; A">endKey</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#98758" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96338" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.Slice[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="98063">thatStartKey</a>, <a title="A" id="98064">thatEndKey</a><span class="delimiter">)</span> =&gt;
      <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">if</span> <span class="delimiter">(</span><a href="#96338" title="(v1: A)Ordered[A]">thatEndKey</a> <span title="(that: A)Boolean">&lt;</span> <a href="#96351" title="=&gt; A">endKey</a><span class="delimiter">)</span> <a href="#98734" title="(slices: List[edu.berkeley.cs.scads.storage.Slice[A]])(implicit evidence$9: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.CompositeSlice[A]">CompositeSlice</a><a href="#96338" title="A =&gt; Ordered[A]" class="delimiter">(</a><span title="(xs: edu.berkeley.cs.scads.storage.BoundedSlice[A]*)List[edu.berkeley.cs.scads.storage.BoundedSlice[A]]">List</span><span class="delimiter">(</span><a href="#98741" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#96338" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96350" title="=&gt; A">startKey</a>, <a href="#98063" title="A">thatStartKey</a><span class="delimiter">)</span>, <a href="#98741" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#96338" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#98064" title="A">thatEndKey</a>, <a href="#96351" title="=&gt; A">endKey</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#98741" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#96338" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#96350" title="=&gt; A">startKey</a>, <a href="#98063" title="A">thatStartKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Nothing">CompositeSlice</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.UnsupportedOperationException" class="keyword">new</span> <span title="java.lang.UnsupportedOperationException">UnsupportedOperationException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot remove composite for now&quot;)" class="string">&quot;Cannot remove composite for now&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[U](f: (Option[A], Option[A]) =&gt; U)Unit" id="96341">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96343">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Option[A], Option[A]) =&gt; U" id="97546">f</a>: <span class="delimiter">(</span>Option<span class="delimiter">[</span>A<span class="delimiter">]</span>, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#97546" title="(v1: Option[A], v2: Option[A])U">f</a><span title="Unit" class="delimiter">(</span><span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#96350" title="=&gt; A">startKey</a><span class="delimiter">)</span>, <span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#96351" title="=&gt; A">endKey</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>
<span class="delimiter">}</span>

case <span class="keyword">class</span> <a title="class CompositeSlice[A] extends edu.berkeley.cs.scads.storage.CustomSlice[A] with ScalaObject with Product with Serializable" id="98734">CompositeSlice</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96714">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[edu.berkeley.cs.scads.storage.Slice[A]]" id="96731">slices</a>: <span title="List[edu.berkeley.cs.scads.storage.Slice[A]]">List</span><span class="delimiter">[</span>Slice<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10003" title="edu.berkeley.cs.scads.storage.CustomSlice[A]">CustomSlice</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="comment">// TODO: assert that all slices are in order and do not overlap! </span>

  <span class="keyword">def</span> <a title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.Slice[A]" id="96721">remove</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.Slice[A]" id="98412">slice</a>: <a href="#9993" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#98412" title="edu.berkeley.cs.scads.storage.Slice[A]">slice</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Nothing">CompositeSlice</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.UnsupportedOperationException" class="keyword">new</span> <span title="java.lang.UnsupportedOperationException">UnsupportedOperationException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot remove composite for now&quot;)" class="string">&quot;Cannot remove composite for now&quot;</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.Slice[A]">_</span> =&gt;
      <a href="#96731" title="=&gt; List[edu.berkeley.cs.scads.storage.Slice[A]]">slices</a>.<span title="(f: edu.berkeley.cs.scads.storage.Slice[A] =&gt; scala.collection.GenTraversableOnce[edu.berkeley.cs.scads.storage.Slice[A]])(implicit bf: scala.collection.generic.CanBuildFrom[List[edu.berkeley.cs.scads.storage.Slice[A]],edu.berkeley.cs.scads.storage.Slice[A],List[edu.berkeley.cs.scads.storage.Slice[A]]])List[edu.berkeley.cs.scads.storage.Slice[A]]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,edu.berkeley.cs.scads.storage.Slice[A],List[edu.berkeley.cs.scads.storage.Slice[A]]]" class="delimiter">(</span><a href="#98436" title="edu.berkeley.cs.scads.storage.Slice[A]">_</a>.<a href="#83598" title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.Slice[A]">remove</a><span class="delimiter">(</span><a href="#98412" title="edu.berkeley.cs.scads.storage.Slice[A]">slice</a><span class="delimiter">)</span> <span title="List[edu.berkeley.cs.scads.storage.Slice[A]]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="List[edu.berkeley.cs.scads.storage.Slice[A]]">CompositeSlice</span><span class="delimiter">(</span><a title="List[edu.berkeley.cs.scads.storage.Slice[A]]" id="98438">xs</a><span class="delimiter">)</span> =&gt; <a href="#98438" title="List[edu.berkeley.cs.scads.storage.Slice[A]]">xs</a>
        <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">EmptyRange</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span title="object Nil">Nil</span>
        <span class="keyword">case</span> <a title="List[edu.berkeley.cs.scads.storage.Slice[A]]" id="98440">x</a> =&gt; <span title="(xs: edu.berkeley.cs.scads.storage.Slice[A]*)List[edu.berkeley.cs.scads.storage.Slice[A]]">List</span><span class="delimiter">(</span><a href="#98440" title="edu.berkeley.cs.scads.storage.Slice[A]">x</a><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">Nil</span> =&gt; <a href="#98758" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#96719" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="edu.berkeley.cs.scads.storage.Slice[A]" id="98636">x</a> :: <span title="object Nil">Nil</span> =&gt; <a href="#98636" title="edu.berkeley.cs.scads.storage.Slice[A]">x</a>
        <span class="keyword">case</span> <a title="edu.berkeley.cs.scads.storage.CompositeSlice[A]" id="98637">xs</a> =&gt; <a href="#98734" title="(slices: List[edu.berkeley.cs.scads.storage.Slice[A]])(implicit evidence$9: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.CompositeSlice[A]">CompositeSlice</a><a href="#96719" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#98637" title="List[edu.berkeley.cs.scads.storage.Slice[A]]">xs</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[U](f: (Option[A], Option[A]) =&gt; U)Unit" id="96722">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="96724">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Option[A], Option[A]) =&gt; U" id="98659">f</a>: <span class="delimiter">(</span>Option<span class="delimiter">[</span>A<span class="delimiter">]</span>, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span> <span class="delimiter">{</span> 
    <a href="#96731" title="=&gt; List[edu.berkeley.cs.scads.storage.Slice[A]]">slices</a>.<span title="(f: edu.berkeley.cs.scads.storage.Slice[A] =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#98684" title="edu.berkeley.cs.scads.storage.Slice[A]">_</a>.<a href="#83599" title="(f: (Option[A], Option[A]) =&gt; U)Unit">foreach</a><span class="delimiter">(</span><a href="#98659" title="(Option[A], Option[A]) =&gt; U">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>