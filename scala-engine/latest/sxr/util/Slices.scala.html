<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>util/Slices.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> edu.berkeley.cs.scads
<span class="keyword">package</span> storage

<span class="keyword">object</span> <a title="object edu.berkeley.cs.scads.storage.Slice" id="10604">Slice</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">def</span> <a title="[A](start: Option[A], end: Option[A])(implicit evidence$1: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.Slice[A]" id="89860">apply</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="89857">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="Option[A]" id="89858">start</a>: <span title="Option[A]">Option</span><span class="delimiter">[</span>A<span class="delimiter">]</span>, <a title="Option[A]" id="89859">end</a>: <span title="Option[A]">Option</span><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#10606" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span> = <a href="#89858" title="Option[A]">start</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.Slice[A]">Some</span><span class="delimiter">(</span><a title="A" id="115770">startKey</a><span class="delimiter">)</span> =&gt; <a href="#89859" title="Option[A]">end</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">Some</span><span class="delimiter">(</span><a title="A" id="115772">endKey</a><span class="delimiter">)</span> =&gt; <a href="#118117" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#89860" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#115770" title="A">startKey</a>, <a href="#115772" title="A">endKey</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.ToRight[A]">None</span> =&gt; <a href="#118123" title="(startKey: A)(implicit evidence$7: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.ToRight[A]">ToRight</a><a href="#89860" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#115770" title="A">startKey</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.Slice[A]">None</span> =&gt; <a href="#89859" title="Option[A]">end</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
      <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.FromLeft[A]">Some</span><span class="delimiter">(</span><a title="A" id="115855">endKey</a><span class="delimiter">)</span> =&gt; <a href="#118129" title="(endKey: A)(implicit evidence$6: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.FromLeft[A]">FromLeft</a><a href="#89860" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#115855" title="A">endKey</a><span class="delimiter">)</span>
      <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EntireRange[A]">None</span> =&gt; <a href="#118139" title="()(implicit evidence$3: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EntireRange[A]">EntireRange</a><a href="#89860" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="delimiter">}</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class Slice[A] extends java.lang.Object with ScalaObject" id="10606">Slice</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="10607">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="comment">/**
   * Removes slice out of this slice. Returns a new slice which result
   * from this operation
   */</span>
  <span class="keyword">def</span> <a title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.Slice[A]" id="89865">remove</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.Slice[A]" id="89917">slice</a>: <a href="#10606" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span>: <a href="#10606" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span>

  <span class="keyword">def</span> <a title="[U](f: (Option[A], Option[A]) =&gt; U)Unit" id="89866">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="89868">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Option[A], Option[A]) =&gt; U" id="89923">f</a>: <span class="delimiter">(</span>Option<span class="delimiter">[</span>A<span class="delimiter">]</span>, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span>: <span title="Unit">Unit</span>

  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(a: A, b: A)A" id="89869">max</a><span class="delimiter">(</span><a title="A" id="115921">a</a>: <a href="#10607" title="A">A</a>, <a title="A" id="115922">b</a>: <a href="#10607" title="A">A</a><span class="delimiter">)</span> = <span title="A" class="keyword">if</span> <span class="delimiter">(</span><a href="#89863" title="(v1: A)Ordered[A]">a</a> <span title="(that: A)Boolean">&lt;</span> <a href="#115922" title="A">b</a><span class="delimiter">)</span> <a href="#115922" title="A">b</a> <span class="keyword">else</span> <a href="#115921" title="A">a</a>
  <span class="keyword">protected</span> <span class="keyword">def</span> <a title="(a: A, b: A)A" id="89870">min</a><span class="delimiter">(</span><a title="A" id="115967">a</a>: <a href="#10607" title="A">A</a>, <a title="A" id="115968">b</a>: <a href="#10607" title="A">A</a><span class="delimiter">)</span> = <span title="A" class="keyword">if</span> <span class="delimiter">(</span><a href="#89863" title="(v1: A)Ordered[A]">a</a> <span title="(that: A)Boolean">&gt;</span> <a href="#115968" title="A">b</a><span class="delimiter">)</span> <a href="#115968" title="A">b</a> <span class="keyword">else</span> <a href="#115967" title="A">a</a>
<span class="delimiter">}</span>

<span class="comment">/**
 * Not an object so we can capture implicit evidence for view bound on A
 */</span>
case <span class="keyword">class</span> <a title="class EntireRange[A] extends edu.berkeley.cs.scads.storage.Slice[A] with ScalaObject with Product with Serializable" id="118139">EntireRange</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="115895">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10606" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="keyword">def</span> <a title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.Slice[A]" id="115899">remove</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.Slice[A]" id="116019">slice</a>: <a href="#10606" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#116019" title="edu.berkeley.cs.scads.storage.Slice[A]">slice</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">EntireRange</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#118134" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#115897" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EntireRange[A]">EmptyRange</span><span class="delimiter">(</span><span class="delimiter">)</span>  =&gt; <a href="#118139" title="edu.berkeley.cs.scads.storage.EntireRange[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.ToRight[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="116084">endKey</a><span class="delimiter">)</span> =&gt; <a href="#118123" title="(startKey: A)(implicit evidence$7: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.ToRight[A]">ToRight</a><a href="#115897" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#116084" title="A">endKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.FromLeft[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="116117">startKey</a><span class="delimiter">)</span> =&gt; <a href="#118129" title="(endKey: A)(implicit evidence$6: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.FromLeft[A]">FromLeft</a><a href="#115897" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#116117" title="A">startKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.CompositeSlice[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="116158">startKey</a>, <a title="A" id="116159">endKey</a><span class="delimiter">)</span> =&gt;
      <a href="#118110" title="(slices: List[edu.berkeley.cs.scads.storage.Slice[A]])(implicit evidence$9: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.CompositeSlice[A]">CompositeSlice</a><a href="#115897" title="A =&gt; Ordered[A]" class="delimiter">(</a><span title="(xs: Product with edu.berkeley.cs.scads.storage.CustomSlice[A] with Serializable*)List[Product with edu.berkeley.cs.scads.storage.CustomSlice[A] with Serializable]">List</span><span class="delimiter">(</span><a href="#118129" title="(endKey: A)(implicit evidence$6: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.FromLeft[A]">FromLeft</a><a href="#115897" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#116158" title="A">startKey</a><span class="delimiter">)</span>, <a href="#118123" title="(startKey: A)(implicit evidence$7: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.ToRight[A]">ToRight</a><a href="#115897" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#116159" title="A">endKey</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Nothing">CompositeSlice</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.UnsupportedOperationException" class="keyword">new</span> <span title="java.lang.UnsupportedOperationException">UnsupportedOperationException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot remove composite for now&quot;)" class="string">&quot;Cannot remove composite for now&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[U](f: (Option[A], Option[A]) =&gt; U)Unit" id="115900">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="115902">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Option[A], Option[A]) =&gt; U" id="116632">f</a>: <span class="delimiter">(</span>Option<span class="delimiter">[</span>A<span class="delimiter">]</span>, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#116632" title="(v1: Option[A], v2: Option[A])U">f</a><span title="Unit" class="delimiter">(</span><span title="object None">None</span>, <span title="object None">None</span><span class="delimiter">)</span> <span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="comment">/**
 * Not an object so we can capture implicit evidence for view bound on A
 */</span>
case <span class="keyword">class</span> <a title="class EmptyRange[A] extends edu.berkeley.cs.scads.storage.Slice[A] with ScalaObject with Product with Serializable" id="118134">EmptyRange</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="116031">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10606" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="comment">/** 
   * Remove from the EmptyRange is still the EmptyRange
   */</span>
  <span class="keyword">def</span> <a title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.EmptyRange[A]" id="116035">remove</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.Slice[A]" id="116667">slice</a>: <a href="#10606" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#118134" title="edu.berkeley.cs.scads.storage.EmptyRange[A]" class="keyword">this</a>
  <span class="keyword">def</span> <a title="[U](f: (Option[A], Option[A]) =&gt; U)Unit" id="116036">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="116038">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Option[A], Option[A]) =&gt; U" id="116671">f</a>: <span class="delimiter">(</span>Option<span class="delimiter">[</span>A<span class="delimiter">]</span>, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span> <span title="Unit" class="delimiter">{</span><span class="delimiter">}</span>
<span class="delimiter">}</span>

<span class="keyword">sealed</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <a title="class CustomSlice[A] extends edu.berkeley.cs.scads.storage.Slice[A] with ScalaObject" id="10616">CustomSlice</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="10617">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span> <span class="keyword">extends</span> <a href="#10606" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span>

case <span class="keyword">class</span> <a title="class FromLeft[A] extends edu.berkeley.cs.scads.storage.CustomSlice[A] with ScalaObject with Product with Serializable" id="118129">FromLeft</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="115860">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="115877">endKey</a>: <a href="#115860" title="A">A</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10616" title="edu.berkeley.cs.scads.storage.CustomSlice[A]">CustomSlice</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.Slice[A]" id="115867">remove</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.Slice[A]" id="116710">slice</a>: <a href="#10606" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#116710" title="edu.berkeley.cs.scads.storage.Slice[A]">slice</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">EntireRange</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#118134" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#115865" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.FromLeft[A]">EmptyRange</span><span class="delimiter">(</span><span class="delimiter">)</span>  =&gt; <a href="#118129" title="edu.berkeley.cs.scads.storage.FromLeft[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="116724">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#115865" title="(v1: A)Ordered[A]">endKey</a> <span title="(that: A)Boolean">&lt;=</span> <a href="#116724" title="A">thatEndKey</a> =&gt; <a href="#118134" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#115865" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="116774">thatEndKey</a><span class="delimiter">)</span> =&gt;
      <a href="#118117" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#115865" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#89870" title="(a: A, b: A)A">min</a><span class="delimiter">(</span><a href="#115877" title="=&gt; A">endKey</a>, <a href="#116774" title="A">thatEndKey</a><span class="delimiter">)</span>, <a href="#89869" title="(a: A, b: A)A">max</a><span class="delimiter">(</span><a href="#115877" title="=&gt; A">endKey</a>, <a href="#116774" title="A">thatEndKey</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.FromLeft[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="116793">startKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#115865" title="(v1: A)Ordered[A]">startKey</a> <span title="(that: A)Boolean">&gt;=</span> <a href="#115877" title="=&gt; A">endKey</a> =&gt; <a href="#118129" title="edu.berkeley.cs.scads.storage.FromLeft[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.FromLeft[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="116836">startKey</a><span class="delimiter">)</span> =&gt; <a href="#118129" title="(endKey: A)(implicit evidence$6: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.FromLeft[A]">FromLeft</a><a href="#115865" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#116836" title="A">startKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.FromLeft[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="116850">thatStartKey</a>, <a title="A" id="116851">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#115865" title="(v1: A)Ordered[A]">thatStartKey</a> <span title="(that: A)Boolean">&gt;=</span> <a href="#115877" title="=&gt; A">endKey</a> =&gt; <a href="#118129" title="edu.berkeley.cs.scads.storage.FromLeft[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.FromLeft[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="116894">thatStartKey</a>, <a title="A" id="116895">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#115865" title="(v1: A)Ordered[A]">thatEndKey</a> <span title="(that: A)Boolean">&gt;=</span> <a href="#115877" title="=&gt; A">endKey</a> =&gt; <a href="#118129" title="(endKey: A)(implicit evidence$6: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.FromLeft[A]">FromLeft</a><a href="#115865" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#116894" title="A">thatStartKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.CompositeSlice[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="116948">thatStartKey</a>, <a title="A" id="116949">thatEndKey</a><span class="delimiter">)</span> =&gt;
      <a href="#118110" title="(slices: List[edu.berkeley.cs.scads.storage.Slice[A]])(implicit evidence$9: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.CompositeSlice[A]">CompositeSlice</a><a href="#115865" title="A =&gt; Ordered[A]" class="delimiter">(</a><span title="(xs: Product with edu.berkeley.cs.scads.storage.CustomSlice[A] with Serializable*)List[Product with edu.berkeley.cs.scads.storage.CustomSlice[A] with Serializable]">List</span><span class="delimiter">(</span><a href="#118129" title="(endKey: A)(implicit evidence$6: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.FromLeft[A]">FromLeft</a><a href="#115865" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#116948" title="A">thatStartKey</a><span class="delimiter">)</span>, <a href="#118117" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#115865" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#116949" title="A">thatEndKey</a>, <a href="#115877" title="=&gt; A">endKey</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Nothing">CompositeSlice</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.UnsupportedOperationException" class="keyword">new</span> <span title="java.lang.UnsupportedOperationException">UnsupportedOperationException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot remove composite for now&quot;)" class="string">&quot;Cannot remove composite for now&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[U](f: (Option[A], Option[A]) =&gt; U)Unit" id="115868">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="115870">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Option[A], Option[A]) =&gt; U" id="117660">f</a>: <span class="delimiter">(</span>Option<span class="delimiter">[</span>A<span class="delimiter">]</span>, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#117660" title="(v1: Option[A], v2: Option[A])U">f</a><span title="Unit" class="delimiter">(</span><span title="object None">None</span>, <span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#115877" title="=&gt; A">endKey</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>
<span class="delimiter">}</span>

case <span class="keyword">class</span> <a title="class ToRight[A] extends edu.berkeley.cs.scads.storage.CustomSlice[A] with ScalaObject with Product with Serializable" id="118123">ToRight</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="115823">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="115840">startKey</a>: <a href="#115823" title="A">A</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10616" title="edu.berkeley.cs.scads.storage.CustomSlice[A]">CustomSlice</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>

  <span class="keyword">def</span> <a title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.Slice[A]" id="115830">remove</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.Slice[A]" id="116243">slice</a>: <a href="#10606" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#116243" title="edu.berkeley.cs.scads.storage.Slice[A]">slice</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">EntireRange</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#118134" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#115828" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.ToRight[A]">EmptyRange</span><span class="delimiter">(</span><span class="delimiter">)</span>  =&gt; <a href="#118123" title="edu.berkeley.cs.scads.storage.ToRight[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.ToRight[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="116259">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#115828" title="(v1: A)Ordered[A]">startKey</a> <span title="(that: A)Boolean">&gt;=</span> <a href="#116259" title="A">thatEndKey</a> =&gt; <a href="#118123" title="edu.berkeley.cs.scads.storage.ToRight[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.ToRight[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="116305">thatEndKey</a><span class="delimiter">)</span> =&gt; <a href="#118123" title="(startKey: A)(implicit evidence$7: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.ToRight[A]">ToRight</a><a href="#115828" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#116305" title="A">thatEndKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="116316">thatStartKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#115828" title="(v1: A)Ordered[A]">startKey</a> <span title="(that: A)Boolean">&gt;=</span> <a href="#116316" title="A">thatStartKey</a> =&gt; <a href="#118134" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#115828" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="116364">thatStartKey</a><span class="delimiter">)</span> =&gt;
      <a href="#118117" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#115828" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#89870" title="(a: A, b: A)A">min</a><span class="delimiter">(</span><a href="#115840" title="=&gt; A">startKey</a>, <a href="#116364" title="A">thatStartKey</a><span class="delimiter">)</span>, <a href="#89869" title="(a: A, b: A)A">max</a><span class="delimiter">(</span><a href="#115840" title="=&gt; A">startKey</a>, <a href="#116364" title="A">thatStartKey</a><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.ToRight[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="116384">thatStartKey</a>, <a title="A" id="116385">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#115828" title="(v1: A)Ordered[A]">thatEndKey</a> <span title="(that: A)Boolean">&lt;=</span> <a href="#115840" title="=&gt; A">startKey</a> =&gt; <a href="#118123" title="edu.berkeley.cs.scads.storage.ToRight[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.ToRight[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="116431">thatStartKey</a>, <a title="A" id="116432">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#115828" title="(v1: A)Ordered[A]">thatStartKey</a> <span title="(that: A)Boolean">&lt;=</span> <a href="#115840" title="=&gt; A">startKey</a> =&gt; <a href="#118123" title="(startKey: A)(implicit evidence$7: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.ToRight[A]">ToRight</a><a href="#115828" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#116432" title="A">thatEndKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.CompositeSlice[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="116485">thatStartKey</a>, <a title="A" id="116486">thatEndKey</a><span class="delimiter">)</span> =&gt;
      <a href="#118110" title="(slices: List[edu.berkeley.cs.scads.storage.Slice[A]])(implicit evidence$9: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.CompositeSlice[A]">CompositeSlice</a><a href="#115828" title="A =&gt; Ordered[A]" class="delimiter">(</a><span title="(xs: Product with edu.berkeley.cs.scads.storage.CustomSlice[A] with Serializable*)List[Product with edu.berkeley.cs.scads.storage.CustomSlice[A] with Serializable]">List</span><span class="delimiter">(</span><a href="#118117" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#115828" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#115840" title="=&gt; A">startKey</a>, <a href="#116485" title="A">thatStartKey</a><span class="delimiter">)</span>, <a href="#118123" title="(startKey: A)(implicit evidence$7: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.ToRight[A]">ToRight</a><a href="#115828" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#116486" title="A">thatEndKey</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Nothing">CompositeSlice</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.UnsupportedOperationException" class="keyword">new</span> <span title="java.lang.UnsupportedOperationException">UnsupportedOperationException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot remove composite for now&quot;)" class="string">&quot;Cannot remove composite for now&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[U](f: (Option[A], Option[A]) =&gt; U)Unit" id="115831">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="115833">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Option[A], Option[A]) =&gt; U" id="116231">f</a>: <span class="delimiter">(</span>Option<span class="delimiter">[</span>A<span class="delimiter">]</span>, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#116231" title="(v1: Option[A], v2: Option[A])U">f</a><span title="Unit" class="delimiter">(</span><span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#115840" title="=&gt; A">startKey</a><span class="delimiter">)</span>, <span title="object None">None</span><span class="delimiter">)</span> <span class="delimiter">}</span>
<span class="delimiter">}</span>

case <span class="keyword">class</span> <a title="class BoundedSlice[A] extends edu.berkeley.cs.scads.storage.CustomSlice[A] with ScalaObject with Product with Serializable" id="118117">BoundedSlice</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="115777">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="A" id="115800">startKey</a>: <a href="#115777" title="A">A</a>, <a title="A" id="115801">endKey</a>: <a href="#115777" title="A">A</a><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10616" title="edu.berkeley.cs.scads.storage.CustomSlice[A]">CustomSlice</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span title="(assertion: Boolean)Unit">assert</span><span class="delimiter">(</span><a href="#115788" title="(v1: A)Ordered[A]">endKey</a> <span title="(that: A)Boolean">&gt;</span> <a href="#115800" title="=&gt; A">startKey</a><span class="delimiter">)</span>                                    

  <span class="keyword">def</span> <a title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.Slice[A]" id="115790">remove</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.Slice[A]" id="117008">slice</a>: <a href="#10606" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#117008" title="edu.berkeley.cs.scads.storage.Slice[A]">slice</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">EntireRange</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <a href="#118134" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#115788" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">EmptyRange</span><span class="delimiter">(</span><span class="delimiter">)</span>  =&gt; <a href="#118117" title="edu.berkeley.cs.scads.storage.BoundedSlice[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="117024">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#115788" title="(v1: A)Ordered[A]">thatEndKey</a> <span title="(that: A)Boolean">&lt;=</span> <a href="#115800" title="=&gt; A">startKey</a> =&gt; <a href="#118117" title="edu.berkeley.cs.scads.storage.BoundedSlice[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="117068">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#115788" title="(v1: A)Ordered[A]">thatEndKey</a> <span title="(that: A)Boolean">&lt;</span> <a href="#115801" title="=&gt; A">endKey</a> =&gt; <a href="#118117" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#115788" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#117068" title="A">thatEndKey</a>, <a href="#115801" title="=&gt; A">endKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">FromLeft</span><span class="delimiter">(</span><a title="A" id="117123">thatEndKey</a><span class="delimiter">)</span> =&gt; <a href="#118134" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#115788" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="117134">thatStartKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#115788" title="(v1: A)Ordered[A]">thatStartKey</a> <span title="(that: A)Boolean">&gt;=</span> <a href="#115801" title="=&gt; A">endKey</a> =&gt; <a href="#118117" title="edu.berkeley.cs.scads.storage.BoundedSlice[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="117177">thatStartKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#115788" title="(v1: A)Ordered[A]">thatStartKey</a> <span title="(that: A)Boolean">&gt;</span> <a href="#115800" title="=&gt; A">startKey</a> =&gt; <a href="#118117" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#115788" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#115800" title="=&gt; A">startKey</a>, <a href="#117177" title="A">thatStartKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">ToRight</span><span class="delimiter">(</span><a title="A" id="117232">thatStartKey</a><span class="delimiter">)</span> =&gt; <a href="#118134" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#115788" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="117241">thatStartKey</a>, <a title="A" id="117242">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#115788" title="(v1: A)Ordered[A]">thatStartKey</a>.<span title="(that: A)Int">compare</span><span class="delimiter">(</span><a href="#115800" title="=&gt; A">startKey</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span> <span title="(x: Boolean)Boolean">&amp;&amp;</span> <a href="#115788" title="(v1: A)Ordered[A]">thatEndKey</a>.<span title="(that: A)Int">compare</span><span class="delimiter">(</span><a href="#115801" title="=&gt; A">endKey</a><span class="delimiter">)</span> <span title="(x: Int)Boolean">==</span> <span title="Int(0)" class="int">0</span> =&gt; <a href="#118134" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#115788" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="117331">thatStartKey</a>, <a title="A" id="117332">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#115788" title="(v1: A)Ordered[A]">endKey</a> <span title="(that: A)Boolean">&lt;=</span> <a href="#117331" title="A">thatStartKey</a> <span title="(x: Boolean)Boolean">||</span> <a href="#115788" title="(v1: A)Ordered[A]">thatEndKey</a> <span title="(that: A)Boolean">&lt;=</span> <a href="#115800" title="=&gt; A">startKey</a> =&gt; <a href="#118117" title="edu.berkeley.cs.scads.storage.BoundedSlice[A]" class="keyword">this</a>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.Slice[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="117411">thatStartKey</a>, <a title="A" id="117412">thatEndKey</a><span class="delimiter">)</span> <span class="keyword">if</span> <a href="#115788" title="(v1: A)Ordered[A]">thatStartKey</a> <span title="(that: A)Boolean">&lt;=</span> <a href="#115800" title="=&gt; A">startKey</a> =&gt;
      <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">if</span> <span class="delimiter">(</span><a href="#115788" title="(v1: A)Ordered[A]">thatEndKey</a> <span title="(that: A)Boolean">&lt;</span> <a href="#115801" title="=&gt; A">endKey</a><span class="delimiter">)</span> <a href="#118117" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#115788" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#117412" title="A">thatEndKey</a>, <a href="#115801" title="=&gt; A">endKey</a><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#118134" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#115788" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.Slice[A]">BoundedSlice</span><span class="delimiter">(</span><a title="A" id="117511">thatStartKey</a>, <a title="A" id="117512">thatEndKey</a><span class="delimiter">)</span> =&gt;
      <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">if</span> <span class="delimiter">(</span><a href="#115788" title="(v1: A)Ordered[A]">thatEndKey</a> <span title="(that: A)Boolean">&lt;</span> <a href="#115801" title="=&gt; A">endKey</a><span class="delimiter">)</span> <a href="#118110" title="(slices: List[edu.berkeley.cs.scads.storage.Slice[A]])(implicit evidence$9: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.CompositeSlice[A]">CompositeSlice</a><a href="#115788" title="A =&gt; Ordered[A]" class="delimiter">(</a><span title="(xs: edu.berkeley.cs.scads.storage.BoundedSlice[A]*)List[edu.berkeley.cs.scads.storage.BoundedSlice[A]]">List</span><span class="delimiter">(</span><a href="#118117" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#115788" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#115800" title="=&gt; A">startKey</a>, <a href="#117511" title="A">thatStartKey</a><span class="delimiter">)</span>, <a href="#118117" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#115788" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#117512" title="A">thatEndKey</a>, <a href="#115801" title="=&gt; A">endKey</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>
      <span class="keyword">else</span> <a href="#118117" title="(startKey: A, endKey: A)(implicit evidence$8: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.BoundedSlice[A]">BoundedSlice</a><a href="#115788" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#115800" title="=&gt; A">startKey</a>, <a href="#117511" title="A">thatStartKey</a><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="Nothing">CompositeSlice</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.UnsupportedOperationException" class="keyword">new</span> <span title="java.lang.UnsupportedOperationException">UnsupportedOperationException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot remove composite for now&quot;)" class="string">&quot;Cannot remove composite for now&quot;</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[U](f: (Option[A], Option[A]) =&gt; U)Unit" id="115791">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="115793">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Option[A], Option[A]) =&gt; U" id="116996">f</a>: <span class="delimiter">(</span>Option<span class="delimiter">[</span>A<span class="delimiter">]</span>, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span> <span class="delimiter">{</span> <a href="#116996" title="(v1: Option[A], v2: Option[A])U">f</a><span title="Unit" class="delimiter">(</span><span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#115800" title="=&gt; A">startKey</a><span class="delimiter">)</span>, <span title="(x: A)Some[A]">Some</span><span class="delimiter">(</span><a href="#115801" title="=&gt; A">endKey</a><span class="delimiter">)</span><span class="delimiter">)</span> <span class="delimiter">}</span>
<span class="delimiter">}</span>

case <span class="keyword">class</span> <a title="class CompositeSlice[A] extends edu.berkeley.cs.scads.storage.CustomSlice[A] with ScalaObject with Product with Serializable" id="118110">CompositeSlice</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="116164">A</a> &lt;% Ordered<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">(</span><a title="List[edu.berkeley.cs.scads.storage.Slice[A]]" id="116181">slices</a>: <span title="List[edu.berkeley.cs.scads.storage.Slice[A]]">List</span><span class="delimiter">[</span>Slice<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">]</span><span class="delimiter">)</span> <span class="keyword">extends</span> <a href="#10616" title="edu.berkeley.cs.scads.storage.CustomSlice[A]">CustomSlice</a><span class="delimiter">[</span>A<span class="delimiter">]</span> <span class="delimiter">{</span>
  <span class="comment">// TODO: assert that all slices are in order and do not overlap! </span>

  <span class="keyword">def</span> <a title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.Slice[A]" id="116171">remove</a><span class="delimiter">(</span><a title="edu.berkeley.cs.scads.storage.Slice[A]" id="117860">slice</a>: <a href="#10606" title="edu.berkeley.cs.scads.storage.Slice[A]">Slice</a><span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> = <a href="#117860" title="edu.berkeley.cs.scads.storage.Slice[A]">slice</a> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
    <span class="keyword">case</span> <span title="Nothing">CompositeSlice</span><span class="delimiter">(</span>_<span class="delimiter">)</span> =&gt;
      <span title="Nothing" class="keyword">throw</span> <span title="(x$1: java.lang.String)java.lang.UnsupportedOperationException" class="keyword">new</span> <span title="java.lang.UnsupportedOperationException">UnsupportedOperationException</span><span class="delimiter">(</span><span title="java.lang.String(&quot;Cannot remove composite for now&quot;)" class="string">&quot;Cannot remove composite for now&quot;</span><span class="delimiter">)</span>
    <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.Slice[A]">_</span> =&gt;
      <a href="#116181" title="=&gt; List[edu.berkeley.cs.scads.storage.Slice[A]]">slices</a>.<span title="(f: edu.berkeley.cs.scads.storage.Slice[A] =&gt; scala.collection.GenTraversableOnce[edu.berkeley.cs.scads.storage.Slice[A]])(implicit bf: scala.collection.generic.CanBuildFrom[List[edu.berkeley.cs.scads.storage.Slice[A]],edu.berkeley.cs.scads.storage.Slice[A],List[edu.berkeley.cs.scads.storage.Slice[A]]])List[edu.berkeley.cs.scads.storage.Slice[A]]">flatMap</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.immutable.List.Coll,edu.berkeley.cs.scads.storage.Slice[A],List[edu.berkeley.cs.scads.storage.Slice[A]]]" class="delimiter">(</span><a href="#117884" title="edu.berkeley.cs.scads.storage.Slice[A]">_</a>.<a href="#89865" title="(slice: edu.berkeley.cs.scads.storage.Slice[A])edu.berkeley.cs.scads.storage.Slice[A]">remove</a><span class="delimiter">(</span><a href="#117860" title="edu.berkeley.cs.scads.storage.Slice[A]">slice</a><span class="delimiter">)</span> <span title="List[edu.berkeley.cs.scads.storage.Slice[A]]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="List[edu.berkeley.cs.scads.storage.Slice[A]]">CompositeSlice</span><span class="delimiter">(</span><a title="List[edu.berkeley.cs.scads.storage.Slice[A]]" id="117886">xs</a><span class="delimiter">)</span> =&gt; <a href="#117886" title="List[edu.berkeley.cs.scads.storage.Slice[A]]">xs</a>
        <span class="keyword">case</span> <span title="scala.collection.immutable.Nil.type">EmptyRange</span><span class="delimiter">(</span><span class="delimiter">)</span> =&gt; <span title="object Nil">Nil</span>
        <span class="keyword">case</span> <a title="List[edu.berkeley.cs.scads.storage.Slice[A]]" id="117888">x</a> =&gt; <span title="(xs: edu.berkeley.cs.scads.storage.Slice[A]*)List[edu.berkeley.cs.scads.storage.Slice[A]]">List</span><span class="delimiter">(</span><a href="#117888" title="edu.berkeley.cs.scads.storage.Slice[A]">x</a><span class="delimiter">)</span>
      <span class="delimiter">}</span><span class="delimiter">)</span> <span title="edu.berkeley.cs.scads.storage.Slice[A]" class="keyword">match</span> <span class="delimiter">{</span>
        <span class="keyword">case</span> <span title="edu.berkeley.cs.scads.storage.EmptyRange[A]">Nil</span> =&gt; <a href="#118134" title="()(implicit evidence$4: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.EmptyRange[A]">EmptyRange</a><a href="#116169" title="A =&gt; Ordered[A]" class="delimiter">(</a><span class="delimiter">)</span>
        <span class="keyword">case</span> <a title="edu.berkeley.cs.scads.storage.Slice[A]" id="118012">x</a> :: <span title="object Nil">Nil</span> =&gt; <a href="#118012" title="edu.berkeley.cs.scads.storage.Slice[A]">x</a>
        <span class="keyword">case</span> <a title="edu.berkeley.cs.scads.storage.CompositeSlice[A]" id="118013">xs</a> =&gt; <a href="#118110" title="(slices: List[edu.berkeley.cs.scads.storage.Slice[A]])(implicit evidence$9: A =&gt; Ordered[A])edu.berkeley.cs.scads.storage.CompositeSlice[A]">CompositeSlice</a><a href="#116169" title="A =&gt; Ordered[A]" class="delimiter">(</a><a href="#118013" title="List[edu.berkeley.cs.scads.storage.Slice[A]]">xs</a><span class="delimiter">)</span>
      <span class="delimiter">}</span>
  <span class="delimiter">}</span>

  <span class="keyword">def</span> <a title="[U](f: (Option[A], Option[A]) =&gt; U)Unit" id="116172">foreach</a><span class="delimiter">[</span><a title="&gt;: Nothing &lt;: Any" id="116174">U</a><span class="delimiter">]</span><span class="delimiter">(</span><a title="(Option[A], Option[A]) =&gt; U" id="118035">f</a>: <span class="delimiter">(</span>Option<span class="delimiter">[</span>A<span class="delimiter">]</span>, Option<span class="delimiter">[</span>A<span class="delimiter">]</span><span class="delimiter">)</span> =&gt; U<span class="delimiter">)</span> <span class="delimiter">{</span> 
    <a href="#116181" title="=&gt; List[edu.berkeley.cs.scads.storage.Slice[A]]">slices</a>.<span title="(f: edu.berkeley.cs.scads.storage.Slice[A] =&gt; Unit)Unit">foreach</span><span class="delimiter">(</span><a href="#118060" title="edu.berkeley.cs.scads.storage.Slice[A]">_</a>.<a href="#89866" title="(f: (Option[A], Option[A]) =&gt; U)Unit">foreach</a><span class="delimiter">(</span><a href="#118035" title="(Option[A], Option[A]) =&gt; U">f</a><span class="delimiter">)</span><span class="delimiter">)</span>
  <span class="delimiter">}</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>