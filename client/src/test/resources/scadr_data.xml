<?xml version="1.0"?>
<entities>

    <!--
        Sample data set for Scadr
        See the associated scadr_queries.xml for some test cases
        Edited 11/15/09 for improved Scadr specification
    -->

    <!-- 
        Class metadata information 
        This is used to determine if the generated classes conform
        to the expected class definition
    -->
    <metadata class="user">
        <primary-key>
            <attribute name="name" type="string"/>
        </primary-key>
        <attributes>
            <attribute name="name" type="string"/>
            <attribute name="password" type="string"/>
            <attribute name="email" type="string"/>
            <attribute name="profileData" type="string"/>
        </attributes>
    </metadata>

    <metadata class="thought">
        <primary-key>
            <attribute name="owner" ref="user"/>
            <attribute name="timestamp" type="int"/>
        </primary-key>
        <attributes>
            <attribute name="timestamp" type="int"/>
            <attribute name="thought" type="string"/>
        </attributes>
        <foreign-keys>
            <attribute name="owner" ref="user"/>
        </foreign-keys>
    </metadata>

    <metadata class="subscription">
        <primary-key>
            <attribute name="owner" ref="user"/>
            <attribute name="target" ref="user"/>
        </primary-key>
        <attributes>
            <attribute name="approved" type="bool"/>
        </attributes>
        <foreign-keys>
            <attribute name="owner" ref="user"/>
            <attribute name="target" ref="user"/>
        </foreign-keys>
    </metadata>

    <metadata class="atReference">
        <primary-key>
            <attribute name="referent" ref="user"/>
            <attribute name="referringThought" ref="thought"/>
        </primary-key>
        <attributes/>
        <foreign-keys>
            <attribute name="referent" ref="user"/>
            <attribute name="referringThought" ref="thought"/>
        </foreign-keys>
    </metadata>

    <metadata class="hashTag">
        <primary-key>
            <attribute name="name" type="string"/>
            <attribute name="referringThought" ref="thought"/>
        </primary-key>
        <attributes>
            <attribute name="name" type="string"/>
        </attributes>
        <foreign-keys>
            <attribute name="referringThought" ref="thought"/>
        </foreign-keys>
    </metadata>

    <!-- User Class -->
    <entity class="user">
        <attributes>
            <attribute name="name" >Stephen Tu</attribute>
            <attribute name="password" >s3cr3t</attribute>
            <attribute name="email" >myemail1@berkeley.edu</attribute>
            <attribute name="profileData" >About me</attribute>
        </attributes>
    </entity>
    <entity class="user">
        <attributes>
            <attribute name="name" >Bob Barker</attribute>
            <attribute name="password" >s3cr3t</attribute>
            <attribute name="email" >myemail2@berkeley.edu</attribute>
            <attribute name="profileData" >About me</attribute>
        </attributes>
    </entity>
    <entity class="user">
        <attributes>
            <attribute name="name" >Paul Pierce</attribute>
            <attribute name="password" >s3cr3t</attribute>
            <attribute name="email" >myemail3@berkeley.edu</attribute>
            <attribute name="profileData" >About me</attribute>
        </attributes>
    </entity>
    <entity class="user">
        <attributes>
            <attribute name="name" >Kobe Bryant</attribute>
            <attribute name="password" >s3cr3t</attribute>
            <attribute name="email" >myemail4@berkeley.edu</attribute>
            <attribute name="profileData" >About me</attribute>
        </attributes>
    </entity>
    <entity class="user">
        <attributes>
            <attribute name="name" >Lady Gaga</attribute>
            <attribute name="password" >s3cr3t</attribute>
            <attribute name="email" >myemail5@berkeley.edu</attribute>
            <attribute name="profileData" >About me</attribute>
        </attributes>
    </entity>
    <entity class="user">
        <attributes>
            <attribute name="name" >Steve Nash</attribute>
            <attribute name="password" >s3cr3t</attribute>
            <attribute name="email" >myemail6@berkeley.edu</attribute>
            <attribute name="profileData" >About me</attribute>
        </attributes>
    </entity>
    <entity class="user">
        <attributes>
            <attribute name="name" >Randy Johnson</attribute>
            <attribute name="password" >s3cr3t</attribute>
            <attribute name="email" >myemail7@berkeley.edu</attribute>
            <attribute name="profileData" >About me</attribute>
        </attributes>
    </entity>
    <entity class="user">
        <attributes>
            <attribute name="name" >Ron Paul</attribute>
            <attribute name="password" >s3cr3t</attribute>
            <attribute name="email" >myemail7@berkeley.edu</attribute>
            <attribute name="profileData" >About me</attribute>
        </attributes>
    </entity>

    <!-- Thought Class -->
    <entity class="thought">
        <attributes>
            <attribute name="timestamp" type="int">1</attribute>
            <attribute name="thought" type="string">Thought 1</attribute>
        </attributes>
        <foreign-keys>
            <foreign-key relationship="owner" primarykey="Stephen Tu" />
        </foreign-keys>
    </entity>
    <entity class="thought">
        <attributes>
            <attribute name="timestamp" type="int">2</attribute>
            <attribute name="thought" type="string">Thought 2</attribute>
        </attributes>
        <foreign-keys>
            <foreign-key relationship="owner" primarykey="Stephen Tu" />
        </foreign-keys>
    </entity>
    <entity class="thought">
        <attributes>
            <attribute name="timestamp" type="int">3</attribute>
            <attribute name="thought" type="string">Thought 3</attribute>
        </attributes>
        <foreign-keys>
            <foreign-key relationship="owner" primarykey="Kobe Bryant" />
        </foreign-keys>
    </entity>
    <entity class="thought">
        <attributes>
            <attribute name="timestamp" type="int">4</attribute>
            <attribute name="thought" type="string">Thought 4</attribute>
        </attributes>
        <foreign-keys>
            <foreign-key relationship="owner" primarykey="Kobe Bryant" />
        </foreign-keys>
    </entity>
    <entity class="thought">
        <attributes>
            <attribute name="timestamp" type="int">5</attribute>
            <attribute name="thought" type="string">Thought 5</attribute>
        </attributes>
        <foreign-keys>
            <foreign-key relationship="owner" primarykey="Lady Gaga" />
        </foreign-keys>
    </entity>
    <entity class="thought">
        <attributes>
            <attribute name="timestamp" type="int">6</attribute>
            <attribute name="thought" type="string">Thought 6</attribute>
        </attributes>
        <foreign-keys>
            <foreign-key relationship="owner" primarykey="Lady Gaga" />
        </foreign-keys>
    </entity>

    <!-- Subscription Class -->
    <entity class="subscription">
        <attributes>
            <attribute name="approved" type="bool">true</attribute>
        </attributes>
        <foreign-keys>
            <foreign-key relationship="owner" primarykey="Steve Nash" />
            <foreign-key relationship="target" primarykey="Stephen Tu" />
        </foreign-keys>
    </entity>
    <entity class="subscription">
        <attributes>
            <attribute name="approved" type="bool">true</attribute>
        </attributes>
        <foreign-keys>
            <foreign-key relationship="owner" primarykey="Steve Nash" />
            <foreign-key relationship="target" primarykey="Bob Barker" />
        </foreign-keys>
    </entity>
    <entity class="subscription">
        <attributes>
            <attribute name="approved" type="bool">true</attribute>
        </attributes>
        <foreign-keys>
            <foreign-key relationship="owner" primarykey="Steve Nash" />
            <foreign-key relationship="target" primarykey="Paul Pierce" />
        </foreign-keys>
    </entity>
    <entity class="subscription">
        <attributes>
            <attribute name="approved" type="bool">true</attribute>
        </attributes>
        <foreign-keys>
            <foreign-key relationship="owner" primarykey="Steve Nash" />
            <foreign-key relationship="target" primarykey="Kobe Bryant" />
        </foreign-keys>
    </entity>
    <entity class="subscription">
        <attributes>
            <attribute name="approved" type="bool">true</attribute>
        </attributes>
        <foreign-keys>
            <foreign-key relationship="owner" primarykey="Steve Nash" />
            <foreign-key relationship="target" primarykey="Lady Gaga" />
        </foreign-keys>
    </entity>
    <entity class="subscription">
        <attributes>
            <attribute name="approved" type="bool">true</attribute>
        </attributes>
        <foreign-keys>
            <foreign-key relationship="owner" primarykey="Stephen Tu" />
            <foreign-key relationship="target" primarykey="Lady Gaga" />
        </foreign-keys>
    </entity>

    <!--
        hashTag Class:
        Note: These are real hashTags taken from the popular list on Twitter,
        and not because I have strange ideas
    -->
    <entity class="hashTag">
        <attributes>
            <attribute name="name" type="string">Paranormal Activity</attribute>
        </attributes>
        <foreign-keys>
            <foreign-key relationship="referringThought">
                <compositekey>
                    <attribute name="owner">Stephen Tu</attribute>
                    <attribute name="timestamp">1</attribute>
                </compositekey>
            </foreign-key>
        </foreign-keys>
    </entity>
    <entity class="hashTag">
        <attributes>
            <attribute name="name" type="string">Goodnight</attribute>
        </attributes>
        <foreign-keys>
            <foreign-key relationship="referringThought">
                <compositekey>
                    <attribute name="owner">Stephen Tu</attribute>
                    <attribute name="timestamp">2</attribute>
                </compositekey>
            </foreign-key>
        </foreign-keys>
    </entity>
    <entity class="hashTag">
        <attributes>
            <attribute name="name" type="string">Kindle</attribute>
        </attributes>
        <foreign-keys>
            <foreign-key relationship="referringThought">
                <compositekey>
                    <attribute name="owner">Kobe Bryant</attribute>
                    <attribute name="timestamp">3</attribute>
                </compositekey>
            </foreign-key>
        </foreign-keys>
    </entity>
    <entity class="hashTag">
        <attributes>
            <attribute name="name" type="string">Kindle</attribute>
        </attributes>
        <foreign-keys>
            <foreign-key relationship="referringThought">
                <compositekey>
                    <attribute name="owner">Stephen Tu</attribute>
                    <attribute name="timestamp">1</attribute>
                </compositekey>
            </foreign-key>
        </foreign-keys>
    </entity>

    <!--
        atReference Class:
    -->
    <entity class="atReference">
        <attributes/>
        <foreign-keys>
            <foreign-key relationship="referringThought">
                <compositekey>
                    <attribute name="owner">Stephen Tu</attribute>
                    <attribute name="timestamp">1</attribute>
                </compositekey>
            </foreign-key>
            <foreign-key relationship="referent" primarykey="Lady Gaga"/>
        </foreign-keys>
    </entity>

</entities>
