<?xml version="1.0" encoding="utf-8"?>
			<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8" ></meta>
        <title>mesos/package.scala</title>
        <script type="text/javascript" src="../jquery-all.js"></script>
        <script type="text/javascript" src="../linked.js"></script>
        <link rel="stylesheet" type="text/css" href="../style.css" title="Style"></link>
    </head>
    <body>
        <pre>
<span class="keyword">package</span> deploylib

<span class="keyword">import</span> ec2._
<span class="keyword">import</span> rcluster._
<span class="keyword">import</span> edu.berkeley.cs.avro.runtime._
<span class="keyword">import</span> edu.berkeley.cs.scads.comm._

<span class="keyword">import</span> java.io.File

<span class="keyword">package</span> <span class="keyword">object</span> <a title="object deploylib.mesos.package" id="9746">mesos</a> <span title="ScalaObject" class="delimiter">{</span>
  <span class="keyword">implicit</span> <span class="keyword">def</span> <a title="implicit deploylib.mesos.package.toFile : (str: String)java.io.File" id="9878">toFile</a><span class="delimiter">(</span><a title="String" id="52693">str</a>: <span title="String">String</span><span class="delimiter">)</span> = <span title="java.io.File" class="keyword">new</span> java.io.<span title="java.io.File">File</span><span class="delimiter">(</span><a href="#52693" title="String">str</a><span class="delimiter">)</span>

  <span class="keyword">def</span> <a title="=&gt; Array[java.lang.String]" id="9879">classpath</a> = <span title="object java.lang.System">System</span>.<span title="(x$1: java.lang.String)java.lang.String">getProperty</span><span class="delimiter">(</span><span title="java.lang.String(&quot;java.class.path&quot;)" class="string">&quot;java.class.path&quot;</span><span class="delimiter">)</span>.<span title="(x$1: java.lang.String)Array[java.lang.String]">split</span><span title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]" class="delimiter">(</span><span title="java.lang.String(&quot;:&quot;)" class="string">&quot;:&quot;</span><span class="delimiter">)</span>.<span title="(p: java.lang.String =&gt; Boolean)Array[java.lang.String]">filter</span><span class="delimiter">(</span><a href="#82441" title="java.lang.String">_</a> <span title="(x$1: java.lang.String)Boolean">endsWith</span> <span title="java.lang.String(&quot;jar&quot;)" class="string">&quot;jar&quot;</span><span class="delimiter">)</span>
  <span class="keyword">def</span> <a title="=&gt; Seq[deploylib.mesos.S3CachedJar]" id="9880">s3Classpath</a> = <a href="#9879" title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">classpath</a>.<span title="(f: java.lang.String =&gt; deploylib.mesos.S3CachedJar)(implicit bf: scala.collection.generic.CanBuildFrom[Array[java.lang.String],deploylib.mesos.S3CachedJar,Array[deploylib.mesos.S3CachedJar]])Array[deploylib.mesos.S3CachedJar]">map</span><span title="(xs: Array[deploylib.mesos.S3CachedJar])scala.collection.mutable.ArrayOps[deploylib.mesos.S3CachedJar]" class="delimiter">(</span><a title="java.lang.String" id="82893">f</a> =&gt; <a href="Messages.scala.html#53188" title="(url: String)deploylib.mesos.S3CachedJar">S3CachedJar</a><span class="delimiter">(</span><a href="../ec2/s3cache.scala.html#9570" title="object deploylib.ec2.S3Cache">S3Cache</a>.<a href="../ec2/s3cache.scala.html#48146" title="(file: java.io.File)String">getCacheUrl</a><span class="delimiter">(</span><span title="java.io.File" class="keyword">new</span> <span title="java.io.File">File</span><span class="delimiter">(</span><a href="#82893" title="java.lang.String">f</a><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; Seq[deploylib.mesos.S3CachedJar]">toSeq</span>
  <span class="keyword">def</span> <a title="=&gt; String" id="9881">codeS3Classpath</a> = <a href="#9880" title="=&gt; Seq[deploylib.mesos.S3CachedJar]">s3Classpath</a>.<span title="(f: deploylib.mesos.S3CachedJar =&gt; String)(implicit bf: scala.collection.generic.CanBuildFrom[Seq[deploylib.mesos.S3CachedJar],String,Seq[String]])Seq[String]">map</span><span title="scala.collection.generic.CanBuildFrom[scala.collection.Seq.Coll,String,Seq[String]]" class="delimiter">(</span><a title="deploylib.mesos.S3CachedJar" id="83066">j</a> =&gt; <span title="implicit scala.Predef.augmentString : (x: String)scala.collection.immutable.StringOps" class="string">&quot;&quot;&quot;S3CachedJar(&quot;%s&quot;)&quot;&quot;&quot;</span>.<span title="(args: Any*)String">format</span><span class="delimiter">(</span><a href="#83066" title="deploylib.mesos.S3CachedJar">j</a>.<a href="Messages.scala.html#53190" title="=&gt; String">url</a><span class="delimiter">)</span><span class="delimiter">)</span>.<span title="=&gt; List[String]">toList</span>.<span title="()String">toString</span>

  <span class="keyword">def</span> <a title="=&gt; Seq[deploylib.mesos.ServerSideJar]" id="9882">workClasspath</a> = <span class="delimiter">{</span>
    <a href="#9879" title="(xs: Array[java.lang.String])scala.collection.mutable.ArrayOps[java.lang.String]">classpath</a>.<span title="(f: java.lang.String =&gt; deploylib.mesos.ServerSideJar)(implicit bf: scala.collection.generic.CanBuildFrom[Array[java.lang.String],deploylib.mesos.ServerSideJar,Array[deploylib.mesos.ServerSideJar]])Array[deploylib.mesos.ServerSideJar]">map</span><span title="(xs: Array[deploylib.mesos.ServerSideJar])scala.collection.mutable.ArrayOps[deploylib.mesos.ServerSideJar]" class="delimiter">(</span><a title="java.lang.String" id="83542">jar</a> =&gt; <span class="delimiter">{</span>
      <span class="keyword">val</span> <a title="java.io.File" id="83543">cacheLocation</a> = <a href="../rcluster/NodeObjects.scala.html#9760" title="object deploylib.rcluster.r2">r2</a>.<a href="../rcluster/RCluster.scala.html#83558" title="(localFile: java.io.File)java.io.File">cacheFile</a><span class="delimiter">(</span><a href="#9878" title="implicit deploylib.mesos.package.toFile : (str: String)java.io.File">jar</a><span class="delimiter">)</span>
      <a href="Messages.scala.html#65578" title="(path: String)deploylib.mesos.ServerSideJar">ServerSideJar</a><span class="delimiter">(</span><a href="#83543" title="java.io.File">cacheLocation</a>.<span title="()java.lang.String">getCanonicalPath</span><span class="delimiter">)</span>
    <span class="delimiter">}</span><span class="delimiter">)</span>.<span title="=&gt; Seq[deploylib.mesos.ServerSideJar]">toSeq</span>
  <span class="delimiter">}</span>

  <span class="keyword">implicit</span> <span class="keyword">object</span> <a title="object deploylib.mesos.package.MsgHandler" id="9883">MsgHandler</a> <span title="ScalaObject" class="keyword">extends</span> edu.berkeley.cs.scads.comm.<span title="edu.berkeley.cs.scads.comm.ServiceRegistry[deploylib.mesos.Message]">ServiceRegistry</span><span class="delimiter">[</span>Message<span class="delimiter">]</span>
<span class="delimiter">}</span>

        </pre>
    </body>
</html>